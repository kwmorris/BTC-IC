<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0073)http://www.controlloop.co.za/Articles/Case_History_64/case_history_64.htm -->
<HTML><HEAD><TITLE>Case History 64</TITLE>
<META http-equiv=Content-Type content="text/html; charset=ISO-8859-1">
<META content="MSHTML 6.00.2600.0" name=GENERATOR>
<SCRIPT language=JavaScript src="Case History 64_files/menu.js"></SCRIPT>

<SCRIPT language=JavaScript>
<!--
var controlloop = new MenuBar("controlloop",0,2,0,0,1,1,0,"solid","#CCCCCC","#CCCCCC","#999999","Verdana,Tahoma,Arial,Helvetica",12,"normal","normal","#000000","#FFFFFF","");
var m1_controlloop = new Menu("Home",127,100,"../../default.htm");
controlloop.addMenu(m1_controlloop);
var m2_controlloop = new Menu("Training",127,100,"../../Training/training.htm");
controlloop.addMenu(m2_controlloop);
var m3_controlloop = new Menu("Consulting",127,100,"../../Consulting/consulting.htm");
controlloop.addMenu(m3_controlloop);
var m4_controlloop = new Menu("Protuner",127,100,"../../Protuner/protuner.htm");
controlloop.addMenu(m4_controlloop);
var m5_controlloop = new Menu("Contact us",127,100,"../../Contact_us/contact_us.htm");
controlloop.addMenu(m5_controlloop);
var m6_controlloop = new Menu("Articles",130,100,"../../Articles/articles.htm");
controlloop.addMenu(m6_controlloop);
//-->
</SCRIPT>

<SCRIPT>
<!--
function F_loadRollover(){} function F_roll(){}
//-->
</SCRIPT>

<SCRIPT language=JavaScript1.2 src="Case History 64_files/rollover.js"></SCRIPT>
</HEAD>
<BODY text=#000000 vLink=#990000 link=#cc0000 bgColor=#ffffff leftMargin=0 
topMargin=0 MARGINHEIGHT="0" MARGINWIDTH="0">
<SCRIPT language=JavaScript><!--
controlloop.start();
//--></SCRIPT>

<CENTER>
<TABLE cellSpacing=0 cellPadding=0 width=816 border=0>
  <TBODY>
  <TR vAlign=top align=left>
    <TD vAlign=top align=left width=765 colSpan=5 height=77><IMG id=Picture83 
      height=77 src="Case History 64_files/banneroct2002.jpg" width=765 
    border=0></TD>
    <TD colSpan=2></TD></TR>
  <TR vAlign=top align=left>
    <TD width=20 height=7><IMG height=1 
      src="Case History 64_files/clearpixel.gif" width=20 border=0></TD>
    <TD width=30><IMG height=1 src="Case History 64_files/clearpixel.gif" 
      width=30 border=0></TD>
    <TD width=702><IMG height=1 src="Case History 64_files/clearpixel.gif" 
      width=702 border=0></TD>
    <TD width=10><IMG height=1 src="Case History 64_files/clearpixel.gif" 
      width=10 border=0></TD>
    <TD width=3><IMG height=1 src="Case History 64_files/clearpixel.gif" 
      width=3 border=0></TD>
    <TD width=1><IMG height=1 src="Case History 64_files/clearpixel.gif" 
      width=1 border=0></TD>
    <TD width=50><IMG height=1 src="Case History 64_files/clearpixel.gif" 
      width=50 border=0></TD></TR>
  <TR vAlign=top align=left>
    <TD width=766 colSpan=6 height=24><!--<IMG ID="DynamicMenu2501" HEIGHT=24 WIDTH=766 SRC="../../a_blank.gif" BORDER=0 ALT="DynamicMenu2 5.0">
                #DM2_controlloop# 1:coolPost:1--><NOLAYER>
      <DIV id=MBposcontrolloop 
      style="VISIBILITY: hidden; WIDTH: 766px; HEIGHT: 24px"></DIV></NOLAYER><ILAYER 
      id=MBposcontrolloopL VISIBILITY="hide" WIDTH="766" HEIGHT="24" 
      Z-INDEX="0"></ILAYER></TD>
    <TD></TD></TR>
  <TR vAlign=top align=left>
    <TD colSpan=7 height=11></TD></TR>
  <TR vAlign=top align=left>
    <TD colSpan=2></TD>
    <TD width=712 colSpan=2>
      <P><B><FONT face=Verdana,Tahoma,Arial,Helvetica color=#cc0000>Control Loop 
      Case History 64</FONT>
      <P><FONT face=Verdana,Tahoma,Arial,Helvetica>Control problem in an 
      ammonium nitrate prilling plant</FONT></B> 
      <P><FONT face=Verdana,Tahoma,Arial,Helvetica size=-1>A note and an 
      invitation from Michael Brown:<BR>I have been writing these articles on a 
      monthly basis for over 6 years, and although I really enjoy sharing my 
      experience and knowledge with my readers it sometimes gets quite difficult 
      to try and produce articles that have something of new interest in 
      them.&nbsp; I am therefore inviting readers to send me suitable articles 
      for publication of interesting experiences they may have encountered 
      themselves whilst optimising processes, or in finding solutions to their 
      own control problems.&nbsp; 
      <P>This time we are publishing a very interesting article submitted by Mr. 
      Melvin Jones who graduated from the University of Pretoria as a chemical 
      engineer.&nbsp; He has a very keen interest in process control and 
      optimisation, and is currently completing a Master's degree in chemical 
      process control.&nbsp; In his professional capacity he is a process 
      engineer on an ammonium nitrate production facility, concentrating his 
      efforts on improving the controllability of the prilling 
      section.<BR><BR><B>Concentration Control for Inferential 
      Measurement<BR></B><I>Synopsis<BR></I>At an ammonium nitrate prilling 
      plant the control of the concentration of a side stream, for use in 
      inferential measurement, is of critical importance. By making use of the 
      Protuner environment, our team were able to decrease the inherent lag in 
      the system by more than 50%, as well as dramatically tighten the control 
      of the system. All this was achieved in spite of the inherent difficulties 
      created by the rapid solidification of ammonium nitrate at static control 
      points. The techniques applied in solving these problems can easily be 
      applied to other control loops, making the learning a vital tool in the 
      control engineer's arsenal.<BR><BR><I>Introduction<BR></I>In the 
      production of Porous Prill using the TOPAN technology, the tight control 
      of reaction parameters is critically important. One of these reaction 
      parameters is the pH. The problem is that the highly corrosive nature of 
      the reaction solution makes the direct measurement of the pH impossible. 
      In order to measure the pH, a diluted solution is maintained at 50%, and 
      the measurement is used to infer the pH of the corrosive solution. The 
      tight control of the concentration of the diluted solution is thus 
      critical, and due to several control problems proved difficult. The 
      control of the system was evaluated using the Protuner software, and the 
      results and conclusions are presented.
      <P><I>Background<BR></I>At the site, ammonium nitrate porous prill is 
      produced using the TOPAN technology. This process involves a series of 
      reaction vessels, the contents of which need to be maintained at a 
      constant pH. However, the reacting media is too corrosive to allow the 
      direct measurement of the pH, and as such, an inferential technique is 
      used. This involves diluting the reacting solution with cold water, and 
      forming a dilute 50% mixture. The concentration of the diluted mixture is 
      controlled using only temperature measurement. <BR>The temperature of the 
      reaction mixture, as well as the water, is measured. These readings are 
      used to calculate the required temperature of the mixture to maintain a 
      50% concentration. The temperature of the diluted mixture is controlled 
      using the flow of reaction mixture, while the cold water flow remains 
      wild. Since the variation in reaction mixture concentration is relatively 
      small, the final temperature gives a good indication of the concentration 
      of the mixture.
      <P><I>Experimental<BR></I>The system, as explained above, has historically 
      been difficult to control. In August of 2001 the plant purchased a 
      Protuner control loop analytical and tuning package.&nbsp; The step 
      testing and system models generated improved the understanding of the 
      system. Changes were then made to the physical system to improve the 
      controllability of the system as a whole.
      <P><I>Results and Discussion<BR></I>Figure 1 shows the recording made of 
      the original system response.</FONT>
      <P><B><FONT face=Verdana,Tahoma,Arial,Helvetica size=-2>Figure 
1</FONT></B>
      <P>
      <DIV align=center>
      <TABLE cellSpacing=0 cellPadding=0 width=550 border=0>
        <TBODY>
        <TR>
          <TD><IMG id=Picture69 height=398 alt="Figure 1" 
            src="Case History 64_files/cashis64fig1.gif" width=550 
        border=0></TD></TR></TBODY></TABLE></DIV>
      <P><BR><FONT face=Verdana,Tahoma,Arial,Helvetica size=-1>Only two steps 
      are shown to highlight the response of the system, one in the positive 
      direction and one in the negative direction. Note that the valve is 
      reverse acting, with a decrease in valve position corresponding to an 
      increase in the ANS flow. Also note the very different settling times 
      between an increase and a decrease in the settling time.
      <P>When the system was first evaluated for response times, the time to 
      steady state for a positive change (in valve position) was roughly 600 
      seconds, while a negative change settled in less than 200 seconds. While 
      these settling times are in themselves not very long, the total retention 
      time in the mixing vessel is less than 10 seconds.
      <P>By making use of the controller settings suggested by the above loop 
      recording, very poor control was achieved. It is thought that due to the 
      nature of ANS, i.e. very likely to fudge and solidify, a slow acting valve 
      was likely to suffer from a gradual build up of product around the outlet 
      of the valve. In order to attempt to prevent this, the gain on the 
      controller was dramatically increased, creating a situation where the 
      valve bounces around, preventing fudging. While this improved the control, 
      the variation around the setpoint was still unacceptably high. 
      <P>By referring to figure 1, one notices that the system lag is at least 
      20 times greater than the inherent system hold-up. This suggests that 
      there is an additional lag that is not obvious in the system that is 
      creating a sluggish response. Using this information, it was found that 
      the temperature probe on the final mixture was inserted in a thermal well. 
      This additional temperature lag could account for the systems additional 
      lag.
      <P>Figure 2 shows the system response after the thermal well had been 
      removed.</FONT>
      <P><B><FONT face=Verdana,Tahoma,Arial,Helvetica size=-2>Figure 2
      <P></FONT></B>
      <DIV align=center>
      <TABLE cellSpacing=0 cellPadding=0 width=550 border=0>
        <TBODY>
        <TR>
          <TD><IMG id=Picture70 height=402 alt="Figure 2" 
            src="Case History 64_files/cashis64fig2.gif" width=550 
        border=0></TD></TR></TBODY></TABLE></DIV>
      <P><BR><FONT face=Verdana,Tahoma,Arial,Helvetica size=-1>In this figure, 
      one can see that the positive step has stabilised in roughly 70 seconds, 
      while the negative step stabilises in 250 seconds. Thus in both cases the 
      lag duration has been more than halved. Using these results, the loop 
      becomes much more responsive, but still does not behave as it should. Once 
      again, it is suspected that the solidification around the valve outlet, 
      due to insufficient valve movement could be the main contributing factor.
      <P>Finally, in order to "destabilise" the loop slightly, derivative 
      control was added. This is not uncommon for temperature control loops, and 
      served to add the valve movement required to prevent solidification. Thus, 
      by making use of the broad range of tools available, it was possible to 
      dramatically tighten the control of this loop.
      <P>By comparing figures 1 and 2, one notices that in both instances the 
      loops are not symmetrical to an increase and a decrease in the valve 
      position. While at first glance this may appear strange, it is an entirely 
      expected phenomenon. Since the process has the capability to add energy, 
      i.e. via a very hot stream, but only a limited capability to remove 
      energy, i.e. via heat loss and the wild stream, the system responds much 
      quicker to a positive change than to a negative one. This does complicate 
      the tuning, since one needs to tune either for a positive or a negative 
      scenario. Usually one would do both, and then tune for some compromise 
      between the two, thereby ensuring the tightest possible control.
      <P><I>Conclusions<BR></I>By making use of the Protuner software, valuable 
      information beyond simple controller settings can be obtained. Since the 
      software provides a clear a formal environment to evaluate the responses 
      of a control loop, one can often detect faults in both the physical set-up 
      and the controller logic.<BR>On the prilling plant it was possible to 
      dramatically tighten the control of a critical loop by determining the 
      following factors using the software:
      <P>* The response of the loop was slower than expected. The time to steady 
      state of the system was an order of magnitude larger than the inherent lag 
      in the system, suggesting an additional source of thermal lag.
      <P>* The response of the system was non-linear. While this situation 
      cannot be addressed using the current system, it does provide valuable 
      information into the final determination of the controller settings.
      <P>* The nature of the product handled resulted in loss of flow should the 
      valve remain stationary for extended periods. By introducing a known 
      variability/instability it was possible to improve the control of the 
      system.
      <P>From the above discussion it is clear that by combining the tuning 
      capabilities with the friendly evaluation environment it is possible to 
      make very meaningful improvements to a control loop. It is also clear that 
      while the software delivers very powerful results, the correct application 
      dramatically improves it's usefulness.
      <P></FONT><A 
      href="index.html"><FONT 
      face=Verdana,Tahoma,Arial,Helvetica size=-1>Index to articles</FONT></A>
      <P><B><FONT face=Verdana,Tahoma,Arial,Helvetica color=#000000 
      size=-2>Michael Brown is a specialist in control loop optimisation, with 
      many years of experience in process control instrumentation. His main 
      activities are consulting, and teaching practical control loop analysis 
      and optimisation. He gives training courses which can be held in clients' 
      plants, where students can have the added benefit of practising on live 
      loops. His work takes him to plants all over South Africa, and also to 
      other countries. He can be contacted at: <BR>Tel (011) 486-0567<BR>Fax 
      (011) 646-2385<BR>E-Mail: </FONT><FONT face=Verdana,Tahoma,Arial,Helvetica 
      size=-2></FONT></B><A href="mailto:michael.brown@pixie.co.za"><B><FONT 
      face=Verdana,Tahoma,Arial,Helvetica 
      size=-2>michael.brown@pixie.co.za</FONT></B></A><BR>&nbsp;</P></TD>
    <TD colSpan=3></TD></TR>
  <TR vAlign=top align=left>
    <TD colSpan=7 height=19></TD></TR>
  <TR vAlign=top align=left>
    <TD height=19></TD>
    <TD width=732 colSpan=2>
      <TABLE id=NavigationBar1 cellSpacing=0 cellPadding=1 width=732 border=0>
        <TBODY>
        <TR vAlign=top align=left>
          <TD width=120><A onmouseover="F_roll('NavigationButton211',1)" 
            onmouseout="F_roll('NavigationButton211',0)" 
            href="http://www.controlloop.co.za/default.htm"><IMG 
            id=NavigationButton211 height=19 alt=Home 
            src="Case History 64_files/Home_NGUIButton.gif" width=120 
            onload="F_loadRollover(this,'Home_NRGUIButtonOver.GIF')" border=0 
            name=NavigationButton211></A></TD>
          <TD width=120><A onmouseover="F_roll('NavigationButton212',1)" 
            onmouseout="F_roll('NavigationButton212',0)" 
            href="http://www.controlloop.co.za/Training/training.htm"><IMG 
            id=NavigationButton212 height=19 alt=Training 
            src="Case History 64_files/Training_NGUIButton.gif" width=120 
            onload="F_loadRollover(this,'Training_NRGUIButtonOver.GIF')" 
            border=0 name=NavigationButton212></A></TD>
          <TD width=120><A onmouseover="F_roll('NavigationButton213',1)" 
            onmouseout="F_roll('NavigationButton213',0)" 
            href="http://www.controlloop.co.za/Consulting/consulting.htm"><IMG 
            id=NavigationButton213 height=19 alt=Consulting 
            src="Case History 64_files/Consulting_NGUIButton.gif" width=120 
            onload="F_loadRollover(this,'Consulting_NRGUIButtonOver.GIF')" 
            border=0 name=NavigationButton213></A></TD>
          <TD width=120><A onmouseover="F_roll('NavigationButton214',1)" 
            onmouseout="F_roll('NavigationButton214',0)" 
            href="http://www.controlloop.co.za/Protuner/protuner.htm"><IMG 
            id=NavigationButton214 height=19 alt=Protuner 
            src="Case History 64_files/Protuner_NGUIButton.gif" width=120 
            onload="F_loadRollover(this,'Protuner_NRGUIButtonOver.GIF')" 
            border=0 name=NavigationButton214></A></TD>
          <TD width=120><A onmouseover="F_roll('NavigationButton215',1)" 
            onmouseout="F_roll('NavigationButton215',0)" 
            href="http://www.controlloop.co.za/Contact_us/contact_us.htm"><IMG 
            id=NavigationButton215 height=19 alt="Contact us" 
            src="Case History 64_files/Contact_us_NGUIButton.gif" width=120 
            onload="F_loadRollover(this,'Contact_us_NRGUIButtonOver.GIF')" 
            border=0 name=NavigationButton215></A></TD>
          <TD width=120 height=19><A 
            onmouseover="F_roll('NavigationButton216',1)" 
            onmouseout="F_roll('NavigationButton216',0)" 
            href="http://www.controlloop.co.za/Articles/articles.htm"><IMG 
            id=NavigationButton216 height=19 alt=Articles 
            src="Case History 64_files/Articles_HGUIButtonOn.gif" width=120 
            onload="F_loadRollover(this,'Articles_HRGUIButtonOnOver.GIF')" 
            border=0 name=NavigationButton216></A></TD></TR></TBODY></TABLE><!--WEBBOT bot="HTMLMarkup" startspan ALT="Site Meter" --><A 
      href="http://sm6.sitemeter.com/stats.asp?site=sm6controleng" 
      target=_top><IMG alt="Site Meter" src="Case History 64_files/meter.gif" 
      border=0></A> <!--WEBBOT bot="HTMLMarkup" Endspan --></TD>
    <TD colSpan=4></TD></TR></TBODY></TABLE></CENTER></BODY></HTML>
