<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0073)http://www.controlloop.co.za/Articles/Case_History_54/case_history_54.htm -->
<HTML><HEAD><TITLE>Case History 54</TITLE>
<META http-equiv=Content-Type content="text/html; charset=ISO-8859-1">
<META content="MSHTML 6.00.2600.0" name=GENERATOR>
<SCRIPT language=JavaScript src="Case History 54_files/menu.js"></SCRIPT>

<SCRIPT language=JavaScript>
<!--
var controlloop = new MenuBar("controlloop",0,2,0,0,1,1,0,"solid","#CCCCCC","#CCCCCC","#999999","Verdana,Tahoma,Arial,Helvetica",12,"normal","normal","#000000","#FFFFFF","");
var m1_controlloop = new Menu("Home",127,100,"../../default.htm");
controlloop.addMenu(m1_controlloop);
var m2_controlloop = new Menu("Training",127,100,"../../Training/training.htm");
controlloop.addMenu(m2_controlloop);
var m3_controlloop = new Menu("Consulting",127,100,"../../Consulting/consulting.htm");
controlloop.addMenu(m3_controlloop);
var m4_controlloop = new Menu("Protuner",127,100,"../../Protuner/protuner.htm");
controlloop.addMenu(m4_controlloop);
var m5_controlloop = new Menu("Contact us",127,100,"../../Contact_us/contact_us.htm");
controlloop.addMenu(m5_controlloop);
var m6_controlloop = new Menu("Articles",130,100,"../../Articles/articles.htm");
controlloop.addMenu(m6_controlloop);
//-->
</SCRIPT>

<SCRIPT>
<!--
function F_loadRollover(){} function F_roll(){}
//-->
</SCRIPT>

<SCRIPT language=JavaScript1.2 src="Case History 54_files/rollover.js"></SCRIPT>
</HEAD>
<BODY text=#000000 vLink=#990000 link=#cc0000 bgColor=#ffffff leftMargin=0 
topMargin=0 MARGINHEIGHT="0" MARGINWIDTH="0">
<SCRIPT language=JavaScript><!--
controlloop.start();
//--></SCRIPT>

<CENTER>
<TABLE cellSpacing=0 cellPadding=0 width=776 border=0>
  <TBODY>
  <TR vAlign=top align=left>
    <TD vAlign=top align=left width=765 colSpan=5 height=77><IMG id=Picture83 
      height=77 src="Case History 54_files/banneroct2002.jpg" width=765 
    border=0></TD>
    <TD colSpan=2></TD></TR>
  <TR vAlign=top align=left>
    <TD width=20 height=7><IMG height=1 
      src="Case History 54_files/clearpixel.gif" width=20 border=0></TD>
    <TD width=23><IMG height=1 src="Case History 54_files/clearpixel.gif" 
      width=23 border=0></TD>
    <TD width=667><IMG height=1 src="Case History 54_files/clearpixel.gif" 
      width=667 border=0></TD>
    <TD width=42><IMG height=1 src="Case History 54_files/clearpixel.gif" 
      width=42 border=0></TD>
    <TD width=13><IMG height=1 src="Case History 54_files/clearpixel.gif" 
      width=13 border=0></TD>
    <TD width=1><IMG height=1 src="Case History 54_files/clearpixel.gif" 
      width=1 border=0></TD>
    <TD width=10><IMG height=1 src="Case History 54_files/clearpixel.gif" 
      width=10 border=0></TD></TR>
  <TR vAlign=top align=left>
    <TD width=766 colSpan=6 height=24><!--<IMG ID="DynamicMenu2501" HEIGHT=24 WIDTH=766 SRC="../../a_blank.gif" BORDER=0 ALT="DynamicMenu2 5.0">
                #DM2_controlloop# 1:coolPost:1--><NOLAYER>
      <DIV id=MBposcontrolloop 
      style="VISIBILITY: hidden; WIDTH: 766px; HEIGHT: 24px"></DIV></NOLAYER><ILAYER 
      id=MBposcontrolloopL VISIBILITY="hide" WIDTH="766" HEIGHT="24" 
      Z-INDEX="0"></ILAYER></TD>
    <TD></TD></TR>
  <TR vAlign=top align=left>
    <TD colSpan=7 height=8></TD></TR>
  <TR vAlign=top align=left>
    <TD colSpan=2></TD>
    <TD width=667>
      <P align=left><B><FONT face=Verdana,Tahoma,Arial,Helvetica 
      color=#cc0000>Control Loop Case History 54<BR><BR></FONT><FONT 
      face=Verdana,Tahoma,Arial,Helvetica color=#000000 size=-1>Unusual loops in 
      a chemical plant</FONT></B><FONT face=Verdana,Tahoma,Arial,Helvetica 
      color=#000000 size=-1>
      <P align=left>During in-plant courses on practical process control the 
      most interesting part of the course is always the last few days which are 
      spent optimising live loops in the actual plant. Even with a powerful 
      simulator, playing with loops in the classroom is always unreal, and 
      certainly the more experienced and "battle hardened" control practitioners 
      are always suspicious of "theory" and slick demonstrations. Therefore when 
      we go out into the field and show how the things we teach actually do 
      apply to real valves and processes, and that it is possible to perform 
      truly scientific tuning, it causes much excitement and happiness to both 
      the I&amp;C people and to the process people whom we urge to take part in 
      the training. (Optimisation is a multi-discipline discipline. You must 
      have active participation of personnel from I&amp;C, process, and 
      operational staff).
      <P align=left>In a recent course in a large chemical processing plant in 
      South Africa, it was decided for the practical part of the training to 
      optimise all the major loops on a particular unit in the plant. This was 
      performed over a three day period, and proved highly successful. A total 
      of approximately 15 loops were optimised. The performance of 14 of these 
      loops was dramatically improved, with typical response times to load or 
      setpoint changes being between 6 and 40 times faster. Only one loop 
      remained a problem. This was a bottom level control on a distillation 
      column with a very strange response which exhibited a large negative lead, 
      and which was often subjected to fast load disturbances.
      <P align=left>A negative lead on a level is a well known phenomena on 
      boiler drum level control ("the shrink and swell effect"), but it is 
      unusual to find it on a distillation column. When the controller output 
      was stepped down by 10%, one would expect the level to start rising. 
      However as can be seen in <B>Figure 1</B> the level first dropped 
      considerably, before starting to ramp up. In all it took approximately 15 
      minutes before it actually got back to the original level where it was 
      before the step was made.</FONT><FONT face=Verdana,Tahoma,Arial,Helvetica 
      color=#000000 size=-2><B> 
      <P align=center></B></FONT>
      <DIV align=center>
      <TABLE cellSpacing=0 cellPadding=0 width=530 border=0>
        <TBODY>
        <TR>
          <TD><IMG id=Picture48 height=356 alt="Figure 1" 
            src="Case History 54_files/cashis54-1.gif" width=530 
        border=0></TD></TR></TBODY></TABLE></DIV><FONT 
      face=Verdana,Tahoma,Arial,Helvetica color=#000000 size=-2><B>
      <DIV align=center>Figure 1</B></FONT></DIV>
      <P align=left><FONT face=Verdana,Tahoma,Arial,Helvetica color=#000000 
      size=-1>Unfortunately feedback control is not good at dealing with such a 
      phenomenon, and one has to treat the negative part of the response as 
      deadtime in the tuning. As has been mentioned in previous articles, the 
      only way of dealing with long process deadtime on a normal PID controller 
      is to detune the controller accordingly. In a case like this, a controller 
      detuned to cope with 15 minutes of deadtime is not capable of catching 
      fast and often frequent load changes.
      <P align=left>The plant is now investigating the control strategy to try 
      and find some alternative method of controlling this level. If one can 
      measure the load changes, then a good method will be feedforward control.
      <P align=left>Another loop which displayed an interesting response is 
      shown in the open loop test in <B>Figure 2</B>. This is a gas flow where 
      the response in the positive direction of valve opening was far faster 
      than in the opposite direction. A response with poor "mirror image" can be 
      found on certain processes like temperature, but is unusual in flow. The 
      more likely cause here is that there was a problem with the valve. An 
      examination at the valve in the field proved that that this was indeed the 
      case. The valve had an air-to-close response, and opened quickly under the 
      return spring action. However it moved slowly when moving in the reverse 
      direction under air pressure. It was established that the cause of this 
      was insufficient air pressure from the air pressure regulator feeding the 
      positioner.
      <P align=center></FONT>
      <DIV align=center>
      <TABLE cellSpacing=0 cellPadding=0 width=523 border=0>
        <TBODY>
        <TR>
          <TD><IMG id=Picture49 height=349 alt="Figure 2" 
            src="Case History 54_files/cashis54-2.gif" width=523 
        border=0></TD></TR></TBODY></TABLE></DIV>
      <DIV align=center><B><FONT face=Verdana,Tahoma,Arial,Helvetica 
      color=#000000 size=-2>Figure 2</FONT></B></DIV>
      <P align=left><FONT face=Verdana,Tahoma,Arial,Helvetica color=#000000 
      size=-1>This was quickly rectified and the vastly improved response can be 
      seen in <B>Figure 3</B>. It can also be seen from the figure that the 
      valve is very oversized, as the step change in process variable resulting 
      from a step change in controller output is about 4 times larger than the 
      latter. (See remarks on process gain below)
      <P align=center></FONT>
      <DIV align=center>
      <TABLE cellSpacing=0 cellPadding=0 width=520 border=0>
        <TBODY>
        <TR>
          <TD><IMG id=Picture50 height=347 alt="Figure 3" 
            src="Case History 54_files/cashis54-3.gif" width=520 
        border=0></TD></TR></TBODY></TABLE></DIV>
      <DIV align=center><B><FONT face=Verdana,Tahoma,Arial,Helvetica 
      color=#000000 size=-2>Figure 3</FONT></B></DIV>
      <P align=left><FONT face=Verdana,Tahoma,Arial,Helvetica color=#000000 
      size=-1>Another unusual loop shown in the open loop test illustrated in 
      <B>Figure 4</B>. The loop is a critical pressure control upstream of a gas 
      separator. Fast control is required, as the loop needs to be faster than 
      several other loops which can interact with it. If it cannot react faster 
      than the other loops, the total interactive effects are quite bad, and the 
      process can be adversely effected. It had never operated properly and 
      keeping the pressure constant was a major problem for the operators.
      <P align=center></FONT>
      <DIV align=center>
      <TABLE cellSpacing=0 cellPadding=0 width=519 border=0>
        <TBODY>
        <TR>
          <TD><IMG id=Picture51 height=348 alt="Figure 4" 
            src="Case History 54_files/cashis54-4.gif" width=519 
        border=0></TD></TR></TBODY></TABLE></DIV>
      <DIV align=center><B><FONT face=Verdana,Tahoma,Arial,Helvetica 
      color=#000000 size=-2>Figure 4</FONT></B></DIV>
      <P align=left><FONT face=Verdana,Tahoma,Arial,Helvetica color=#000000 
      size=-1>Process gain (or open loop gain) has been extensively discussed in 
      previous articles. To summarise, for a self regulating process it is the 
      ratio of the amplitude of the change appearing at the output of a process 
      to the amplitude of a step change made on the input of the process. 
      Ideally this ratio should be about unity. If it is greater than one, it 
      usually means that the valve is oversized, and if less than one, it 
      generally means that the transmitter has too wide a span. Good engineering 
      practice dictates that the process gain should lie in a range between 0.5 
      and 2.0.
      <P align=left>In this case as can be seen in <B>Figure 4 </B>, the change 
      in controller output is approximately 10 times bigger than the 
      corresponding change in pressure. This means that the loop has a process 
      again of 0.1, which is extremely small for good control. Such a small 
      process gain means that the proportional gain in the controller must be 
      excessively increased in order to attain the combined loop gain necessary 
      to achieve a reasonable fast process response to changes in error.
      <P align=left>The Protuner loop analysis's report can be seen in <B>Figure 
      5</B>. The controller proportional gains shown in the tuning are 
      absolutely staggering. In over 15 years working in this field the author 
      has never seen controller gains as high as this. It is pretty close to 
      on/off control.
      <P align=center></FONT>
      <DIV align=center>
      <TABLE cellSpacing=0 cellPadding=0 width=520 border=0>
        <TBODY>
        <TR>
          <TD><IMG id=Picture52 height=348 alt="Figure 5" 
            src="Case History 54_files/cashis54-5.gif" width=520 
        border=0></TD></TR></TBODY></TABLE></DIV>
      <DIV align=center><B><FONT face=Verdana,Tahoma,Arial,Helvetica 
      color=#000000 size=-2>Figure 5</FONT></B></DIV>
      <P align=left><FONT face=Verdana,Tahoma,Arial,Helvetica color=#000000 
      size=-1>It's interesting to note how the tuning is derived by the 
      Protuner. It is based on a full frequency response analysis derived 
      mathematically from a step response, and uses not only extremely sound 
      mathematical principles, but also a "tree of knowledge" laid out by one of 
      the world's leading experts on loop optimisation. Typically in the "loop 
      signature" given in the bottom left hand side of the analysis report, one 
      can see important information relating to the dynamics of the process. In 
      this case the deadtime is 9.1 seconds and the dominant process time 
      constant is 112 seconds. Where the deadtime is less than a tenth of the 
      time constant the process tends to take on the characteristics of a pure 
      lag process, wherein the phase lag never reaches -180°. Thus the loop 
      cannot become unstable. This fact is taken into account in the tuning, and 
      the Protuner will give a more responsive tuning.
      <P align=left>Initially one's reaction to such a tuning is that it is 
      crazy. However there is seldom any harm in trying tuning to see how it 
      works, and so a proportional gain of 45, and an integral of 1.5 
      minutes/repeat were inserted in the controller, and a setpoint change 
      made. The general expectation in the control room was that the loop would 
      go wildly unstable. However when placed in automatic, the tuning worked 
      amazingly well, and the response to a step change in setpoint was 
      excellent. According to the process engineers this was the first time ever 
      that the loop has worked properly in automatic. They were extremely 
      impressed and very happy that a major control problem had been overcome. 
      For interest's sake the original "as-found" tuning in the controller was a 
      proportional gain of 1.1, and an integral of 0.5 minutes/repeat. Little 
      wonder the control response was so slow.
      <P align=left>In actual fact, even though the tuning gave excellent 
      control, it would be very advisable to respan the pressure transmitter to 
      a very much smaller span, in order to increase the process gain. This 
      would allow the controller gain to be reduced. A high gain in a 
      controller, although often necessary, does generally result in much more 
      valve action, and will tend to shorten the life of the mechanical 
      equipment.</FONT>
      <P align=left><A 
	      href="index.html"><FONT 
      face=Verdana,Tahoma,Arial,Helvetica size=-1>Index to articles</FONT></A>
      <P align=left><B><FONT face=Verdana,Tahoma,Arial,Helvetica color=#000000 
      size=-2>Michael Brown is a specialist in control loop optimisation, with 
      many years of experience in process control instrumentation. His main 
      activities are consulting, and teaching practical control loop analysis 
      and optimisation. He gives training courses which can be held in clients' 
      plants, where students can have the added benefit of practising on live 
      loops. His work takes him to plants all over South Africa, and also to 
      other countries. He can be contacted at: <BR>Tel +27 11 486-0567 Fax +27 
      11 646-2385<BR>E-Mail:</FONT></B><A 
      href="mailto:michael.brown@pixie.co.za"><B> <FONT 
      face=Verdana,Tahoma,Arial,Helvetica color=#000000 size=-2></FONT><FONT 
      face=Verdana,Tahoma,Arial,Helvetica 
      size=-2>michael.brown@pixie</FONT></B></A><B><FONT 
      face=Verdana,Tahoma,Arial,Helvetica size=-2></FONT> </B><A 
      href="mailto:michael.brown@pixie.co.za"><B><FONT 
      face=Verdana,Tahoma,Arial,Helvetica 
      size=-2>.co.za</FONT></B></A><B></B></P></TD>
    <TD colSpan=4></TD></TR>
  <TR vAlign=top align=left>
    <TD colSpan=7 height=19></TD></TR>
  <TR vAlign=top align=left>
    <TD height=19></TD>
    <TD width=732 colSpan=3>
      <TABLE id=NavigationBar1 cellSpacing=0 cellPadding=1 width=732 border=0>
        <TBODY>
        <TR vAlign=top align=left>
          <TD width=120><A onmouseover="F_roll('NavigationButton91',1)" 
            onmouseout="F_roll('NavigationButton91',0)" 
            href="http://www.controlloop.co.za/default.htm"><IMG 
            id=NavigationButton91 height=19 alt=Home 
            src="Case History 54_files/Home_NGUIButton.gif" width=120 
            onload="F_loadRollover(this,'Home_NRGUIButtonOver.GIF')" border=0 
            name=NavigationButton91></A></TD>
          <TD width=120><A onmouseover="F_roll('NavigationButton92',1)" 
            onmouseout="F_roll('NavigationButton92',0)" 
            href="http://www.controlloop.co.za/Training/training.htm"><IMG 
            id=NavigationButton92 height=19 alt=Training 
            src="Case History 54_files/Training_NGUIButton.gif" width=120 
            onload="F_loadRollover(this,'Training_NRGUIButtonOver.GIF')" 
            border=0 name=NavigationButton92></A></TD>
          <TD width=120><A onmouseover="F_roll('NavigationButton93',1)" 
            onmouseout="F_roll('NavigationButton93',0)" 
            href="http://www.controlloop.co.za/Consulting/consulting.htm"><IMG 
            id=NavigationButton93 height=19 alt=Consulting 
            src="Case History 54_files/Consulting_NGUIButton.gif" width=120 
            onload="F_loadRollover(this,'Consulting_NRGUIButtonOver.GIF')" 
            border=0 name=NavigationButton93></A></TD>
          <TD width=120><A onmouseover="F_roll('NavigationButton94',1)" 
            onmouseout="F_roll('NavigationButton94',0)" 
            href="http://www.controlloop.co.za/Protuner/protuner.htm"><IMG 
            id=NavigationButton94 height=19 alt=Protuner 
            src="Case History 54_files/Protuner_NGUIButton.gif" width=120 
            onload="F_loadRollover(this,'Protuner_NRGUIButtonOver.GIF')" 
            border=0 name=NavigationButton94></A></TD>
          <TD width=120><A onmouseover="F_roll('NavigationButton95',1)" 
            onmouseout="F_roll('NavigationButton95',0)" 
            href="http://www.controlloop.co.za/Contact_us/contact_us.htm"><IMG 
            id=NavigationButton95 height=19 alt="Contact us" 
            src="Case History 54_files/Contact_us_NGUIButton.gif" width=120 
            onload="F_loadRollover(this,'Contact_us_NRGUIButtonOver.GIF')" 
            border=0 name=NavigationButton95></A></TD>
          <TD width=120 height=19><A 
            onmouseover="F_roll('NavigationButton96',1)" 
            onmouseout="F_roll('NavigationButton96',0)" 
            href="http://www.controlloop.co.za/Articles/articles.htm"><IMG 
            id=NavigationButton96 height=19 alt=Articles 
            src="Case History 54_files/Articles_HGUIButtonOn.gif" width=120 
            onload="F_loadRollover(this,'Articles_HRGUIButtonOnOver.GIF')" 
            border=0 name=NavigationButton96></A></TD></TR></TBODY></TABLE><!--WEBBOT bot="HTMLMarkup" startspan ALT="Site Meter" --><A 
      href="http://sm6.sitemeter.com/stats.asp?site=sm6controleng" 
      target=_top><IMG alt="Site Meter" src="Case History 54_files/meter.gif" 
      border=0></A> <!--WEBBOT bot="HTMLMarkup" Endspan --></TD>
    <TD colSpan=3></TD></TR></TBODY></TABLE></CENTER></BODY></HTML>
