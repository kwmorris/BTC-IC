<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0079)http://www.controlloop.co.za/Articles/Loop_signatures_18/loop_signatures_18.htm -->
<HTML><HEAD><TITLE>Loop signatures 18</TITLE>
<META http-equiv=Content-Type content="text/html; charset=ISO-8859-1">
<META content="MSHTML 6.00.2600.0" name=GENERATOR>
<SCRIPT language=JavaScript src="Loop signatures 18_files/menu.js"></SCRIPT>

<SCRIPT language=JavaScript>
<!--
var controlloop = new MenuBar("controlloop",0,2,0,0,1,1,0,"solid","#CCCCCC","#CCCCCC","#999999","Verdana,Tahoma,Arial,Helvetica",12,"normal","normal","#000000","#FFFFFF","");
var m1_controlloop = new Menu("Home",127,100,"../../default.htm");
controlloop.addMenu(m1_controlloop);
var m2_controlloop = new Menu("Training",127,100,"../../Training/training.htm");
controlloop.addMenu(m2_controlloop);
var m3_controlloop = new Menu("Consulting",127,100,"../../Consulting/consulting.htm");
controlloop.addMenu(m3_controlloop);
var m4_controlloop = new Menu("Protuner",127,100,"../../Protuner/protuner.htm");
controlloop.addMenu(m4_controlloop);
var m5_controlloop = new Menu("Contact us",127,100,"../../Contact_us/contact_us.htm");
controlloop.addMenu(m5_controlloop);
var m6_controlloop = new Menu("Articles",130,100,"../../Articles/articles.htm");
controlloop.addMenu(m6_controlloop);
//-->
</SCRIPT>

<SCRIPT>
<!--
function F_loadRollover(){} function F_roll(){}
//-->
</SCRIPT>

<SCRIPT language=JavaScript1.2 
src="Loop signatures 18_files/rollover.js"></SCRIPT>
</HEAD>
<BODY text=#000000 vLink=#990000 link=#cc0000 bgColor=#ffffff leftMargin=0 
topMargin=0 MARGINHEIGHT="0" MARGINWIDTH="0">
<SCRIPT language=JavaScript><!--
controlloop.start();
//--></SCRIPT>

<CENTER>
<TABLE cellSpacing=0 cellPadding=0 width=776 border=0>
  <TBODY>
  <TR vAlign=top align=left>
    <TD vAlign=top align=left width=765 colSpan=5 height=77><IMG id=Picture83 
      height=77 src="Loop signatures 18_files/banneroct2002.jpg" width=765 
      border=0></TD>
    <TD colSpan=2></TD></TR>
  <TR vAlign=top align=left>
    <TD width=20 height=7><IMG height=1 
      src="Loop signatures 18_files/clearpixel.gif" width=20 border=0></TD>
    <TD width=23><IMG height=1 src="Loop signatures 18_files/clearpixel.gif" 
      width=23 border=0></TD>
    <TD width=681><IMG height=1 src="Loop signatures 18_files/clearpixel.gif" 
      width=681 border=0></TD>
    <TD width=28><IMG height=1 src="Loop signatures 18_files/clearpixel.gif" 
      width=28 border=0></TD>
    <TD width=13><IMG height=1 src="Loop signatures 18_files/clearpixel.gif" 
      width=13 border=0></TD>
    <TD width=1><IMG height=1 src="Loop signatures 18_files/clearpixel.gif" 
      width=1 border=0></TD>
    <TD width=10><IMG height=1 src="Loop signatures 18_files/clearpixel.gif" 
      width=10 border=0></TD></TR>
  <TR vAlign=top align=left>
    <TD width=766 colSpan=6 height=24><!--<IMG ID="DynamicMenu2501" HEIGHT=24 WIDTH=766 SRC="../../a_blank.gif" BORDER=0 ALT="DynamicMenu2 5.0">
                #DM2_controlloop# 1:coolPost:1--><NOLAYER>
      <DIV id=MBposcontrolloop 
      style="VISIBILITY: hidden; WIDTH: 766px; HEIGHT: 24px"></DIV></NOLAYER><ILAYER 
      id=MBposcontrolloopL VISIBILITY="hide" WIDTH="766" HEIGHT="24" 
      Z-INDEX="0"></ILAYER></TD>
    <TD></TD></TR>
  <TR vAlign=top align=left>
    <TD colSpan=7 height=7></TD></TR>
  <TR vAlign=top align=left>
    <TD colSpan=2></TD>
    <TD width=681>
      <P><B><FONT face=Verdana,Tahoma,Arial,Helvetica>Loop Problem Signatures No 
      18</FONT>
      <P><FONT face=Verdana,Tahoma,Arial,Helvetica size=-1>Digital controllers - 
      Part 9<BR>Integral (or reset windup)</FONT></B><FONT 
      face=Verdana,Tahoma,Arial,Helvetica size=-1>
      <P>As mentioned in an earlier article in this Loop signature series, the 
      integral or I term in the controller is a brilliant thing.&nbsp; It is an 
      extremely elegant and simple solution for eliminating offset in 
      control.&nbsp; However like everything else in this world, virtually 
      everything good has its bad side as well.&nbsp; In the case of the I term, 
      its bad feature is that it never gives up trying to get rid of offset even 
      if it cannot be eliminated.
      <P>Many of our control problems stem from the integral continuously 
      working to try and eliminate offset.&nbsp; Some examples of these are 
      stick-slip cycling on self-regulating processes and continuous cycling on 
      integrating processes with hysteresis on the valve, which have already 
      been discussed in earlier articles.&nbsp; In addition, another problem can 
      arise from the same cause, and this is known as integral, or reset windup.
      <P>Integral windup occurs when a continuous error exists which cannot be 
      eliminated.&nbsp; To take an example, imagine that an isolating valve in 
      series with the control valve is closed, and the controller is left in 
      automatic.&nbsp; At this point let us imagine that the PV (process 
      variable) goes to zero.&nbsp; The integrator in the controller will 
      immediately start integrating to try and eliminate the error.&nbsp; This 
      will result in the PD (controller's output) increasing at the ramp rate of 
      the integrator.&nbsp; As the error cannot be reduced, this will continue 
      until eventually the PD reaches a maximum limit (normally set to 20 mA in 
      most controllers).&nbsp; 
      <P>However it must be remembered that in theory, the integrator's output 
      will continue to carry on ramping for as long as the error exists.&nbsp; 
      In reality, in the old days of pneumatic and electronic analogue 
      controllers, this could only continue until a physical limit such as air 
      supply pressure, or a bus voltage, was reached. At this point it was said 
      that the integrator was "saturated" or fully "wound up".
      <P>The situation is different in a digital computer.&nbsp; The integral is 
      now not a voltage or pressure, but a number, and modern computers can deal 
      with extraordinarily high numbers.&nbsp; Therefore unless the controller 
      manufacturer does something about it, the integrator could carry on 
      virtually until the output reaches a value close to infinity.&nbsp; This 
      is illustrated in Figure 1.
      <P align=center></FONT>
      <DIV align=center>
      <TABLE cellSpacing=0 cellPadding=0 width=500 border=0>
        <TBODY>
        <TR>
          <TD><IMG id=Picture76 height=329 alt="Figure 1" 
            src="Loop signatures 18_files/loopsig18fig1.gif" width=500 
          border=0></TD></TR></TBODY></TABLE></DIV>
      <DIV align=center><B><FONT face=Verdana,Tahoma,Arial,Helvetica 
      size=-2>Figure 1</FONT></B></DIV>
      <P><FONT face=Verdana,Tahoma,Arial,Helvetica size=-1>Eventually when the 
      process is restarted and the isolating valve reopened, fluid will&nbsp; 
      flow through the fully open control valve.&nbsp; The PV will then start 
      rising towards setpoint.&nbsp; However due to the nature of an integrator, 
      the PD cannot start reducing, and hence the control valve cannot start 
      closing, before set point is reached.&nbsp; Figure 2 helps explain 
      this.&nbsp; 
      <P align=center></FONT>
      <DIV align=center>
      <TABLE cellSpacing=0 cellPadding=0 width=500 border=0>
        <TBODY>
        <TR>
          <TD><IMG id=Picture77 height=307 alt="Figure 2" 
            src="Loop signatures 18_files/loopsig18fig2.gif" width=500 
          border=0></TD></TR></TBODY></TABLE></DIV>
      <DIV align=center><B><FONT face=Verdana,Tahoma,Arial,Helvetica 
      size=-2>Figure 2</FONT></B></DIV>
      <P><FONT face=Verdana,Tahoma,Arial,Helvetica size=-1>Essentially the 
      integrator's output cannot be reduced until the error signal on its input 
      changes sign.&nbsp; This is because the integrator's output will always 
      rise as long as any positive error exists.&nbsp; If the error reduces to 
      zero, the integrator's output then remains constant.&nbsp; It can only 
      start moving down after a negative error signal occurs.&nbsp; This means 
      that the integrator can only start responding again once the PV has moved 
      through the set point.&nbsp; 
      <P>If the integrator has wound up, it means that it may take a long while 
      for the integrator's output to drop far enough to allow the PD to start 
      moving down again, and at that point it would allow the control valve to 
      also start closing.&nbsp; By this time an enormous process overshoot could 
      have occurred.&nbsp; <BR>To overcome this problem most of the controller 
      manufacturers incorporate a strategy, often referred to as "anti-reset 
      windup", to prevent the integral from winding up.&nbsp; The method used 
      varies from manufacturer to manufacturer, but most of them "freeze" the 
      integral units operation when the PD reaches low or high limits (generally 
      at 4 and 20 mA.).&nbsp; At this point the output of the integrator remains 
      constant at the last calculated value, and does not carry on winding up.
      <P>This method of anti-reset windup still does not prevent overshoots, as 
      again the integrator cannot start decreasing until the error actually 
      reverses at the point the PV reaches setpoint.&nbsp; However the 
      overshoots will be much smaller than they would have been if no anti-reset 
      windup had been employed. 
      <P>Some of the manufacturers employ more sophisticated methods of 
      anti-reset windup, which can limit the overshoot even more.&nbsp; 
      Typically one of them works as follows (refer to Figure 3, for a graphical 
      description):
      <P align=center></FONT>
      <DIV align=center>
      <TABLE cellSpacing=0 cellPadding=0 width=500 border=0>
        <TBODY>
        <TR>
          <TD><IMG id=Picture78 height=321 alt="Figure 3" 
            src="Loop signatures 18_files/loopsig18fig3.gif" width=500 
          border=0></TD></TR></TBODY></TABLE></DIV>
      <DIV align=center><B><FONT face=Verdana,Tahoma,Arial,Helvetica 
      size=-2>Figure 3</FONT></B></DIV>
      <P><FONT face=Verdana,Tahoma,Arial,Helvetica size=-1>When a controller 
      winds-up, it effectively forces the proportional band fully away from the 
      setpoint, in fact all the way to the far side of the setpoint.&nbsp; The 
      method used in this particular case is that when the controller detects 
      wind-up, it artificially forces the proportional band to move back in the 
      opposite direction to the wind-up, so that it's other side is now forced 
      down against the setpoint.&nbsp; In this manner the controller will start 
      reacting as soon as the PV re-enters the proportional band after the 
      control is coming back to normal.&nbsp; Effectively the method reduces the 
      value of the integral to enable this procedure to take 
      effect.<BR><BR><B>External Anti-Rest Windup<BR></B>There are certain other 
      situations where it is also important to be able to freeze the integral 
      from an external signal.&nbsp; This is sometimes known as "external 
      anti-reset" wind-up.&nbsp; Two cases in particular are where more than one 
      controller are connected to the same valve.&nbsp; 
      <P>The first of these is "over-ride" or "selective" control systems.&nbsp; 
      This control strategy is frequently used for turbo-compressor anti-surge 
      control.&nbsp; Various parameters like output pressure and flow can reach 
      a value where a surge can occur through the compressor.&nbsp; At these 
      limiting values the output of the compressor needs venting.&nbsp; A 
      controller is provided for each limiting parameter, the outputs of which 
      generally pass to the vent valve via a high or low signal selector.&nbsp; 
      Whichever controller's output is the highest or lowest (respectively) 
      takes over the control of the valve.&nbsp; The other controllers will then 
      tend to wind up.&nbsp;&nbsp; It is therefore essential that their 
      integrals be prevented from doing this by freezing them at their last 
      values.
      <P>The second case is in cascade control systems, which were discussed in 
      the previous Loop Signature article.&nbsp; Remember the master control 
      loop is generally at least 10 times slower than the slave loop.&nbsp; If 
      the slave controller's output reaches a high limit, at which point its own 
      anti-reset wind-up protection will come in to freeze its integral, then it 
      is very important to also freeze the master controller's integral to 
      prevent it from integrating further.&nbsp; Huge overshoots can occur if 
      this is not done.&nbsp; 
      <P>It should be noted that most of the DCS systems do take this into 
      account and provide such a feature.&nbsp; Unfortunately very few PLC 
      manufacturers seem to be aware of this, and seldom make provision for 
      external anti-reset windup.&nbsp; 
      <P></FONT><A 
      href="index.html"><FONT 
      face=Verdana,Tahoma,Arial,Helvetica size=-1>Index to Loop Problem 
      Signatures</FONT></A>
      <P align=left><B><FONT face=Verdana,Tahoma,Arial,Helvetica color=#000000 
      size=-2>Michael Brown is a specialist in control loop optimisation, with 
      many years of experience in process control instrumentation. His main 
      activities are consulting, and teaching practical control loop analysis 
      and optimisation. He gives training courses which can be held in clients' 
      plants, where students can have the added benefit of practising on live 
      loops. His work takes him to plants all over South Africa, and also to 
      other countries. He can be contacted at: <BR>Tel (011) 486-0567<BR>Fax 
      (011) 646-2385<BR>E-Mail: </FONT><FONT face=Verdana,Tahoma,Arial,Helvetica 
      size=-2></FONT></B><A href="mailto:michael.brown@pixie.co.za"><B><FONT 
      face=Verdana,Tahoma,Arial,Helvetica 
      size=-2>michael.brown@pixie.co.za</FONT></B></A></P></TD>
    <TD colSpan=4></TD></TR>
  <TR vAlign=top align=left>
    <TD colSpan=7 height=19></TD></TR>
  <TR vAlign=top align=left>
    <TD height=19></TD>
    <TD width=732 colSpan=3>
      <TABLE id=NavigationBar1 cellSpacing=0 cellPadding=1 width=732 border=0>
        <TBODY>
        <TR vAlign=top align=left>
          <TD width=120><A onmouseover="F_roll('NavigationButton121',1)" 
            onmouseout="F_roll('NavigationButton121',0)" 
            href="http://www.controlloop.co.za/default.htm"><IMG 
            id=NavigationButton121 height=19 alt=Home 
            src="Loop signatures 18_files/Home_NGUIButton.gif" width=120 
            onload="F_loadRollover(this,'Home_NRGUIButtonOver.GIF')" border=0 
            name=NavigationButton121></A></TD>
          <TD width=120><A onmouseover="F_roll('NavigationButton122',1)" 
            onmouseout="F_roll('NavigationButton122',0)" 
            href="http://www.controlloop.co.za/Training/training.htm"><IMG 
            id=NavigationButton122 height=19 alt=Training 
            src="Loop signatures 18_files/Training_NGUIButton.gif" width=120 
            onload="F_loadRollover(this,'Training_NRGUIButtonOver.GIF')" 
            border=0 name=NavigationButton122></A></TD>
          <TD width=120><A onmouseover="F_roll('NavigationButton123',1)" 
            onmouseout="F_roll('NavigationButton123',0)" 
            href="http://www.controlloop.co.za/Consulting/consulting.htm"><IMG 
            id=NavigationButton123 height=19 alt=Consulting 
            src="Loop signatures 18_files/Consulting_NGUIButton.gif" width=120 
            onload="F_loadRollover(this,'Consulting_NRGUIButtonOver.GIF')" 
            border=0 name=NavigationButton123></A></TD>
          <TD width=120><A onmouseover="F_roll('NavigationButton124',1)" 
            onmouseout="F_roll('NavigationButton124',0)" 
            href="http://www.controlloop.co.za/Protuner/protuner.htm"><IMG 
            id=NavigationButton124 height=19 alt=Protuner 
            src="Loop signatures 18_files/Protuner_NGUIButton.gif" width=120 
            onload="F_loadRollover(this,'Protuner_NRGUIButtonOver.GIF')" 
            border=0 name=NavigationButton124></A></TD>
          <TD width=120><A onmouseover="F_roll('NavigationButton125',1)" 
            onmouseout="F_roll('NavigationButton125',0)" 
            href="http://www.controlloop.co.za/Contact_us/contact_us.htm"><IMG 
            id=NavigationButton125 height=19 alt="Contact us" 
            src="Loop signatures 18_files/Contact_us_NGUIButton.gif" width=120 
            onload="F_loadRollover(this,'Contact_us_NRGUIButtonOver.GIF')" 
            border=0 name=NavigationButton125></A></TD>
          <TD width=120 height=19><A 
            onmouseover="F_roll('NavigationButton126',1)" 
            onmouseout="F_roll('NavigationButton126',0)" 
            href="http://www.controlloop.co.za/Articles/articles.htm"><IMG 
            id=NavigationButton126 height=19 alt=Articles 
            src="Loop signatures 18_files/Articles_HGUIButtonOn.gif" width=120 
            onload="F_loadRollover(this,'Articles_HRGUIButtonOnOver.GIF')" 
            border=0 name=NavigationButton126></A></TD></TR></TBODY></TABLE><!--WEBBOT bot="HTMLMarkup" startspan ALT="Site Meter" --><A 
      href="http://sm6.sitemeter.com/stats.asp?site=sm6controleng" 
      target=_top><IMG alt="Site Meter" src="Loop signatures 18_files/meter.gif" 
      border=0></A> <!--WEBBOT bot="HTMLMarkup" Endspan --></TD>
    <TD colSpan=3></TD></TR></TBODY></TABLE></CENTER></BODY></HTML>
