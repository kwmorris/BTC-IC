<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0073)http://www.controlloop.co.za/Articles/Case_History_66/case_history_66.htm -->
<HTML><HEAD><TITLE>Case History 66</TITLE>
<META http-equiv=Content-Type content="text/html; charset=ISO-8859-1">
<META content="MSHTML 6.00.2600.0" name=GENERATOR>
<SCRIPT language=JavaScript src="Case History 66_files/menu.js"></SCRIPT>

<SCRIPT language=JavaScript>
<!--
var controlloop = new MenuBar("controlloop",0,2,0,0,1,1,0,"solid","#CCCCCC","#CCCCCC","#999999","Verdana,Tahoma,Arial,Helvetica",12,"normal","normal","#000000","#FFFFFF","");
var m1_controlloop = new Menu("Home",127,100,"../../default.htm");
controlloop.addMenu(m1_controlloop);
var m2_controlloop = new Menu("Training",127,100,"../../Training/training.htm");
controlloop.addMenu(m2_controlloop);
var m3_controlloop = new Menu("Consulting",127,100,"../../Consulting/consulting.htm");
controlloop.addMenu(m3_controlloop);
var m4_controlloop = new Menu("Protuner",127,100,"../../Protuner/protuner.htm");
controlloop.addMenu(m4_controlloop);
var m5_controlloop = new Menu("Contact us",127,100,"../../Contact_us/contact_us.htm");
controlloop.addMenu(m5_controlloop);
var m6_controlloop = new Menu("Articles",130,100,"../../Articles/articles.htm");
controlloop.addMenu(m6_controlloop);
//-->
</SCRIPT>

<SCRIPT>
<!--
function F_loadRollover(){} function F_roll(){}
//-->
</SCRIPT>

<SCRIPT language=JavaScript1.2 src="Case History 66_files/rollover.js"></SCRIPT>
</HEAD>
<BODY text=#000000 vLink=#990000 link=#cc0000 bgColor=#ffffff leftMargin=0 
topMargin=0 MARGINHEIGHT="0" MARGINWIDTH="0">
<SCRIPT language=JavaScript><!--
controlloop.start();
//--></SCRIPT>

<CENTER>
<TABLE cellSpacing=0 cellPadding=0 width=816 border=0>
  <TBODY>
  <TR vAlign=top align=left>
    <TD vAlign=top align=left width=765 colSpan=5 height=77><IMG id=Picture83 
      height=77 src="Case History 66_files/banneroct2002.jpg" width=765 
    border=0></TD>
    <TD colSpan=2></TD></TR>
  <TR vAlign=top align=left>
    <TD width=20 height=7><IMG height=1 
      src="Case History 66_files/clearpixel.gif" width=20 border=0></TD>
    <TD width=41><IMG height=1 src="Case History 66_files/clearpixel.gif" 
      width=41 border=0></TD>
    <TD width=679><IMG height=1 src="Case History 66_files/clearpixel.gif" 
      width=679 border=0></TD>
    <TD width=12><IMG height=1 src="Case History 66_files/clearpixel.gif" 
      width=12 border=0></TD>
    <TD width=13><IMG height=1 src="Case History 66_files/clearpixel.gif" 
      width=13 border=0></TD>
    <TD width=1><IMG height=1 src="Case History 66_files/clearpixel.gif" 
      width=1 border=0></TD>
    <TD width=50><IMG height=1 src="Case History 66_files/clearpixel.gif" 
      width=50 border=0></TD></TR>
  <TR vAlign=top align=left>
    <TD width=766 colSpan=6 height=24><!--<IMG ID="DynamicMenu2501" HEIGHT=24 WIDTH=766 SRC="../../a_blank.gif" BORDER=0 ALT="DynamicMenu2 5.0">
                #DM2_controlloop# 1:coolPost:1--><NOLAYER>
      <DIV id=MBposcontrolloop 
      style="VISIBILITY: hidden; WIDTH: 766px; HEIGHT: 24px"></DIV></NOLAYER><ILAYER 
      id=MBposcontrolloopL VISIBILITY="hide" WIDTH="766" HEIGHT="24" 
      Z-INDEX="0"></ILAYER></TD>
    <TD></TD></TR>
  <TR vAlign=top align=left>
    <TD colSpan=7 height=11></TD></TR>
  <TR vAlign=top align=left>
    <TD colSpan=2></TD>
    <TD width=679>
      <P><B><FONT face=Verdana,Tahoma,Arial,Helvetica color=#cc0000>CONTROL LOOP 
      CASE HISTORY 66<BR><BR></FONT><FONT face=Verdana,Tahoma,Arial,Helvetica>A 
      depressing day in a plant with no miracles</FONT></B>
      <P><FONT face=Verdana,Tahoma,Arial,Helvetica size=-1>I was recently asked 
      to optimise some loops in a petro-chemical plant.&nbsp; Most of the time 
      when doing this sort of work, improvements are the order of the day, and I 
      normally go home at the end of the day feeling pleased with life.&nbsp; 
      However every once in a while things don't work like that and then I can 
      get very depressed.&nbsp; On this particular occasion, nothing went right. 

      <P>As a very general statement, when optimising a system, one firstly 
      optimises the fastest and least interactive processes, such as flows and 
      levels, which are normally extremely easy and quick to optimise.&nbsp; 
      Furthermore as I generally find them terribly badly tuned, clients are 
      usually amazed at how much better they operate when optimised correctly. 
      (Only then does the realisation start dawning as to how badly the rest of 
      their plant controls must be working, if the easy ones are so bad).
      <P>On this particular day, it was impossible to get any loop tested to 
      work properly.&nbsp; The problem lay with the valves.&nbsp; They all 
      exhibited horrific problems, probably mostly because they were old, and 
      probably also due to bad maintenance.
      <P>In previous articles I have stressed how important valves are.&nbsp; In 
      essence the valve is a critical component in the loop and should it should 
      faithfully follow the controller's output signal.&nbsp; In particular, you 
      must have a good valve for slow processes.&nbsp; However on fast processes 
      like flow, one can generally manage to tune the controller in such a way 
      that even if the valve is poor, relatively acceptable flow control can be 
      obtained until it is possible to take the valve out and work on it or 
      replace it, and then really tune the loop well.&nbsp; 
      <P>On this sad day the valves were too bad to get the loops to work in any 
      way without a cycle short of completely detuning them.&nbsp; Although 
      people are always very polite and friendly to me, I am sure they must 
      start doubting me when loop after loop starts cycling after being tuned, 
      although I do my very best to explain that it is not the tuning, but is 
      due to poor valves.&nbsp; Therefore when I left the plant at the end of 
      the day I was not feeling at all happy.&nbsp; 
      <P>This article will deal with a couple of these loops.
      <P>Figure 1 illustrates a closed loop "as-found" test where setpoint 
      changes are made with the original tuning in the controller.&nbsp; 
      <P align=center></FONT>
      <DIV align=center>
      <TABLE cellSpacing=0 cellPadding=0 width=550 border=0>
        <TBODY>
        <TR>
          <TD><IMG id=Picture76 height=408 alt="Figure 1" 
            src="Case History 66_files/cashis66fig1.jpg" width=550 
        border=0></TD></TR></TBODY></TABLE></DIV>
      <DIV align=center><B><FONT face=Verdana,Tahoma,Arial,Helvetica 
      size=-2>Figure 1</FONT></B></DIV>
      <P><FONT face=Verdana,Tahoma,Arial,Helvetica size=-1>This test is 
      particularly interesting.&nbsp; Apart from illustrating typically very 
      poor tuning, it shows major valve problems.&nbsp; The valve is sticking 
      badly all over the place as it opens.&nbsp; One can see the controller 
      output ramping under the influence of the integral term, until the valve 
      moves, and then it sticks again, and the controller starts ramping again.
      <P>The open loop analytical test is shown in Figure 2.&nbsp; 
      <P align=center></FONT>
      <DIV align=center>
      <TABLE cellSpacing=0 cellPadding=0 width=550 border=0>
        <TBODY>
        <TR>
          <TD><IMG id=Picture77 height=409 alt="Figure 2" 
            src="Case History 66_files/cashis66fig2.jpg" width=550 
        border=0></TD></TR></TBODY></TABLE></DIV>
      <DIV align=center><B><FONT face=Verdana,Tahoma,Arial,Helvetica 
      size=-2>Figure 2</FONT></B></DIV>
      <P><FONT face=Verdana,Tahoma,Arial,Helvetica size=-1>It can be seen that 
      the valve is approximately three times oversized as the movement of the 
      process variable is three times more than the movement of the controller 
      output (refer Loop Signature articles for further explanation).&nbsp; 
      Furthermore the valve exhibits the phenomenon of negative hysteresis, 
      which causes it to overshoot on every reversal.&nbsp; This indicates that 
      the actuator of the valve has insufficient power to overcome the static 
      frictional force that arises every time the valve reverses.&nbsp; The 
      positioner then pumps too much pressure into the actuator to get the valve 
      to start moving.&nbsp; The excess pressure then causes the valve to 
      overshoot when it finally starts moving.&nbsp; 
      <P>Negative hysteresis is very undesirable as it can result in a 
      continuous cycle on fast loops which perforce need to be tuned with fast 
      integrals.
      <P>This is exactly what happened on this process.&nbsp; Figure 3 shows the 
      loop in automatic, undergoing a setpoint change.&nbsp; 
      <P align=center></FONT>
      <DIV align=center>
      <TABLE cellSpacing=0 cellPadding=0 width=550 border=0>
        <TBODY>
        <TR>
          <TD><IMG id=Picture78 height=409 alt="Figure 3" 
            src="Case History 66_files/cashis66fig3.jpg" width=550 
        border=0></TD></TR></TBODY></TABLE></DIV>
      <DIV align=center><B><FONT face=Verdana,Tahoma,Arial,Helvetica 
      size=-2>Figure 3</FONT></B></DIV>
      <P><FONT face=Verdana,Tahoma,Arial,Helvetica size=-1>The integral term in 
      the controller is ramping trying to get the valve to move the process to 
      setpoint.&nbsp; However when the valve moves, the positioner causes the 
      overshoot, and then the whole thing is repeated in the reverse direction, 
      causing a form of instability.
      <P>It is also of interest to note that the amplitude of the cycle was over 
      6%.&nbsp; This would have been only 2% if the valve had been properly 
      sized, as oversized valves increase the amplitude of a cycle as seen on 
      the process variable, directly proportionally to the amount of 
      oversizing.&nbsp; 
      <P>The next example is also very interesting.&nbsp; Figure 4 shows the 
      closed loop "as-found" test on another flow loop.&nbsp; 
      <P align=center></FONT>
      <DIV align=center>
      <TABLE cellSpacing=0 cellPadding=0 width=550 border=0>
        <TBODY>
        <TR>
          <TD><IMG id=Picture79 height=410 alt="Figure 4" 
            src="Case History 66_files/cashis66fig4.jpg" width=550 
        border=0></TD></TR></TBODY></TABLE></DIV>
      <DIV align=center><B><FONT face=Verdana,Tahoma,Arial,Helvetica 
      size=-2>Figure 4</FONT></B></DIV>
      <P><FONT face=Verdana,Tahoma,Arial,Helvetica size=-1>The response here 
      look almost identical to that in Figure 1 for the previous example.&nbsp; 
      Again, the tuning was poor with integral far too slow.&nbsp; However it 
      allows one to immediately see that when a step change of setpoint is made, 
      there is also a very serious problem with this valve as it keeps sticking 
      whilst being moved at a slow ramp rate.&nbsp; When stuck, the controller's 
      integral term ramps until the valve starts moving again.&nbsp; What is 
      noteworthy is that the valves in both of these examples did in fact suffer 
      from different problems.
      <P>Figure 5 shows the open loop test with step changes of equal magnitude 
      being made on the controller output in both directions.&nbsp; 
      <P align=center></FONT>
      <DIV align=center>
      <TABLE cellSpacing=0 cellPadding=0 width=550 border=0>
        <TBODY>
        <TR>
          <TD><IMG id=Picture80 height=409 alt="Figure 5" 
            src="Case History 66_files/cashis66fig5.jpg" width=550 
        border=0></TD></TR></TBODY></TABLE></DIV>
      <DIV align=center><B><FONT face=Verdana,Tahoma,Arial,Helvetica 
      size=-2>Figure 5</FONT></B></DIV>
      <P><FONT face=Verdana,Tahoma,Arial,Helvetica size=-1>Step changes "shock" 
      the valve and are not good for revealing sticking and slipping 
      phenomena.&nbsp; However the test does illustrate that on the reversals 
      the valve is suffering from excessive normal hysteresis, and is also 
      oversized about 2.5 times. (Remember that oversized valves increase 
      control variance directly proportionally to the amount of over sizing, and 
      if cycling occurs the amplitude will be bigger again in proportion to the 
      amount of over sizing).
      <P>The final test with a relatively slow over-damped tuning is shown in 
      Figure 6.&nbsp; 
      <P align=center></FONT>
      <DIV align=center>
      <TABLE cellSpacing=0 cellPadding=0 width=550 border=0>
        <TBODY>
        <TR>
          <TD><IMG id=Picture81 height=409 alt="Figure 6" 
            src="Case History 66_files/cashis66fig6.jpg" width=550 
        border=0></TD></TR></TBODY></TABLE></DIV>
      <DIV align=center><B><FONT face=Verdana,Tahoma,Arial,Helvetica 
      size=-2>Figure 6</FONT></B></DIV>
      <P><FONT face=Verdana,Tahoma,Arial,Helvetica size=-1>This is a wonderful 
      example of a stick-slip cycle.&nbsp; This type of cycle which looks very 
      similar to the cycle seen in the previous example (Figure 3), is in fact 
      due to different causes.&nbsp; As discussed in previous articles and in 
      particular in the Loop Signature series, stick slip cycles occurs on 
      roughly 15% of all fast self regulating loops.&nbsp; It is caused by a 
      combination of sticking and slipping in the valve and by the fact that on 
      fast processes the integral term in the controller needs be tuned 
      fast.&nbsp; Therefore during the stick phase the integral tends to "wind 
      up" slightly, causing the controller output to move too far.
      <P>How does one differentiate between cycles caused by unstable tuning, 
      and those caused by valve problems as illustrated in this article?&nbsp; 
      <P>Firstly the frequencies of the cycle are different.&nbsp; Typically on 
      flow loops, an ultimate cycle (caused by unstable tuning) has a period 
      around 5 seconds.&nbsp; Cycles caused by instability in a positioner or a 
      combination of a positioner on an undersized actuator have cycle periods 
      of about 20 seconds, whilst stick-slip cycles generally have periods about 
      40 seconds.&nbsp; Apart from this the waveform shapes are also very 
      different.&nbsp; A cycle caused by unstable tuning exhibits virtually 
      sinusoidal waveforms on both process variable and on the controller 
      output, whilst both the other types of cycle display more of a squarish 
      waveform on the process variable, and a definitely saw-tooth shape on the 
      controller output's waveform.&nbsp; In the case of the slip-stick cycle in 
      particular, the saw-tooth changes direction at exactly the same time as 
      the process variable starts reversing (which is as the valve starts moving 
      in the reverse direction).
      <P>Problems like these result on poor control variance, and do not make 
      life easy or happier for people like myself who are trying to improve the 
      control in a plant.
      <P></FONT><A 
      href="index.html"><FONT 
      face=Verdana,Tahoma,Arial,Helvetica size=-1>Index to articles</FONT></A>
      <P><B><FONT face=Verdana,Tahoma,Arial,Helvetica color=#000000 
      size=-2>Michael Brown is a specialist in control loop optimisation, with 
      many years of experience in process control instrumentation. His main 
      activities are consulting, and teaching practical control loop analysis 
      and optimisation. He gives training courses which can be held in clients' 
      plants, where students can have the added benefit of practising on live 
      loops. His work takes him to plants all over South Africa, and also to 
      other countries. He can be contacted at: <BR>Tel (011) 486-0567<BR>Fax 
      (011) 646-2385<BR>E-Mail: </FONT><FONT face=Verdana,Tahoma,Arial,Helvetica 
      size=-2></FONT></B><A href="mailto:michael.brown@pixie.co.za"><B><FONT 
      face=Verdana,Tahoma,Arial,Helvetica 
      size=-2>michael.brown@pixie.co.za</FONT></B></A><BR>&nbsp;</P></TD>
    <TD colSpan=4></TD></TR>
  <TR vAlign=top align=left>
    <TD colSpan=7 height=19></TD></TR>
  <TR vAlign=top align=left>
    <TD height=19></TD>
    <TD width=732 colSpan=3>
      <TABLE id=NavigationBar1 cellSpacing=0 cellPadding=1 width=732 border=0>
        <TBODY>
        <TR vAlign=top align=left>
          <TD width=120><A onmouseover="F_roll('NavigationButton223',1)" 
            onmouseout="F_roll('NavigationButton223',0)" 
            href="http://www.controlloop.co.za/default.htm"><IMG 
            id=NavigationButton223 height=19 alt=Home 
            src="Case History 66_files/Home_NGUIButton.gif" width=120 
            onload="F_loadRollover(this,'Home_NRGUIButtonOver.GIF')" border=0 
            name=NavigationButton223></A></TD>
          <TD width=120><A onmouseover="F_roll('NavigationButton224',1)" 
            onmouseout="F_roll('NavigationButton224',0)" 
            href="http://www.controlloop.co.za/Training/training.htm"><IMG 
            id=NavigationButton224 height=19 alt=Training 
            src="Case History 66_files/Training_NGUIButton.gif" width=120 
            onload="F_loadRollover(this,'Training_NRGUIButtonOver.GIF')" 
            border=0 name=NavigationButton224></A></TD>
          <TD width=120><A onmouseover="F_roll('NavigationButton225',1)" 
            onmouseout="F_roll('NavigationButton225',0)" 
            href="http://www.controlloop.co.za/Consulting/consulting.htm"><IMG 
            id=NavigationButton225 height=19 alt=Consulting 
            src="Case History 66_files/Consulting_NGUIButton.gif" width=120 
            onload="F_loadRollover(this,'Consulting_NRGUIButtonOver.GIF')" 
            border=0 name=NavigationButton225></A></TD>
          <TD width=120><A onmouseover="F_roll('NavigationButton226',1)" 
            onmouseout="F_roll('NavigationButton226',0)" 
            href="http://www.controlloop.co.za/Protuner/protuner.htm"><IMG 
            id=NavigationButton226 height=19 alt=Protuner 
            src="Case History 66_files/Protuner_NGUIButton.gif" width=120 
            onload="F_loadRollover(this,'Protuner_NRGUIButtonOver.GIF')" 
            border=0 name=NavigationButton226></A></TD>
          <TD width=120><A onmouseover="F_roll('NavigationButton227',1)" 
            onmouseout="F_roll('NavigationButton227',0)" 
            href="http://www.controlloop.co.za/Contact_us/contact_us.htm"><IMG 
            id=NavigationButton227 height=19 alt="Contact us" 
            src="Case History 66_files/Contact_us_NGUIButton.gif" width=120 
            onload="F_loadRollover(this,'Contact_us_NRGUIButtonOver.GIF')" 
            border=0 name=NavigationButton227></A></TD>
          <TD width=120 height=19><A 
            onmouseover="F_roll('NavigationButton228',1)" 
            onmouseout="F_roll('NavigationButton228',0)" 
            href="http://www.controlloop.co.za/Articles/articles.htm"><IMG 
            id=NavigationButton228 height=19 alt=Articles 
            src="Case History 66_files/Articles_HGUIButtonOn.gif" width=120 
            onload="F_loadRollover(this,'Articles_HRGUIButtonOnOver.GIF')" 
            border=0 name=NavigationButton228></A></TD></TR></TBODY></TABLE><!--WEBBOT bot="HTMLMarkup" startspan ALT="Site Meter" --><A 
      href="http://sm6.sitemeter.com/stats.asp?site=sm6controleng" 
      target=_top><IMG alt="Site Meter" src="Case History 66_files/meter.gif" 
      border=0></A> <!--WEBBOT bot="HTMLMarkup" Endspan --></TD>
    <TD colSpan=3></TD></TR></TBODY></TABLE></CENTER></BODY></HTML>
