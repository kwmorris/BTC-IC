// Options: Export entire program; Code Block delimiter instructions;
// Unformatted Rung Comments; Element Documentation Database;
// System Configuration; Memory Configuration/Devices with Built-In Types and User Add-Ons;
// use Element names (no NickNames); rung/address annotations;
// <TAB> parameter delimiter; 
// Write/overwrite file C:\Users\kwmor\Documents\BTC-IC\PLC\Lab\Tanzen-DEV_EXPORT_DMD.txt

PLC H2-DM1E

// Do not modify SYS_CONFIG block!
#BEGIN SYS_CONFIG
96c5a0a326b51c6c55a7b68d5dfa81580cdc6be9c4a580aa5bd06e3de1258eceb06d0af361568c45
7dce0a5046127cfc1a12a1d3e5f7752075f3ee21c65961ee3714268a96b408bff3c8a3e8b7c8601e
89ce36d1d00c64356d9730b1a01f7f1b9745a0993e671a90eefff3429b2493be1687ddb9ad33fdf0
90a99be6fb3c33267a872acfce47cb960f626c3f4454d12ab2b7180d507e7c4e230663d042ce9b56
88a7ef98be4468c9bd6b0d0a14ed3003aa6045bb9fe02fbe4aaafbe0e271d7bb85b86f38bf988db6
11e5b652587497c707067967c15e7310ad553c35467136e83391eb4ec98e34e4115aa1b22b50f5a0
90fe253653855c736392c4731e3e0fca6ecce1ff0aa6725ff3f4919fb5f0895ce967b252441facfb
dec784516515ec764ff90a20534e80e4edda5e6986b88377d635b3dfdb70519b50ec6a3d1c1c9251
ef8171ffdc3fe434af1b8564aa4e4ba5dfc44a34a2fe3e6c2c400678e317506e0b87870da54efac5
d714dc0c3b52b682a7d821ff5e8c37039a7f298fd338812c3098dbf530e94abadc09a6065725e7eb
e8b73c8f653a7e1b8c2597265ec11c807bbc1c8188e011c99f41c2c50cfc60631946458267f89ba3
1e38f7a96716610135741e1035f56d63fb1bacd84d20864518a614e1f4e2f946f2033b5a51bff1b3
8a352325e8cb9304be723211324527635ab1f70ea6bb22f70cc48e7d0bf4215702979acd8ec5664b
a4ea106bee8bd410f226fd6a0135b7f4aa60b784790166bdb6c675a5208239de454251d83f1c5c32
c3601b8fd9d1fb7daa2ae44845a43c52fda7dc9e6a7df6126439ec2407221e982dc041566704f93e
0073cc84061debbacd147ba1478d418ed5c7fa5aa9992bfab59343cc56bfa0e6a380ae81441b630f
de71c689cb0dd43d88f5abd098e35a913f72eb8c7955ad7e382f9907ea7f535d5614788eec3ff298
3783d07d03267bcbd8970128e9b79e7488ba743924ea7b5e17280fdc12b1e1d82939540a3a5620af
4a1a98c4fc808a93274c563c2f37f925d2b860d554f09c92f971e5150e6e98a92346b45dcb8c41b4
3908c9cd0f4fa030b717dd4ed82fac7b087a78591f92b48c3c9ad87cacdaf28689b399d4b26d460f
27ce5fbafd3f211577e625ddf361fa92ae7e9ad090681cc800d552f81ff243d7174274e0138d6088
c779fb837b024cda2317b1cec4a73560d0a6c41fb24d81e7f4e60bcafb626b06e7971117b1c6cca7
2a34ae4bbec1f3722d5989a9123d9aa44b2f04f4e60e20cd4b9d4ba59c7255ed56f467d8ad5b635d
11c7738dace3564be3daa47bf67e0922f40c1f4f37474dc722875a74886fb70a78c357431357124c
53a27a1aafccd985eca639a5cac6c4eb9d13929da5cdc59de8db601ff4784641e75bb74c663ab63e
759a93df7e64aeefaa08a09dc7b51ab9427791fcb0a2cff68b1844cbd48611521bd289be010a7e9a
0c1c6dab5f1ea4b1dde2d7e838a5b73e862d58ce250d7ee5b03a812dd3b98d62fe7cd25e72f2e2a8
b64a17728b03d7047cf5d4eea6c2d3880c3461fcd466eed186471315ede2a88bd487f993f497adaf
39184a6334eb707dad7e99e6746d4d68c6b5b6f14a6cd78988b0ec09cb72d5d449e3d3ee9c78a046
d0c1f62b27e88b5b3acc774f9b380ab3bdb4fbcde1d53d9c2a33bd6ac845de84d71888175748147f
5a209cd2c3913f9f096366b191c4bb8c97d1dd5d1d24d84f30fc0aced439af81d33d615cec198239
2fb6ffcaa0ed9459af6b718a1c6e3ace8cca020b8e1bb5f241345e136aa751950fae955df5e095a4
4f6e4b648bdf8bc5a5a03c0c36cefddc5ad347b59453c6d3b13709372196be5125bf1e8470d86fd4
f86a2d77b13a3d5e68030014285ba8a5f1fc5192adefd4cd56ff9a357ed669e689b7ccaa1e147e4d
1ba1709df6e96449170a1c2323675b4e661aeab18b2bc890b06bc06359f6ba5fa78ec41eb242d576
18105bc320f4a70f9f3f69aba89396f7f566ce791f9a9fdd18363422456ada10ceb72d2bb7a11edc
b45d845f323192c9b915d2aefe829eb5a503cc3a3333397a032a3ee8bd14a18e8f936261f1d9179f
1d85e382459c1aeebaec1b1ad259e3958fa7d1e9a4253d3c9605738ac1a7e1fc63c71b3ee8c47b05
1f9562ea84227fe54c7e442482ce8f460d0c487469a5a649141d98e36cd50a8a419d91a26a06a0f9
72d833550d00aebd19c021c97fa1db99f01e3d862e49aeefbafb9573f5b51dbad8fe6249653884a7
2e2abf9df2d095f1565ae79afa53611c3f19ba74d83a9b9067667a4623af8b9c6e6e1e0e78fa3c11
f9905537edcac16761bbf35d0bf73ba7e2fb4cc54062ee9e74492dcd725a7ed71da67694901ee1e0
962470a9096feed082fbcdac91224c1bb9161771ddb8f6873ca957277b8f2b512260d30c0707e601
0f809615e1eb29699451bfade6809405db33a06213d1785be31dbb80f6908ded7935baa3e25538eb
6f434e59e3e32bebf32604acc663eb23c297ab04f7d6ca77aaf86b1425df7985fa2282d4554f1d46
5648ee08d2c826569accaabac684b1cc788f28a94cb702f4667fc9aa7f40cbe314dbf45db88abcb9
d4ccf061ec124769c176b27642bbc5af6783123e1069b907053a41cdca5dc522aa2d77d64364055f
63f0f774453b401a8d4a006d7d6a09af07cc7dcfe268fc7fde4a5a2e84bc964871d3723c84e4ce58
7a2e7d625c496ea768c70a002b01c2be33c35b12bb59e3cfc9307c15ec3edf4473b9381d44814b24
29361bc5ab578f1fb8b312095bd4d24749455fe3f6a523dbaf4b54fa336bc62aa01a3a7855c2bf39
be92d9167904e62e0a6ff976cac5e4d56431f95ff97a822424bd64f9e41c9d00534cf85c1e566af7
338f8653badd16845b5a97d5235430ad6a1836e80820675b93963a013a8e4bda490ebd8c84977c60
d1bf790e119a765c43acbd4fc6160dc9bd6571f8bdf4b23ea98a017bd39dde413cb57b43ed9d96d9
f43f1c153774ca245c736d2b7ab68b09c22e5e16c15297d13f822861cf85f1ff30fcf25c7ecd4336
e908c8767f502140b139257580e49f553e951fc9144b89b4936557f368d84d21699f8ac951b9e019
6c3a1f75746c9fb5917cdd310caec6baab4104854d260caa95efe761c2bc48a31382e9a9bc023028
3ac291b2279e884b1b9ba1cbd93e38740bb1f56c42d19b98f08e5b127b961f5921800851e85dd62a
4d780b729e06cef6d40ff52790cc7ca63ce861d7af26858e84e1936161c68b0be32357794bf7cf9e
bd28112d42eecd66fda6666b319b79a741f416e549e3ca8fa6888558f8c2d72fdb383071fe911ae5
d7759f0d6e08a98b8c689f372b15d48d4356bc6c207fc6f05f6d01e699f369ef1c0ee7c7f7a5e285
980f2b82413923f436f08f2231ddcf6b282254df3fab1b9ea09ab8cb4439bac5c22641fb5ba1c6e8
f6ec09166f500ddf10c6d13a900585277146b5796ff02c0f690274e6d9aec62875e11195d94ccdd1
eb0968bd261237dd1d3306f2c32aa957cd26c1f5f7f1eb3e1730a4d8e48aa5209535e928d1bdc474
d25ed62e3c0cd567967a90ef52ce5f14b60a7fd096f0934f77875d777acad3720d0ae205c5303f61
014348f812d2e0d517d80e199238dff5bd98183be3f56ab6e98fca42ef44f2ebd28dd9ed3814bde3
3dc059786968ee99ef60812674535032a757e32e5d36d5ac67941026f0f27b9464d373896e43693a
8a60a085d880e5d9bd9de76e43cb2a3daffda7ad0c817bef284566db4b8b615f09823cb2eab3eedc
163b09b5fa2f7b642099fcc0a41c66d70374c54c5f6b4e8ad50e9c61a367d373af4e174a6085bce3
2863c3595cd4e74353d3e927a3cb581b71141a14544d3714a92e8693521b5a22141af9cc4b22ab60
1c6c0eb902fe0b045a5a186d8bf46fadab158ccf8358c24194e352c3912ec7672fa1b76d1b89b629
002d40d1e9bc79c5974cbd72e8f3c0f4116ef54f0a37aeeda1e23951d4f62969fba9da85d1e51ae6
675deb0dd564e3dc0a0861827fe7121d436321908a8a3980655902aa3508ea39d9f1561c77db4764
2501346f315fbc523d623be23418d869a21bee3a8c9a08b90595112a9e5d62798c84129b17576f01
a176079554a540729d6d46cfb128d369744e8408b90cad01a7ce707ded1b95757a006bd3de743dda
cb3daf2bd35385b766cf792e4aa8efb401a9fb837064e03261bf1de981e113e21cf6133b35c63277
e82f41be736877c12696e6647faa5169a1ace2835feadf704e401773615e955c9bb677197ef3a30f
12200271becb5b946228e39843dbe8c623d58cd50877bbabff06251819755d738657f51ff8edc77b
cf05c5f7c266da99d4ef761df48228e67431ba09e242800d9d362b19fb825722b27d8b69e282b40d
04646713a731608ba35ad88512daff382435658bcb5b6bcd00159aa23c1d268b17d008cf20c2899a
e2672156d45f7a29e3cce06fbeb02e8d4325b70cb79606d69fc3284f064e93c9d906b9aee2844593
52f00bb8dc94b14e44f0e69e84e95935bb4019c44e55538f2d4098819c3b6e92af211e354ec77187
59d5d9a745690015573370a418f7db893f8568d89a62dab135a95f613d287afa57c91ee96b3472c3
ed8eb64d1e9445de991c62f45f020562fa7742e3bfbebb7c4b0cdfbedf6815759ca424073b1d74a4
6fe3efc02810479f6f75c328fe60e3b867fc5c6d8cebc38b26a6f00c184ebcd767b618f595ce02cb
f40f9085b8e794927223ccd04050d81f6906873bd7e9f2961132dde8e420a81c169022876d443d42
33bbd22dc4560b87b2b4d2e672c26b4d231f6ad742689268782e6e1c0b9b54289caa3e76652ce698
f93790272023198fcfb5e6e049e24534672f3c75bfe976238e87990ccb4f57595ea707667cf4ee11
5c60417b13b5da3cc159f52e64651bc0df6920ca997b6a102ab0e966bd30f72e83ec633843c67bd1
6d11c5b1cd5c6aabb6fbd0dbd8285238518695167b5d49fe1483cfb5c6f07e5b4f8fcf98bd69e772
df0322a1604724718c635bc1eacd96e52021c2f426c4c6e2fc91112bde8d014875919e1022ceeb17
cf2cce5a84709174c55345fc89240fd96d50a27c567b23cb0c0d70943a8bcad6b86874e0f6c04ebd
cf2ac69c769137c3584ffabb36347eb8c1a6d6d6ce40892658662b91f1929baf932b08fd9c778e4d
3bb75e5c42925d02f5bc0a8da31205384ca90ae6ca3dea880a916ac5acfd9b49510b0581c1270d69
11228ada88f3bdaccb5f30644951f9ea4dd35ea64d61ee14ef2b278946c41f9fafae246f80f56269
a5605cc43962e959cd37db90dcbd54eb59d3f5a78a450cfe1d0b2ed03bdcb9984f3aff527faf874d
f036308fb2a25f0512b3c3ae8b40746c1a9fa9148cda0f3fc5b559c861a185517c98b73255434958
5e1a41a389820a14acb9805dde5220c5f916aa8273d6c0ff46600f62ba1a7709c30c1ee14f774adc
eb41b7f128b0742d52e978785c704b07af8b79394926bbb041607409855c0eede53ff03c33252ca1
f4fe74d881fcd394895925f0d3806dafbadddf07b65b245a5086b51be7cb32538190d99fa5f283b0
f0f7b05cfcd1ae848e241744768d3c5463add4519d5c0e3c69c82542c670e65b462afb7a0f295d01
d3065e35bc213e5646550d8e0807dbbb83779bb0f90f1388a8db6abd87b2d6b1ba7c14c80609635f
391d8133c719164c75ca75ec833c1b8e8b7133499dd961dcf9e3987b65ed6ef819f98f0cebd181b0
9ee968b53f8cb5183f3789d457f5e3198b1d3fd05a78ace106def21c52f244afec34437b5ea7ba51
496436b2c2c8a6f977180427b9eef897f62667411b786b7d1abdbccaee2286cc5989ac397882794e
d5047f6709a8f651e4eb929e3d601a28edaedfdf8af696e6f3ff6baf6927611acd26668a5ee37188
3a5d00b2a6ddc84438feafecb259f2fb80b9f0d392ccce27b2216c9b6a43df3a5a9d18e618809c43
25c2002706653b1581827ef0cb5c8220ad80f02a85f27b0222ca758816caf392b4f246bf6bfbc333
11275a5f416752305781333e4d890ca4375602b79ffabcf81e9babef570e2af9e381d71f522a337f
95da2e4d9a2a763c7a8a3426bca49e0c96038dec3fe609cd2110df8f3a604fb7c10b346853b9b080
72a3572cdbf46e7d3b78e9cb4d9c728d136d7add85e129e904a0c004d7ecbce13b9aaa7cfbc10589
3b6157dfdac44aa39793e7f19bc13ed72d395ed76c5bb04cfdf099a29df3121b00ed074c4033e188
76243f4424911ed51ee5a5549048eecfcb3d43508e7d0278bc3c8af0c68a2ea64404accc0075a9ca
e6fb6c3e762bca193bb7676539ce5518912cf5db3e43c485c23243931d113d54232c72eba176b6e1
5e52c9c033df32fbb9e0018108024630c8d5e3754bdfc2f81c148898619778a2f71443aa463be282
e0d95508ddfa6577bceb368748612164ec9aed767ecbfa8e7c087e84219803c875b82b5b963c9612
da43b86e2e4a31f576541bded33a8d8e274ca36c0b0d421601f3f8edd92f59a326e45f1bb86f5609
780fd27d349a289b9f025a54fad854cc4337770c7f9d76aa3334d5b260eb7d20a417645f1d10bc9c
081740f35e4ca3d28c268b66c6d06a95c8efe836310a342001c42432c7820753c2ee23297079c0ee
87bab20c0f2a85455121bc550c5a2de7ae8643f36f7803727c7721a7b39c3615da29578560bc31a2
8cdb76e35dea01dcb3b83cc5a9f9e98a2e2a4339f478e3e53f77725a7eb14d43d75d6fc4eae3e46e
f6b3f8cf66475eb35d7652b7126360030d154548b82cacb1df80d939cf600191fb04f77169a15891
44ab384ed5e9f38276a6c60d74ec753ef3ae642631922e9b79dd906943bd0729bcf512d6c53cf487
8304e6083d1beb94a7d9cd6ba1c91879a7a26f2649f3daa22f392906231f202b4f92346b8448e597
116a2468a92c17e5aa64f1049da6d83165a2535842d7e8372ffbcc9203d854b4ba44973a7648be10
f00daa2e08dbb8a9e2bf8ab2e22f4fb75c53e718d8ab0ccde62f46bdd6883332339e2abe5fb8c057
e518dd7de5fc57fc9b3253f9727b48946112ab98a27b629b6a9761d618bbf60d061e9d5d93e6dda5
e40f293aff8bcc578601aab76af95a374aa498d61fbbca0e28c81c875512e85a744a46913d2a0aae
6440cf5e40f767413f5f92e1648ca6553d8830e02d81b8ca2e906c1a3fd6d98e0b7e3c90e5de5a58
a72244fab444555a8297e1b9bbb5b0262fc83b57b6f424bbd218c173dbabe331dfed1bba65e9efd5
cb9e4b3baad2f6d04a6b465a7b864ae7f75f8817e5600fb63058c88b8436bd76535e8dfddd98e037
db556d42194133f8f706701c089c27f5a4a3c01fc1c81f3ac5297e2ca51940d40aac80e8b11f1551
a463f7acafa62d112374973d165754f93ffa6b674aaad52120f33395fd868c9a62ced38579371687
dfcc81e0024490f0f2b31bdbe8220a8c89785be9268368ccbd517157710a8e89f8ef5e43bbf84983
4c161f7e9fdbe13659e066704dcc0edb5f606ad1a9fd8774311d306fd8e8552d994eb9a45fd74194
3341186d376baf53b2da3ecbd7a18ea93db0852d07d6501930969a95b808f97a60b1f658f9e4d3eb
08956af950ca9799700f22e2cb4c5a9e601ecdd64a02441927023803839800a3a0c842e77c18d09c
6f1195b353f28f1c1fcd60edd254f7da03a3ae100e6e8dc90e116b9172e85d642a0973e991683e61
23ed9d829e7fd4bc5d788767b6c9721174e239d6da6230f5acd5880d6e8f30bf9aea94fee83fb516
8f1421859c355187fb114370d71ee3dd879fbd3ae2e3a7a7fc666382a02726565edf105feed9dc1f
8816c1a3fc10ccd348cd72021502cc41dd8fbd2aa2c0fbdb8858209b369ccf80307e9844e7c5499d
3ef508d6ce21fdbc61ca43b6187031d9f901fb6304ff695b418628da50b97df8673e92a47a23459e
51fa3f4f64c1d589e79925f5de96de31f14d23abdf0661b448d95a227b21a412f6cbb531ca2373d5
8fe672bc33bf354136f171b5173ca31caae953721d43333f0aa38eca25d9fbb93a40cd752649e294
e01521f00711ed4cf809c80c992d05748f10cebd98372e6a79c8ce6b3fa14912096d54f547658a78
7cd5f262cddc7ba73f8826210b2ee9e5fbc2845c191f94bbbb5158acb08dfa1adc6b3e11200b2b9a
1489ca3c90df62dd0c3d08975a96edb29739b41c686c334ca9cc8ac07bde7844f706427002867fc8
7aefd561a5e3ff9ff91700050a8fe92367b41afb797351dc6e31a064c67bd34cfa3e1099e82330dc
11077698ab867c3c1f721a50819598f2e1bc231421ffdd4fb4a5d3fcd1a74f281ee42abedce3d64d
29dc8aaee215c16c6495da6f4dcfa89ef7c45bb8af4d30a0b0919d818952e5d9be8710927d06708c
18e7c7e93e267b86843a3f0b876be5d050b70d6c9f85c0f5ca63a11a7aeee3050a6fe189dc3ed221
5acc9d8408f6c71cfc8e67da8e96865e23cea9742541ab4961349da1c821509f76926e78efe94437
b68115bc9286e24e21e6a5f0b34c357e60b54179d49507574e5e50c42181f81fa477bb6bc5697d1f
7bfe8cac9c4d8b6eb6046d6b24cc3a10c5f2dc5811a10eea06cfdf48b3dbe0059b3ff05553c0b8a5
f67aaf245c832b205b4e8f699656f7358671463f4bdbf57e38ef3b488bb74264194f53e1bcbf72d4
243ef222a48bb777fe6cac886667e693ca1d41aaba4054fbffc802bd29e8cbe0e4685cee781a4810
0a55925a60d246a685a1168abc9eef766c5f0f632f787d287de45c4848564a0c82f632b639a33344
af81ee4f02c2990ea3900583f4aa756dfd1c71b2279829c8acb01500dfe0959ccd132fecce4156a8
6b6c5603ba94b5813c73942144a491437836280e5e859f347eaa35dbf59200cd43e9846b5729d0f8
be7e1aa2680a44bc429d2ded0ac1de9a295e27c1d2eb11d04494ebda6cf428fb016132165f1b3f0d
3085dd8487d46b71eca68c382b05536de50986f852a5a0d7ed078f2ad60a5439ebcfea88c0d4622d
dae1069591c4c9b591cb49077253a2191ec63df2e16c8eaf7dd415f5ab8595af457ad294975689da
86e9c24f10a730ab57b1cba0a2c53428b5cf48358ec85660292fc2d1a40414e288e5b5da2a36e363
98170679eeabbd319c87120587d5725e52f0340dc2989cbb17f2b6caa4882e422201180033dbe874
0b6acff21d1f1e256b1dde3afb8d6c12ee1e2e95e33decc562794362fba3543f830dd43797240875
772dea2ba764c9b51edf396729e62d37a18c8f29b1e18fbdbd7f8d85e9cb4d6baf9c6f81848286e4
916fcae48d200ca1645aacaf5b813a647922ce474e90f13687de82a808c375fa5b759452e22b7a3d
dc8a4f800b9092ebd09e7ef0906152fa41b866962e764bb4b95fc581d09e4874912df253c49b9b97
8e42f720afceb9dd5b568f78016737ac6643361523ced04a2a95a476345cd5180d419ef572d18f43
146f35c4dbfbbe744184fac7641a633a60647ff3f7a8db55edf8484aaf21ae2866fbd2e14374133a
b9ce856f6aece33efdc7a586e0e67863aeaa1d2c721e5602b430ef989e9b1b754b5473ac8367baa8
b17f096925f0200bc8ac3fb0019afc85b20f46c6d7a745d13fd5c053991115ea45188d1f7f22ab4f
816932b144366fd7402b6b68654bfb0afa81455b6706f4ee422e
#END

#BEGIN DEVICE
	@LocalIOMaster, 12, 27
	@RamFS, 1, 1
	@UserLog, 7, 11
	@IntEthernet, 4, 2
	@DMLogger, 5, 10
	@IntModTCPClient, 9, 14, 1000, 2, 60
	@IntEIPClient, 22, 31, 1000, 2, 60
	@IntEthDMPPClient, 23, 32, 50, 250, 2
	@IntSerial, 10, 15
#END

#BEGIN MEM_CONFIG
	X	BIT	decimal	2048	-1
	Y	BIT	decimal	2048	-1
	WX	SWORD	decimal	256	-1
	WY	SWORD	decimal	256	-1
	C	BIT	decimal	2048
	V	UWORD	decimal	4096
	N	SWORD	decimal	4096
	D	SDWORD	decimal	4096
	R	REAL	decimal	4096
	T	TIMER	decimal	256
	CT	COUNTER	decimal	256
	SS	STRING	decimal	128
	SL	STRING	decimal	64
	UDT	DATETIME	decimal	32
	PL	UWORD	decimal	256
	DLX	BIT	octal	01000	-1
	DLY	BIT	octal	01000	-1
	DLC	BIT	octal	01000
	DLV	UWORD	octal	04000
	MI	BIT	decimal	1024
	MC	BIT	decimal	1024
	MIR	SWORD	decimal	2048
	MHR	SWORD	decimal	2048
	RX	REAL	decimal	256	-1
	RY	REAL	decimal	256	-1
	movement	BIT	decimal	256
	MSG	STRING		0
	ERR	STRING		0
	SysName	STRING		0
	SysDesc	STRING		0
	SerialNum	STRING		0
	PartNum	STRING		0
#END

// Beginning of Code Block $Main
$PRGRM	$Main

// Rung $Main#1
// Offset 0
#BEGIN COMMENT 
"These first two rungs contain the Score and Error Counters. They are incremented separately further into the program."
#END

STR	ST2
STR	ST2
CNT	CT0	0

// Rung $Main#2
// Offset 4
#BEGIN COMMENT 
"These first two rungs contain the Score and Error Counters. They are incremented separately further into the program."
#END

STR	ST2
STR	ST2
CNT	CT1	5

// Rung $Main#3
// Offset 8
#BEGIN COMMENT 
"This rung triggers on the Red Push Button's Rising Edge (One-Shot Rising)."
""
"Rising/Falling Edge contacts don't properly work in Stages, thus it's here."
#END

STRPD	X0
OUT	C10

// Rung $Main#4
// Offset 11
#BEGIN COMMENT 
"This rung triggers on the Green Push Button's Rising Edge (One-Shot Rising)."
""
"Rising/Falling Edge contacts don't properly work in Stages, thus it's here."
#END

STRPD	X1
OUT	C11

// Rung $Main#5
// Offset 14
#BEGIN COMMENT 
"This rung triggers on the Amber Push Button's Rising Edge (One-Shot Rising)."
""
"Rising/Falling Edge contacts don't properly work in Stages, thus it's here."
#END

STRPD	X2
OUT	C12

// Rung $Main#6
// Offset 17
#BEGIN COMMENT 
"The next three rungs generate ""random"" nuimbers ranging between zero and six."
""
"Zero to six include the blank, all the single bit, and all the double bit combinations, but exclude the triple combionation."
""
"This rung energizes C0 as long as at least one button is pressed."
#END

STR	X0
OR	X1
OR	X2
OUT	C0

// Rung $Main#7
// Offset 21
#BEGIN COMMENT 
"This rung times how long C0 is HIGH."
#END

STR	C0
STRPD	C0
TMRA	T0	0

// Rung $Main#8
// Offset 26
#BEGIN COMMENT 
"When C0 switches LOW (all buttons released) this rung stores the remainder of the Button Press time devided by 7."
#END

STRND	C0
MATH	N0	"T0.Acc % 7"

// Rung $Main#9
// Offset 36
#BEGIN COMMENT 
"The Amber Lamp Falling bit is HIGH when the Amber Lamp Output switches LOW."
""
"This is used to count Light Flashes for teh Start and End of the game."
#END

STRND	Y0
OUT	C20

// Rung $Main#10
// Offset 39
#BEGIN COMMENT 
"This rung calculates the On and Off times for the Flasher functions. The On time is currently fixed, though the Off time is discrete based on the LS_Flash (V1:6) bit."
#END

STR	ST1
MATH	V2	"V1:6 * 250"
MATH	V3	"500"

// Rung $Main#11
// Offset 54
#BEGIN COMMENT 
"The next six rungs contain the Flasher functions for the Light Outputs."
""
"The bit asignments for V1 are:"
"(MSB) LS_Flash; LS_RED_BL; LS_GRN_BL; LS_AMB_BL; LS_RED_L; LS_GRN_L; LS_AMB_L (LSB)"
#END

STR	V1:0
FLASHER	V3	V2	Y0

// Rung $Main#12
// Offset 59
STR	V1:1
FLASHER	V3	V2	Y1

// Rung $Main#13
// Offset 64
STR	V1:2
FLASHER	V3	V2	Y2

// Rung $Main#14
// Offset 69
STR	V1:3
FLASHER	V3	V2	Y5

// Rung $Main#15
// Offset 74
STR	V1:4
FLASHER	V3	V2	Y4

// Rung $Main#16
// Offset 79
STR	V1:5
FLASHER	V3	V2	Y3

// Rung $Main#17
// Offset 84
#BEGIN COMMENT 
"The Start Stage - First active stage"
#END

SG	$Main.S0

// Rung $Main#18
// Offset 86
#BEGIN COMMENT 
"Sets the HMI screen to the Start Screen and instructs the Green Button Light (V1:4) to Flash (V1:6)."
#END

STR	ST1
MATH	V9	"1"
MATH	V1	"(2 ** 6) + (2 ** 4)"

// Rung $Main#19
// Offset 105
#BEGIN COMMENT 
"The the Green Push Button is released, or the HMI start button is pressed the Start Stage is deactivated, the Start Up Stage is activated, the HMI screen is changed to the Start Up Screen and the three Lamps (V1:0, V1:1, V1:2) are instructed to Flash (V1:6)."
#END

STRND	X1
OR	C9
JMP	$Main.S1
MATH	V9	"10"
MATH	V1	"(2 ** 6) + (2 ** 2) + (2 ** 1) + (2 ** 0)"

// Rung $Main#20
// Offset 135
#BEGIN COMMENT 
"The Start Up Stage - count down to game start."
#END

SG	$Main.S1

// Rung $Main#21
// Offset 137
#BEGIN COMMENT 
"This Counter counts out three Lamp Flashes before triggering the next rung."
#END

STRND	Y0
STR	CT2.Done
CNTDN	CT2	3

// Rung $Main#22
// Offset 142
#BEGIN COMMENT 
"This rung deactivates the Start Up Stage, activates the Play Stage, sets all the Lights to Off, resets the Score and Error Calculators to zero, changes the HMI screen to the Play Screen, and resets the Game Step Duration to two seconds."
#END

STR	CT2.Done
JMP	$Main.S2
MATH	V1	"0"
MATH	CT0.Acc	"0"
MATH	CT1.Acc	"0"
MATH	V9	"20"
MATH	V0	"(1250 / ((CT0.Acc / 2) + 1)) + 750"

// Rung $Main#23
// Offset 182
#BEGIN COMMENT 
"The Play Stage - where ""The Magic"" happens"
#END

SG	$Main.S2

// Rung $Main#24
// Offset 184
#BEGIN COMMENT 
"These three rungs activate the processing stages for their associated buttons being pressed. They DO NOT disable the Play Stage when doing this."
#END

STR	C10
SGSET	$Main.S20

// Rung $Main#25
// Offset 186
STR	C11
SGSET	$Main.S21

// Rung $Main#26
// Offset 188
STR	C12
SGSET	$Main.S22

// Rung $Main#27
// Offset 190
#BEGIN COMMENT 
"This timer initiates all game progression."
""
"It only runs while the Play Stage is active."
""
"It is reset if the Play Stage is deactivated or self-resets when it's preset is reached."
#END

STRN	T20.Done
TMR	T20	V0

// Rung $Main#28
// Offset 193
#BEGIN COMMENT 
"The Step Expired Stage is activated when the Game Step timer completes."
"This DOES NOT disable the Play Stage."
#END

STR	T20.Done
SGSET	$Main.S29

// Rung $Main#29
// Offset 195
#BEGIN COMMENT 
"These two rungs keep either Player action flag HIGH for the length of one Flash, then reset them LOW."
#END

STR	C21
OR	C22
ONDTMR	T2	V3	C23

// Rung $Main#30
// Offset 200
STR	C23
RST	C21
RST	C22

// Rung $Main#31
// Offset 203
#BEGIN COMMENT 
"The Step Expired Stage - where ""The Magic"" actually happens"
#END

SG	$Main.S29

// Rung $Main#32
// Offset 205
#BEGIN COMMENT 
"If any of the Button Lights are lit when the Step expires then the Step Expired Stage is deactivated and the Player Error Stage is activated."
#END

STR	V1:3
OR	V1:4
OR	V1:5
JMP	$Main.S99

// Rung $Main#33
// Offset 209
#BEGIN COMMENT 
"When this rung is reached in the scan-cycle the bit values for teh lamps are moved to their respective Button Light bits and any ""extra"" is trimed off."
#END

STR	ST1
MATH	V1	"(V1 << 3) % 64"

// Rung $Main#34
// Offset 220
#BEGIN COMMENT 
"If the RANDal number is negative (no button press since last step expiration) then it is made positive and changed slightly but still kept between zero and six, to produce a ""new"" RANDal number."
#END

STRLT	N0	0
MATH	N0	"(-N0 + 2) % 7"

// Rung $Main#35
// Offset 235
#BEGIN COMMENT 
"If the RANDal number is not negative, its value is wrtten to the bits for the Lamp lights and it is changed slightly and made negative."
""
"Then the Step Expired Stage is deactivated."
#END

STR	ST1
MATH	V1	"V1 | N0"
MATH	N0	"-(N0 + 1)"
SGRST	$Main.S29

// Rung $Main#36
// Offset 254
#BEGIN COMMENT 
"The Red Button Pressed Stage"
#END

SG	$Main.S20

// Rung $Main#37
// Offset 256
#BEGIN COMMENT 
"If the Red Button Light is energized, the Red Pressed Stage is deactivated, the Player Score Stage is activated, and the Red Button Light (V1:5) is instucted to turn off."
#END

STR	Y3
JMP	$Main.S23
MATH	V1	"V1 & ~(2 ** 5)"

// Rung $Main#38
// Offset 269
#BEGIN COMMENT 
"If the Red Button Light is NOT energized, the Red Button Pressed Stage is deactivated and the Player Error Stage is activated."
#END

STRN	Y3
JMP	$Main.S99

// Rung $Main#39
// Offset 271
#BEGIN COMMENT 
"The Green Button Pressed Stage"
#END

SG	$Main.S21

// Rung $Main#40
// Offset 273
#BEGIN COMMENT 
"If the Green Button Light is energized, the Green Pressed Stage is deactivated, the Player Score Stage is activated, and the Green Button Light (V1:4) is instucted to turn off."
#END

STR	Y4
JMP	$Main.S23
MATH	V1	"V1 & ~(2 ** 4)"

// Rung $Main#41
// Offset 286
#BEGIN COMMENT 
"If the Green Button Light is NOT energized, the Green Button Pressed Stage is deactivated and the Player Error Stage is activated."
#END

STRN	Y4
JMP	$Main.S99

// Rung $Main#42
// Offset 288
#BEGIN COMMENT 
"The Amber Button Pressed Stage"
#END

SG	$Main.S22

// Rung $Main#43
// Offset 290
#BEGIN COMMENT 
"If the Amber Button Light is energized, the Amber Pressed Stage is deactivated, the Player Score Stage is activated, and the Amber Button Light (V1:3) is instucted to turn off."
#END

STR	Y5
JMP	$Main.S23
MATH	V1	"V1 & ~(2 ** 3)"

// Rung $Main#44
// Offset 303
#BEGIN COMMENT 
"If the Amber Button Light is NOT energized, the Amber Button Pressed Stage is deactivated and the Player Error Stage is activated."
#END

STRN	Y5
JMP	$Main.S99

// Rung $Main#45
// Offset 305
#BEGIN COMMENT 
"The Player Score Stage - when you're feeling ""The Magic"""
#END

SG	$Main.S23

// Rung $Main#46
// Offset 307
#BEGIN COMMENT 
"The Score count is incremented, the Player Score flag is set HIGH, the Player Erred flag is reset LOW, and the Player Score Stage is deactivated."
#END

STR	ST1
INC	CT0.Acc
SET	C21
RST	C22
SGRST	$Main.S23

// Rung $Main#47
// Offset 312
#BEGIN COMMENT 
"The Player Error Stage - actually, some of ""The Magic"" happens here too!"
#END

SG	$Main.S99

// Rung $Main#48
// Offset 314
#BEGIN COMMENT 
"During the first scan-cycle since the Player Error Stage is activated this rung deactivates the Play Stage (reseting the Step timer), increments the Error counter, instructs the three Lamps (V1:0, V1:1, V1:2) to Flash (V1:6), resets the Player Scored flag LOW, and sets the Player Erred flag HIGH."
#END

STRPD	ST1
SGRST	$Main.S2
INC	CT1.Acc
MATH	V1	"(2 ** 6) + (2 ** 2) + (2 ** 1) + (2 ** 0)"
RST	C21
SET	C22

// Rung $Main#49
// Offset 340
#BEGIN COMMENT 
"When the Amber Lamp finishes its Flash and the Error counter has not reached its preset, this rung instructs the lights to turn off, deactivates the Player Error Stage and activates the Play Stage."
#END

STR	C20
ANDN	CT1.Done
MATH	V1	"0"
JMP	$Main.S2

// Rung $Main#50
// Offset 349
#BEGIN COMMENT 
"When the Amber Lamp finsihes its Flash and the Error counter reached its preset, this rung deactivates the Player Error Stage, activates the End Stage, chages the HMI screen to the Game Over Screen, instructs all three Lamps (V1:0, V1:1, V1:2) to Flash (V1:6), and resets the Error counter to 0."
#END

STR	C20
AND	CT1.Done
JMP	$Main.S3
MATH	V9	"30"
MATH	V1	"(2 ** 6) + (2 ** 2) + (2 ** 1) + (2 ** 0)"
MATH	CT1.Acc	"0"

// Rung $Main#51
// Offset 384
#BEGIN COMMENT 
"The End Stage - Game Over man!"
#END

SG	$Main.S3

// Rung $Main#52
// Offset 386
#BEGIN COMMENT 
"When the End Stage is active this timer counts down."
#END

STR	ST1
TMRDOWN	T3	10000

// Rung $Main#53
// Offset 389
#BEGIN COMMENT 
"This counter counts the number of finished Lamp Flashes. When the accumulated value reaches four, the done bit energizes, reseting the counter on the next scan-cycle."
#END

STRND	Y0
STR	CT3.Done
CNT	CT3	4

// Rung $Main#54
// Offset 394
#BEGIN COMMENT 
"When the counter's done bit is energized the lights are instructed to turn off."
#END

STR	CT3.Done
MATH	V1	"0"

// Rung $Main#55
// Offset 401
#BEGIN COMMENT 
"If the player Score is greater than or equal to the lowest High Score, the High_Score Stage is activated, the Score is written to the lowest High Score, and the High Score Flag is set HIGH."
#END

STRGE	CT0.Acc	V12
ANDN	C30
SGSET	$Main.S30
MATH	V12	"CT0.Acc"
SET	C30

// Rung $Main#56
// Offset 414
#BEGIN COMMENT 
"When the Game Over timer reaches zero, the End Stage is deactivated, the Start Stage is activated, and the High Score Flag is reset LOW."
#END

STR	T3.Done
OR	C39
JMP	$Main.S0
RST	C30

// Rung $Main#57
// Offset 418
#BEGIN COMMENT 
"The High Score Stage - for when you were really feeling ""The Magic"""
#END

SG	$Main.S30

// Rung $Main#58
// Offset 420
#BEGIN COMMENT 
"If the lowest High Score value is greater than the middle High Score value they are swapped."
#END

STRGT	V12	V11
MATH	V11	"V11 + V12"
MATH	V12	"V11 - V12"
MATH	V11	"V11 - V12"

// Rung $Main#59
// Offset 448
#BEGIN COMMENT 
"If the middle High Score value is greater than the highest High Score value they are swapped."
#END

STRGT	V11	V10
MATH	V10	"V10 + V11"
MATH	V11	"V10 - V11"
MATH	V10	"V10 - V11"

// Rung $Main#60
// Offset 476
#BEGIN COMMENT 
"Once the previous rungs are complete, the High Score Stage is deactivated."
#END

STR	ST1
SGRST	$Main.S30

// End of Code Block $Main
$PGMEND	$Main

#BEGIN ELEMENT_DOC
"X0","RED_PB","",""
"X1","GRN_PB","",""
"X2","AMB_PB","",""
"Y0","AMB_L","",""
"Y1","GRN_L","",""
"Y2","RED_L","",""
"Y3","RED_BL","",""
"Y4","GRN_BL","",""
"Y5","AMB_BL","",""
"C0","Button_Pressed","",""
"C9","HMI_Start","",""
"C10","RPB_Rising","",""
"C11","GPB_Rising","",""
"C12","APB_Rising","",""
"C20","AL_Falling","",""
"C21","HMI_Player_Score","",""
"C22","HMI_Player_Erred","",""
"C23","Player_Flag_Clr","",""
"C30","High_Score_Flag","",""
"C39","HMI_End","",""
"V0","Step_Duration","",""
"V1","Lights_Set","",""
"V1:0","LS_AMB_L","",""
"V1:1","LS_GRN_L","",""
"V1:2","LS_RED_L","",""
"V1:3","LS_AMB_BL","",""
"V1:4","LS_GRN_BL","",""
"V1:5","LS_RED_BL","",""
"V1:6","LS_Flash","",""
"V2","Flash_Off_Time","",""
"V3","Flash_On_Time","",""
"V9","HMI_Screen","",""
"V10","High_Score_0","",""
"V11","High_Score_1","",""
"V12","High_Score_2","",""
"N0","RANDal","",""
"T0","Button_Press","",""
"T0.Acc","Press_Duration","",""
"T2","Player_Status","",""
"T3","Game_Over_Timer","",""
"T20","Game_Step","",""
"T20.Done","Game_Step_Done","",""
"CT0","Score_Counter","",""
"CT0.Acc","HMI_Score","",""
"CT1","Error_Counter","",""
"CT1.Acc","HMI_Errors","",""
"CT1.Done","Game_Over","",""
"CT2","Startup_Flash","",""
"CT3","Game_Over_Flash","",""
"$Main.S0","Start_Stage","",""
"$Main.S1","StartUp_Stage","",""
"$Main.S2","Play_Stage","",""
"$Main.S3","End_Stage","",""
"$Main.S20","RED_Pressed","",""
"$Main.S21","GRN_Pressed","",""
"$Main.S22","AMB_Pressed","",""
"$Main.S23","Player_Score","",""
"$Main.S29","Step_Expired","",""
"$Main.S30","High_Score_Stage","",""
"$Main.S99","Player_Error","",""
#END

