// Options: Export entire program; Code Block delimiter instructions;
// Unformatted Rung Comments; Element Documentation Database;
// System Configuration; Memory Configuration/Devices with Built-In Types and User Add-Ons;
// use Element names (no NickNames); rung/address annotations;
// <TAB> parameter delimiter; 
// Write/overwrite file C:\Users\kwmor\Documents\BTC-IC\PLC\Lab\Tanzen-DEV_EXPORT_DMD.txt

PLC H2-DM1E

// Do not modify SYS_CONFIG block!
#BEGIN SYS_CONFIG
316207048112bbcbf200112afa5d26ffab7bcc4e6302270dfc77c99a4682296917caad54c6f12be2
da69adf7e1b5db5bbdb506744250d287d254498661fec64990b3812d3113af18546f044f106fc7b9
2e69917677abc392ca30971607b8d8bc30e2073e99c0bd37495854e53c833419b1207a1e0a945a57
370e3c415c9b9481dd208d6869e06c31a8c5cb98e3f3768d1510bfaaf7d9dbe984a1c477e5693cf1
2f00483f19e3cf6e1accaaadb34a97a40dc7e21c38478819ed0d5c4745d6701c221fc89f183f2a11
b64211f5ffd33060a0a1dec066f9d4b70af29b92e1d6914f94364ce96e299343b6fd06158cf75207
37598291f422fbd4c43563d4b999a86dc96b4658ad01d5f85453363812572efb4ec015f5e3b80b5c
796023f6c2b24bd1e85ead87f4e927434a7df9ce211f24d0719214787cd7f63cf74bcd9abbbb35f6
4826d6587b98439308bc22c30de9ec027863ed93055999cb8be7a1df44b0f7c9ac2020aa02e95d62
70b37bab9cf51125007f8658f92b90a43dd88e28749f268b973f7c52974eed1d7bae01a1f082404c
4f109b28c29dd9bc2b823081f966bb27dc1bbb262f47b66e38e66562ab5bc7c4bee1e225c05f3c04
b99f500ec0b1c6a692d3b9b79252cac45cbc0b7fea8721e2bf01b34653455ee155a49cfdf6185614
2d9284824f6c34a319d595b695e280c4fd1650a9011c8550ab6329daac5386f0a5303d6a2962c1ec
034db7cc492c73b755815acda69210530dc71023dea6c11a1161d20287259e79e2e5f67f98bbfb95
64c7bc287e765cda0d8d43efe2039bf55a007b39cdda51b5c39e4b83a085b93f8a67e6f1c0a35e99
a7d46b23a1ba4c1d6ab3dc06e02ae62972605dfd0e3e8c5d1234e46bf118074104270926e3bcc4a8
79d6612e6caa739a2f520c773f44fd3698d54c2bdef20ad99f883ea04dd8f4faf1b3df294b98553f
902477daa481dc6c7f30a68f4e1039d32f1dd39e834ddcf9b08fa87bb516467f8e9ef3ad9df18708
edbd3f635b272d3480ebf19b88905e82751fc772f3573b355ed642b2a9c93f0e84e113fa6c2be613
9eaf6e6aa8e8079710b07ae97f880bdcafdddffeb835132b9b3d7fdb0b7d55212e143e7315cae1a8
8069f81d5a9886b2d041827a54c65d3509d93d7737cfbb6fa772f55fb855e470b0e5d347b42ac72f
60de5c24dca5eb7d84b01669630092c7770163b815ea26405341ac6d5cc5cca14030b6b016616b00
8d9309ec196654d58afe2e0eb59a3d03ec88a35341a9876aec3aec023bd5f24af153c07f0afcc4fa
b660d42a0b44f1ec447d03dc51d9ae8553abb8e890e0ea608520fdd32fc810addf64f0e4b4f0b5eb
f405ddbd086b7e224b019e026d61634c3ab4353a026a623a4f7cc7b853dfe1e640fc10ebc19d1199
d23d3478d9c309480daf073a6012bd1ee5d0365b170568512cbfe36c7321b6f5bc752e19a6add93d
abbbca0cf8b903167a45704f9f021099218aff6982aad942179d268a741e2ac559db75f9d555450f
11edb0d52ca470a3db5273490165742fab93c65b73c1497621e0b4b24a450f2c73205e3453300a08
9ebfedc4934cd7da0ad93e41d3caeacf61121156edcb702e2f174bae6cd57273ee4474493bdf07e1
7766518c804f2cfc9d6bd0e83c9fad141a135c6a46729a3b8d941acd6fe2792370bf2fb0f0efb3d8
fd873b7564369838aec4c11636631c2b30767afaba837fe8975bad69739e0826749ac6fb4bbe259e
8811586d074a33fe08ccd62dbbc99d692b6da5ac29bc1255e693f9b4cd00f632a80932fa52473203
e8c9ecc32c782c6202079bab91695a7bfd74e01233f461741690ae90863119f68218b923d77fc873
5fcd8ad0169d9af9cfa4a7b38ffc0f02565bf6350a48736af1583d92d971ce412e106b0db9b3d9ea
bc06d73a514ec3eeb0adbb8484c0fce9c1bd4d162c8c6f3717cc67c4fe511df8002963b915e572d1
bfb7fc64875300a83898ce0c0f34315052c169deb83d387abf919385e2cd7db769108a8c1006b97b
13fa23f89596356e1eb275095925391202a46b9d94949edda48d994f1ab306292834c5c6567eb038
ba224425e23bbd491d4bbcbd75fe44322800764e03829a9b31a2d42d6600465bc460bc994f63dca2
b832c54d2385d842ebd9e383256928e1aaabefd3ce0201eeb3ba3f44cb72ad2de63a3605cda1075e
d57f94f2aaa7091abe67866ed8067c3e57b99a2189ee09481d5c32d45212ba1d7f59c5eec29f2300
898d183a55773256f1fd403d5df4c6bb98be1dd37f9d3c37c0c1dde184082c3bc9c9b9a9df5d9bb6
5e37f2904a6d66c0c61c54faac509c00455ceb62e7c54939d3ee8a6ad5fdd970ba01d13337b94647
3183d70eaec84977255c6a0b3685ebbc1eb1b0d67a1f51209b0ef080dc288cf685c774aba0a041a6
a82731b2464c8ece33f6180a412733a27c9407c5b476dffc44ba1c2751372a4ade921d0445f29f4c
c8e4e9fe44448c4c5481a30b61c44c8465300ca350716dd00d5fccb38278de225d852573f2e8bae1
f1ef49af756f81f13d6b0d1d6123166bdf288f0eeb10a553c1d86e0dd8e76c44b37c53fa1f2d1b1e
736b57c64bb5e0ce66d115d1e51c6208c024b599b7ce1ea0a29de66a6dfa62850d8ad071e4c3a2f8
c45750d3e29ce7bd2aeda7cadacdae08a06bda6845cf5bd879edfd89231b31efd674d59b234369ff
dd89dac5fbeec900cf60ada78ca665199464fcb51cfe44686e97dbb24b9978e3d41e9fbae326ec83
8e91bc620cf028b81f14b5aefc7375e0eee2f8445102847c08ecf35d94cc618d07bd9ddff265189e
19357eb1dea34189adc85ed16d624372c3965ef85edd2583831ac35e43bb3aa7f4eb5ffbb9f1cd50
942821f41d7ab123fcfd307284f3970acdbf914faf87c0fc34319da69d29ec7deea91a2b2330dbc7
7618dea9b63dd1fbe40b1ae861b1aa6e1ac2d65f1a5315990e2da6dc743a79e69b12dce44a3a317e
5398bbb290d36d83fbd4ca8cdd112cae6589f9b166f5307698258fc668225658975b55fbd96ae491
4eaf6fd1d8f786e7169e82d2274338f29932b86eb3ec2e1334c2f054cf7fea86ce382d6ef61e47be
cb9db8d2d3cb381236db7a96ab09611d0ce6a322ea81ab0d324840c6651bef04b4254e0e1ba5978f
9d65361580392fecbc3c066c7e999fd3ac1652cbe5763c3f5729fcb5dc31b8fe8627aff64ffa718d
eadfacd539a1695173a85280376bdb019b4fc67008812229234634c6c6612cac4484f0deec506839
1a8fb68ae5496ac15a01c1cc963cde00e653b142ee446d28012f22ff5f6570887c9f97d65936bd42
70d238aac9af0e2c2bcf38908cb2732ae4f11bcb87d86157f8caa6413e54ce48bba9406050024522
3fa88c25e69e845391572885967a68cc8f85f378980cbc39073d1f6ce39e1d626581e65cfc06614f
514baeb1c8f7aa78b761769d37a22280d6e112dec8578ba8cea5d3417e09618fd246b6327eeb6a76
4caecf1a81b5907aba94a155648d0ef06a81665250564c99b097037f432d028732924e8f761a63d3
75f971899bab72c031dd3748f569f8b311add877315734e8d020fad0dd6d74d5aaad45a2629798c6
a6e4ef5fb5754772b07fa9be359f78521a3fbf9c4452cd114e286de548e3554c752a7e4a9fb31a44
9a67fedfcecf493e48c72681d3f4f79500f04489fa91720bc033b7815755dc33c374d42ec9e4ce9d
2dc707227f27427e1a3a40c9e46c8d9a085a000aab26dc488fe2c17cec2cc6f8ae259b154d14497b
b19cae125d88dcc3873e5b6703bbc170a4d362ebf8cce92d72a93bc604c074d408e9b0edc7221b44
8fc464fefb7340e4f4744e80046cffbcd6b3bdb3f3ea90b30e892134f5bcfd85b3bd5e6bec850cc7
bbcba91ea559aca3fdfdbfca2c53c80a0cb22b6824ff65e63344f564368960c0880610cabc2e118e
a78ae7764e1bde6230eb1ad54f546753b6c952e8ad90094a06459ef673518ece5c0e7d227642bd41
c0fa4caa72c3447badafc625d840b5bae4c486372d2d9e27c2fea50d92af4d9e7e56f1bbd07ce0c3
82a693c896f81bf59ac59c4593bf7fce05bc499d2b3daf1ea232b68d39fac5de2b23b53cb0f0c8a6
06d1a032f302e7d53acae168168f74ced3e923af1eab0aa60069d7da4abc32d2dda7cc7479d39a7d
6c9a088c74f42210c168de89ed0f4813a60e5c24d7c34795c618ba4e2646b445bb51b49c926195d0
4f88e619d4cfd066813141c3d80df6ce060b4524f84d78d7e9e7b0d4c6f932fb3c11d0bed95404a8
b587a5d6196cfc33c58f443fe47c4f6184722b72afd01c0c58a182bfbed2fad421f052b85f4a60dc
68a2625065c17d3e7348d1ba53258f41d3961dae45e527aa3a918cbe5c25f08515da2cce452513aa
a3c3c0b40096c72c04fd7f22b57d589f8392c22c6cfccc6aa7b23d059bba812cb077af6887652e3d
45c086f173f8dd8e446b47c81917892ae48210ab1031a17138648fe8a1e9346e7ea11e094523e234
f557ac1f7b3316e9e3574139234efe921ce7be63e9f2f4288ae73f263b9cc9350886b992e960d620
fe727e00e2cea7b2f094d703bf507c2e9822cf7f3dc57d16920ef8c69a8fdd5df06eb94ecc93d564
4a2911eab933e2793ebbc553f8a5a2c55dd0e54418191cdbecab781978cfb2d23b0383a09cbad303
c84448678fb7e038c8d2648f59c7441fc05bfbca2b4c642c810157abbfe91b70c011bf523269a56c
53a837221f403335d5846b77e7f77fb8cea1209c704e5531b6957a4f43870fbbb1378520cae39ae5
941c758a63f1ac2015137541d565ccea84b8cd70e5cf35cfdf89c9bbac3cf38f3b0d99d1c28b413f
5e9037808784be2868124147ee45e293c0889bd2184ed18429203eab6ce8f0fef900a0c1db5349b6
fbc7e6dcb4127d9b66fe5289c3c2bc6778ce876d3edccdb78d174ec11a975089244bc49fe461dc76
cab662166afbcd0c115c777c7f8ff59ff62132b1dcfaee59b32468126157d9fce828683f1ace40d5
78a48506c7e083d62bc4fc664d6a314287866553816361455b36b68c792aa6efd23639b785694cb0
688b69fd23d736d362f4e25b2e83a87ecaf705dbf1dc846cabaad7339d2c6d711fcfd3475167e91a
688d613bd1369064ffe85d1c9193d91f6601717169e72e81ffc18c3656353c08348caf5a3bd029ea
9c10f9fbe535faa5521bad2a04b5a29feb0ead416d9a4d2fad36cd620b5a3ceef6aca2266680aace
b6852d7d2f541a0b6cf897c3eef65e4dea74f901eac649b3488c802ee163b838080983c82752c5ce
02c7fb639ec54efe6a907c377b1af34cfe7452002de2ab59baac89779c7b1e3fe89d58f5d80820ea
579197281505f8a2b51464092ce7d3cbbd380eb32b7da8986212fe6fc60622f6db3f1095f2e4eeff
f9bde6042e25adb30b1e27fa79f587625eb10d25d4716758e1c7a8c51dbdd0ae64abb946e8d0ed7b
4ce610568f17d38af54edfdffbd7eca0082cde9eee811c17e6c7d3ae22fba94a4298579b94828b06
5359d37f265b74332efe82577427ca081d7a78a011fc83fdf72112bc406c95f426377e3802552417
575017fb5b7609232983b0e3d12a9bf3c40a73f63afba99bce6f82e561d741fce18d5cdda88efaa6
74a1f9921b8699f1e1f2aa29afa07c1c24d03c175ea8b42f0f7ccd1a201571161ddbb36fa1aec4f8
9eba269460beb1ebd26dd24b249bbc292cd694ee3a7ec67b5e443fdcc24ac95fbe5e28ab4c762617
394ecf12982b12bf98902e73f05244be2cba9877fddf0b46a17955bbf555e3084b93e4dcf9001df6
eec39115656f015ed0bfa3801e495f305181c0e6bcdfccdabd1a1b6d4985216bfe2e0b9edf25dee9
72a3d8c0ae0f51f6434c35399ac7bd8f4a0978782d5131415458cc08ce80c6bd6a81c12df944d62f
9dfaa715017a6fe39f59084b15fe555c271e5774356b69801586cb3ccde4789dfd3abf41bf273be4
8265a780a1c29cb22625d9576cfb25870a27578d2255dca5856dd22fb16d54351355e118cc5c6494
b680fdf8e6c0f597f0269499ea2eab0390f1a510385d1b5fb93c0c48f0a98d5e442670b8f58d94d8
327d89ea3d8dd19bdd2d93811b0339ab31a42a4b9841ae6a86b778289dc7e81066ac93cff41e1727
d504f08b7c53c9da9cdf4e6cea3bd52ab4cadd7a22468e4ea30767a3704b1b469c3d0ddb5c66a22e
9cc6f0787d63ed04303440563c6699708a9ef970cbfc17eb5a573e053a54b5bca74aa0ebe794462f
d18398e38336b972b94202f337ef49686c9ae4f729daa5df1b9b2d57612d8901e3a30b6ba7d20e6d
415ccb99d18c6dbe9c10c0c29e69f2bf368b527c99e463226595e434bab69af3848bd54c06d11146
f9f56e679478955c1e47a626afa5e1976f7244d2ec78655fbbb32f3fc630df0550b3e40de19c4525
477ef2af7a5dc2d01b4c9120efc686c34b3d4ad1d96c5d29dbafd923863fa46fd21f8cfc319b31b5
7de41fc989ed9652d1f3bc79749d2a2980eb04cbacaae5b1a6545f4a7e88fe048143f8bc1fc8f1ae
dfa875da933d8f3c38a5fdf35d7ff36be490d0abd83ad10d94937215c74cda8703b0c3f8bab71b3b
afb0e754f9eb04752b812cc16177cd326f484f9196ad9387a66383956025a0f46549848ed7de6749
201d15aba88d22e2f6861bf2abfd8a400921e454c8dfa4d5dbd08600143b91b27d8ef022c71b9605
2b7cd144fa4da67b141f9b620e5e4e2d898de49e53df444298d0d5fdd916eae470fac8634d4443c9
51145f68c1e0f914fad1f510b5c4c7a4aab2e2ef1f8b0b1678277e9e68c7a6365ca350d6ce06ff36
e30c9fe9724e5425d10161aad34bd2995409c3819635893cde7a37cee41aa08e1b52b571629b5320
24a341af9abc4c33007e6acc066ebfde0005c881ee547d05889e8ea184b8878ce83593cc23ef4230
b6cd83cf0e8bb0420dc356a33a017f96c205f4ffe5704f90885c6b35a47ff3131de3309dd1ef19b7
57aa0d89af7c1f0e45182d154588e810fbf440bf7f0cab6a4188e11a712f949594398d19f81f67f0
42bf7ada425bf05b3c95f45ed5dcef33c6b50c3f05dcc53ccd30c671bf1c51aaa1b93afa34417a02
43a88e9d582c6bf021a60d10cd5efd90ed033f71b81c6da98f6fbb20f2b54ffdd3ede1369a8dad09
c3e768f9e750c0e698f83546c32b01f29a2f97478a261f6d8937cbbd98717e29acd99b374279fdff
0085e35d13e3f2fd2530461e1c121781886f9cf01153831c75bf66d47c0c4496784abc1dc24e4872
6c39ec9c0d755177edcce1fddc21ed4050f82fb042c7a81197ff6f2c23911ad1f4f92a5a7a3f4790
7cf2cae5bee6945f50a1d7bbaf3b8052030467b8666fb89d628ed98b02bee773ad0b274f16b8b2f6
03c4500b08018ab684d3309ab1f0f35e985dccc0ed0d7286875494325a212b3dc5697422de90b120
786b2647a5e337575514bc7c4f85ad2b2edffc4e8124cf6b1af6d6f0d6ad292e5f48f9e41c5fee24
ebb1b8d9387c4691fe47c1d7ea6ba97cf8c7cd760e5a20d396ba97c87f4ff28a3ee91e03f870e633
94e6bfca90cc08f4157d996c7006290e9a17228aa071f7be97313d321faf5eddc71651ff5e43744c
af32cd5ef76d303ed7a885456cebfd39c7b96a71eda5e3be80a59fa4243fa704076fe540dbbf773b
c8b63214f45528bbb86ac74a75f3507da40409b7a9c92a6ea9b6cc36d54ffac38daed44e36cf99c6
844a3a2539d8731bfadf20c0116ed5b6d3459e717dc597520b722faac92897183d4d33594f9812b1
28b386223b92f6205cb6e4d770b9447a20381a9d454400005bc1c425078081f1f978b7f8497e7bb8
2fb166045bb76b74ef6ad5a5b2a56be67a281a8d05675c7c2fff873c913b682797d93fe34062ee3a
9952af7169865a1bc66de411bfd7967e5ea65cc4a358cefce6218f7df71eda5fc0993503dd84e239
f65d98e8c366722e403e82527931799656ea840c78a1c613ef7efd85dc8603b5516c12966d84d472
2841d51b941892e69156d612b09b04bb0d4ef4d5bae49498ad04296d827e5c1e9de76ad281ee4533
47b28657a0b64aeb5fae6fab3e8aa2d328b7691a3f9089cdde6f69cc9806eeb5aecaf352e0c22ddf
db7255c56a7bdc00982f8186ac894e425c6523fbbeb8331c1cf6ff0b172a5dbd7bcc99b687ac8c3d
b32e6d9b3778c57aab9aaf30fd314a15309e13bbcfcb94eb0e6b2d67dc79dfe350a1e5d7a521d86f
dd4872c6024458385eb0a7a2ad284e84c013bd5cded4f67bc99607c361dc74eb5d99b73e4f84977b
b6a0d13f0c21db9bb8d5bdf726323f55461b84b386587ae81302745b7600e88fb9438d197b4471ea
8e7b2d0945b266cbc3327dc8ea680f395063fc1f08ea970717363a262ef5427e1920b735daa1d72b
bf40604e9981dc21239d98ac20cc4277f710aacb382267526dc406bddd4944a2adc8462e7b997586
fd6b3a23af5160bb5b29c07d293121f984690ed382e60ceec6933a066f86f738d135c9df484ee390
1126b21b352145e98641025714eb92d9c712e6de7332a0f0e9f9f76386265fb803d01ccc62cedab8
dc592b0b3bea2cc911a3cacc836b9db762557bffb606a94da16878ef147c47a23c9857f2f4671f02
51dd0883fb248c87fce928ce31f1509221d6e198ec7c52d99f489cef2c10e5c3bee8f4461b18d573
83995585032c10d059cb0b2fc1c041346dbae60d1de7f35c586fa51a8e4f6c4743cffb49dfbdefb7
adf235fdc775e1012206b12d1b3948d1cbf8a8c488dfda8fda43fbefeff1edab255195119e0494e3
082649e8a5653ea90437a224530dd2ca5abbd615803f8e6f0b17b2a77847323b6ab4884b69e6f10f
cccbf1a41d3312269bd43386e30336e4df918fa9f9223893d90d927c5235a76ae44e23ccf08e775f
19d9bd05cfade31be53a8a4aad66793d8ef98066754cb677e3334c7dcb538f5ca6c695b1f8bc98aa
97227a232073ccd64b012b9f8ca2f4ca42ae215ff50207704aa0288d71adf39e4c684d2f6773c58a
7d46a13236636e12366ceea0d5f405beb9619a5546cb2908da73b2520c223208e2dd753330f12e7d
214e65e8b700970cf0166c070562938f1268ef92296ff1c78e88657603a3b3452f42127d8d9144c4
3fb0a1de490c1a963b20b5a22072d5f9f55793aa653f3b1cb055116d032f89e585a6bfa7947c4fd3
accd6855bab8b982ccba799d5c2acbb549b98932449a4b62c5dee4c55c04f39824aa73903083afd2
d08a4d8c00c36e12b9789ec08e418a90062b288e1646281a1ad82a224e6ceacc083bc82623252143
36c86d432a87ab06c3fd0b08fc269dc3de8569e0e93756912079250faf64d25dfcd233f5458cdd9a
7b2de827ac37354c7739d95737c6f55de61fc13189d1ec131ef862267739efd3368a55f4633c3c30
29e5508708691e7afcf128dfa6c0900bc1e491b2846977ed8d3203d193fb72bfaae63952d57628e4
b3c892637c5c19d3e6235d60c3bdc49dc7c3d854500f7cf24a5fefed0886098fc15c7546e4d3b49d
1e6922c8cd4b44995a6002214741dfc4090dba8bd5b9f1a51397483f393cbcd2ecf3d40b24c01d0f
16d8aece825787ac6f0b9817a63d5b2215a8e1617000e276987267f43eb6b24de2bf2ab8d8850ce8
26ce9516e391c870e78ccccfc2ec5cad5d26e2fcc0a15349e589
#END

#BEGIN DEVICE
	@LocalIOMaster, 12, 27
	@RamFS, 1, 1
	@UserLog, 7, 11
	@IntEthernet, 4, 2
	@DMLogger, 5, 10
	@IntModTCPClient, 9, 14, 1000, 2, 60
	@IntEIPClient, 22, 31, 1000, 2, 60
	@IntEthDMPPClient, 23, 32, 50, 250, 2
	@IntSerial, 10, 15
#END

#BEGIN MEM_CONFIG
	X	BIT	decimal	2048	-1
	Y	BIT	decimal	2048	-1
	WX	SWORD	decimal	256	-1
	WY	SWORD	decimal	256	-1
	C	BIT	decimal	2048
	V	UWORD	decimal	4096
	N	SWORD	decimal	4096
	D	SDWORD	decimal	4096
	R	REAL	decimal	4096
	T	TIMER	decimal	256
	CT	COUNTER	decimal	256
	SS	STRING	decimal	128
	SL	STRING	decimal	64
	UDT	DATETIME	decimal	32
	PL	UWORD	decimal	256
	DLX	BIT	octal	01000	-1
	DLY	BIT	octal	01000	-1
	DLC	BIT	octal	01000
	DLV	UWORD	octal	04000
	MI	BIT	decimal	1024
	MC	BIT	decimal	1024
	MIR	SWORD	decimal	2048
	MHR	SWORD	decimal	2048
	RX	REAL	decimal	256	-1
	RY	REAL	decimal	256	-1
	movement	BIT	decimal	256
	MSG	STRING		0
	ERR	STRING		0
	SysName	STRING		0
	SysDesc	STRING		0
	SerialNum	STRING		0
	PartNum	STRING		0
#END

// Beginning of Code Block $Main
$PRGRM	$Main

// Rung $Main#1
// Offset 0
#BEGIN COMMENT 
"These first two rungs contain the Score and Error Counters. They are incremented separately further into the program."
#END

STR	ST2
STR	ST2
CNT	CT0	0

// Rung $Main#2
// Offset 4
#BEGIN COMMENT 
"These first two rungs contain the Score and Error Counters. They are incremented separately further into the program."
#END

STR	ST2
STR	ST2
CNT	CT1	5

// Rung $Main#3
// Offset 8
#BEGIN COMMENT 
"This rung triggers on the Red Push Button's Rising Edge (One-Shot Rising)."
""
"Rising/Falling Edge contacts don't properly work in Stages, thus it's here."
#END

STRPD	X0
OUT	C10

// Rung $Main#4
// Offset 11
#BEGIN COMMENT 
"This rung triggers on the Green Push Button's Rising Edge (One-Shot Rising)."
""
"Rising/Falling Edge contacts don't properly work in Stages, thus it's here."
#END

STRPD	X1
OUT	C11

// Rung $Main#5
// Offset 14
#BEGIN COMMENT 
"This rung triggers on the Amber Push Button's Rising Edge (One-Shot Rising)."
""
"Rising/Falling Edge contacts don't properly work in Stages, thus it's here."
#END

STRPD	X2
OUT	C12

// Rung $Main#6
// Offset 17
#BEGIN COMMENT 
"The next three rungs generate ""random"" nuimbers ranging between zero and six."
""
"Zero to six include the blank, all the single bit, and all the double bit combinations, but exclude the triple combionation."
""
"This rung energizes C0 as long as at least one button is pressed."
#END

STR	X0
OR	X1
OR	X2
OUT	C0

// Rung $Main#7
// Offset 21
#BEGIN COMMENT 
"This rung times how long C0 is HIGH."
#END

STR	C0
STRPD	C0
TMRA	T0	0

// Rung $Main#8
// Offset 26
#BEGIN COMMENT 
"When C0 switches LOW (all buttons released) this rung stores the remainder of the Button Press time devided by 7."
#END

STRND	C0
MATH	N0	"T0.Acc % 7"

// Rung $Main#9
// Offset 36
#BEGIN COMMENT 
"The Amber Lamp Falling bit is HIGH when the Amber Lamp Output switches LOW."
""
"This is used to count Light Flashes for teh Start and End of the game."
#END

STRND	Y0
OUT	C20

// Rung $Main#10
// Offset 39
#BEGIN COMMENT 
"This rung calculates the On and Off times for the Flasher functions. The On time is currently fixed, though the Off time is discrete based on the LS_Flash (V1:6) bit."
#END

STR	ST1
MATH	V2	"V1:6 * 250"
MATH	V3	"500"

// Rung $Main#11
// Offset 54
#BEGIN COMMENT 
"The next six rungs contain the Flasher functions for the Light Outputs."
""
"The bit asignments for V1 are:"
"(MSB) LS_Flash; LS_RED_BL; LS_GRN_BL; LS_AMB_BL; LS_RED_L; LS_GRN_L; LS_AMB_L (LSB)"
#END

STR	V1:0
FLASHER	V3	V2	Y0

// Rung $Main#12
// Offset 59
STR	V1:1
FLASHER	V3	V2	Y1

// Rung $Main#13
// Offset 64
STR	V1:2
FLASHER	V3	V2	Y2

// Rung $Main#14
// Offset 69
STR	V1:3
FLASHER	V3	V2	Y5

// Rung $Main#15
// Offset 74
STR	V1:4
FLASHER	V3	V2	Y4

// Rung $Main#16
// Offset 79
STR	V1:5
FLASHER	V3	V2	Y3

// Rung $Main#17
// Offset 84
#BEGIN COMMENT 
"The Start Stage - First active stage"
#END

SG	$Main.S0

// Rung $Main#18
// Offset 86
#BEGIN COMMENT 
"Sets the HMI screen to the Start Screen and instructs the Green Button Light (V1:4) to Flash (V1:6)."
#END

STR	ST1
MATH	V9	"1"
MATH	V1	"(2 ** 6) + (2 ** 4)"

// Rung $Main#19
// Offset 105
#BEGIN COMMENT 
"The the Green Push Button is released, or the HMI start button is pressed the Start Stage is deactivated, the Start Up Stage is activated, the HMI screen is changed to the Start Up Screen and the three Lamps (V1:0, V1:1, V1:2) are instructed to Flash (V1:6)."
#END

STRND	X1
OR	C9
JMP	$Main.S1
MATH	V9	"10"
MATH	V1	"(2 ** 6) + (2 ** 2) + (2 ** 1) + (2 ** 0)"

// Rung $Main#20
// Offset 135
#BEGIN COMMENT 
"The Start Up Stage - count down to game start."
#END

SG	$Main.S1

// Rung $Main#21
// Offset 137
#BEGIN COMMENT 
"This Counter counts out three Lamp Flashes before triggering the next rung."
#END

STRND	Y0
STR	CT2.Done
CNTDN	CT2	3

// Rung $Main#22
// Offset 142
#BEGIN COMMENT 
"This rung deactivates the Start Up Stage, activates the Play Stage, sets all the Lights to Off, resets the Score and Error Calculators to zero, changes the HMI screen to the Play Screen, and resets the Game Step Duration to two seconds."
#END

STR	CT2.Done
JMP	$Main.S2
MATH	V1	"0"
MATH	CT0.Acc	"0"
MATH	CT1.Acc	"0"
MATH	V9	"20"
MATH	V0	"(1250 / ((CT0.Acc / 2) + 1)) + 750"

// Rung $Main#23
// Offset 182
#BEGIN COMMENT 
"The Play Stage - where ""The Magic"" happens"
#END

SG	$Main.S2

// Rung $Main#24
// Offset 184
#BEGIN COMMENT 
"These three rungs activate the processing stages for their associated buttons being pressed. They DO NOT disable the Play Stage when doing this."
#END

STR	C10
SGSET	$Main.S20

// Rung $Main#25
// Offset 186
STR	C11
SGSET	$Main.S21

// Rung $Main#26
// Offset 188
STR	C12
SGSET	$Main.S22

// Rung $Main#27
// Offset 190
#BEGIN COMMENT 
"This timer initiates all game progression."
""
"It only runs while the Play Stage is active."
""
"It is reset if the Play Stage is deactivated or self-resets when it's preset is reached."
#END

STRN	T20.Done
TMR	T20	V0

// Rung $Main#28
// Offset 193
#BEGIN COMMENT 
"The Step Expired Stage is activated when the Game Step timer completes."
"This DOES NOT disable the Play Stage."
#END

STR	T20.Done
SGSET	$Main.S29

// Rung $Main#29
// Offset 195
#BEGIN COMMENT 
"These two rungs keep either Player action flag HIGH for the length of one Flash, then reset them LOW."
#END

STR	C21
OR	C22
ONDTMR	T2	V3	C23

// Rung $Main#30
// Offset 200
STR	C23
RST	C21
RST	C22

// Rung $Main#31
// Offset 203
#BEGIN COMMENT 
"The Step Expired Stage - where ""The Magic"" actually happens"
#END

SG	$Main.S29

// Rung $Main#32
// Offset 205
#BEGIN COMMENT 
"If any of the Button Lights are lit when the Step expires then the Step Expired Stage is deactivated and the Player Error Stage is activated."
#END

STR	V1:3
OR	V1:4
OR	V1:5
JMP	$Main.S99

// Rung $Main#33
// Offset 209
#BEGIN COMMENT 
"When this rung is reached in the scan-cycle the bit values for teh lamps are moved to their respective Button Light bits and any ""extra"" is trimed off."
#END

STR	ST1
MATH	V1	"(V1 << 3) % 64"

// Rung $Main#34
// Offset 220
#BEGIN COMMENT 
"If the RANDal number is negative (no button press since last step expiration) then it is made positive and changed slightly but still kept between zero and six, to produce a ""new"" RANDal number."
#END

STRLT	N0	0
MATH	N0	"(-N0 + 2) % 7"

// Rung $Main#35
// Offset 235
#BEGIN COMMENT 
"If the RANDal number is not negative, its value is wrtten to the bits for the Lamp lights and it is changed slightly and made negative."
""
"Then the Step Expired Stage is deactivated."
#END

STR	ST1
MATH	V1	"V1 | N0"
MATH	N0	"-(N0 + 1)"
SGRST	$Main.S29

// Rung $Main#36
// Offset 254
SG	$Main.S20

// Rung $Main#37
// Offset 256
STR	Y3
JMP	$Main.S23
MATH	V1	"V1 & ~(2 ** 5)"

// Rung $Main#38
// Offset 269
STRN	Y3
JMP	$Main.S99

// Rung $Main#39
// Offset 271
SG	$Main.S21

// Rung $Main#40
// Offset 273
STR	Y4
JMP	$Main.S23
MATH	V1	"V1 & ~(2 ** 4)"

// Rung $Main#41
// Offset 286
STRN	Y4
JMP	$Main.S99

// Rung $Main#42
// Offset 288
SG	$Main.S22

// Rung $Main#43
// Offset 290
STR	Y5
JMP	$Main.S23
MATH	V1	"V1 & ~(2 ** 3)"

// Rung $Main#44
// Offset 303
STRN	Y5
JMP	$Main.S99

// Rung $Main#45
// Offset 305
SG	$Main.S23

// Rung $Main#46
// Offset 307
STR	ST1
INC	CT0.Acc
SET	C21
RST	C22
SGRST	$Main.S23

// Rung $Main#47
// Offset 312
#BEGIN COMMENT 
"The Player Error Stage - actually, some of ""The Magic"" happens here too!"
#END

SG	$Main.S99

// Rung $Main#48
// Offset 314
#BEGIN COMMENT 
"During the first scan-cycle since the Player Error Stage is activated this rung deactivates the Play Stage (reseting the Step timer), increments the Error counter, instructs the three Lamps (V1:0, V1:1, V1:2) to Flash (V1:6), resets the Player Scored flag LOW, and sets the Player Erred flag HIGH."
#END

STRPD	ST1
SGRST	$Main.S2
INC	CT1.Acc
MATH	V1	"(2 ** 6) + (2 ** 2) + (2 ** 1) + (2 ** 0)"
RST	C21
SET	C22

// Rung $Main#49
// Offset 340
#BEGIN COMMENT 
"When the Amber Lamp finishes its Flash and the Error counter has not reached its preset, this rung instructs the lights to turn off, deactivates the Player Error Stage and activates the Play Stage."
#END

STR	C20
ANDN	CT1.Done
MATH	V1	"0"
JMP	$Main.S2

// Rung $Main#50
// Offset 349
#BEGIN COMMENT 
"When the Amber Lamp finsihes its Flash and the Error counter reached its preset, this rung deactivates the Player Error Stage, activates the End Stage, chages the HMI screen to the Game Over Screen, instructs all three Lamps (V1:0, V1:1, V1:2) to Flash (V1:6), and resets the Error counter to 0."
#END

STR	C20
AND	CT1.Done
JMP	$Main.S3
MATH	V9	"30"
MATH	V1	"(2 ** 6) + (2 ** 2) + (2 ** 1) + (2 ** 0)"
MATH	CT1.Acc	"0"

// Rung $Main#51
// Offset 384
#BEGIN COMMENT 
"The End Stage - Game Over man!"
#END

SG	$Main.S3

// Rung $Main#52
// Offset 386
#BEGIN COMMENT 
"When the End Stage is active this timer counts down."
#END

STR	ST1
TMRDOWN	T3	10000

// Rung $Main#53
// Offset 389
#BEGIN COMMENT 
"This counter counts the number of finished Lamp Flashes. When the accumulated value reaches four, the done bit energizes, reseting the counter on the next scan-cycle."
#END

STRND	Y0
STR	CT3.Done
CNT	CT3	4

// Rung $Main#54
// Offset 394
#BEGIN COMMENT 
"When the counter's done bit is energized the lights are instructed to turn off."
#END

STR	CT3.Done
MATH	V1	"0"

// Rung $Main#55
// Offset 401
#BEGIN COMMENT 
"If the player Score is greater than or equal to the lowest High Score, the High_Score Stage is activated, the Score is written to the lowest High Score, and the High Score Flag is set HIGH."
#END

STRGE	CT0.Acc	V12
ANDN	C30
SGSET	$Main.S30
MATH	V12	"CT0.Acc"
SET	C30

// Rung $Main#56
// Offset 414
#BEGIN COMMENT 
"When the Game Over timer reaches zero, the End Stage is deactivated, the Start Stage is activated, and the High Score Flag is reset LOW."
#END

STR	T3.Done
OR	C39
JMP	$Main.S0
RST	C30

// Rung $Main#57
// Offset 418
SG	$Main.S30

// Rung $Main#58
// Offset 420
STRGT	V12	V11
MATH	V11	"V11 + V12"
MATH	V12	"V11 - V12"
MATH	V11	"V11 - V12"

// Rung $Main#59
// Offset 448
STRGT	V11	V10
MATH	V10	"V10 + V11"
MATH	V11	"V10 - V11"
MATH	V10	"V10 - V11"

// Rung $Main#60
// Offset 476
STR	ST1
SGRST	$Main.S30

// End of Code Block $Main
$PGMEND	$Main

#BEGIN ELEMENT_DOC
"X0","RED_PB","",""
"X1","GRN_PB","",""
"X2","AMB_PB","",""
"Y0","AMB_L","",""
"Y1","GRN_L","",""
"Y2","RED_L","",""
"Y3","RED_BL","",""
"Y4","GRN_BL","",""
"Y5","AMB_BL","",""
"C0","Button_Pressed","",""
"C9","HMI_Start","",""
"C10","RPB_Rising","",""
"C11","GPB_Rising","",""
"C12","APB_Rising","",""
"C20","AL_Falling","",""
"C21","Player_Scored","",""
"C22","Player_Erred","",""
"C23","Player_Flag_Clr","",""
"C30","High_Score_Flag","",""
"C39","HMI_End","",""
"V0","Step_Duration","",""
"V1","Lights_Set","",""
"V1:0","LS_AMB_L","",""
"V1:1","LS_GRN_L","",""
"V1:2","LS_RED_L","",""
"V1:3","LS_AMB_BL","",""
"V1:4","LS_GRN_BL","",""
"V1:5","LS_RED_BL","",""
"V1:6","LS_Flash","",""
"V2","Flash_Off_Time","",""
"V3","Flash_On_Time","",""
"V9","HMI_Screen","",""
"V10","High_Score_0","",""
"V11","High_Score_1","",""
"V12","High_Score_2","",""
"N0","RANDal","",""
"T0","Button_Press","",""
"T0.Acc","Press_Duration","",""
"T2","Player_Status","",""
"T3","Game_Over_Timer","",""
"T20","Game_Step","",""
"T20.Done","Game_Step_Done","",""
"CT0","Score_Counter","",""
"CT0.Acc","Score","",""
"CT1","Error_Counter","",""
"CT1.Acc","Errors","",""
"CT1.Done","Game_Over","",""
"CT2","Startup_Flash","",""
"CT3","Game_Over_Flash","",""
"$Main.S0","Start_Stage","",""
"$Main.S1","StartUp_Stage","",""
"$Main.S2","Play_Stage","",""
"$Main.S3","End_Stage","",""
"$Main.S20","RED_Pressed","",""
"$Main.S21","GRN_Pressed","",""
"$Main.S22","AMB_Pressed","",""
"$Main.S23","Player_Score","",""
"$Main.S29","Step_Expired","",""
"$Main.S30","High_Score_Stage","",""
"$Main.S99","Player_Error","",""
#END

