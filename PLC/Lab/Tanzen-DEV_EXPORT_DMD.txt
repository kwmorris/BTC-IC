// Options: Export entire program; Code Block delimiter instructions;
// Unformatted Rung Comments; Element Documentation Database;
// System Configuration; Memory Configuration/Devices with Built-In Types and User Add-Ons;
// use Element names (no NickNames); rung/address annotations;
// <TAB> parameter delimiter; 
// Write/overwrite file C:\Users\kwmor\Documents\BTC-IC\PLC\Lab\Tanzen-DEV_EXPORT_DMD.txt

PLC H2-DM1E

// Do not modify SYS_CONFIG block!
#BEGIN SYS_CONFIG
c291f4f772e1483801f3e2d909aed50c58883fbd90f1d4fe0f843a69b571da9ae4395ea73502d811
299a5e04124628a84e46f587b1a3217421a7ba75920d35ba634072dec2e05ceba79cf7bce39c344a
dd9a62858458306139c364e5f44b2b4fc311f4cd6a334ec4baaba716cf70c7ea42d389edf967a9a4
c4fdcfb2af6867722ed37e9b9a139fc25b36386b1000857ee6e34c59042a281a77523784169acf02
dcf3bbccea103c9de93f595e40b96457fe3411efcbb47bea1efeafb4b62583efd1ec3b6cebccd9e2
45b1e2060c20c39353522d33950a2744f9016861122562bc67c5bf1a9dda60b0450ef5e67f04a1f4
c4aa716207d1082737c690274a6a5b9e3a98b5ab5ef2260ba7a0c5cbe1a4dd08bd33e606104bf8af
8a93d0053141b8221bad5e74071ad4b0b98e0a3dd2ecd7238261e78b8f2405cf04b83e694848c605
bbd525ab886bb060fb4fd130fe1a1ff18b901e60f6aa6a387814522cb743043a5fd3d359f11aae91
834088586f06e2d6f38c75ab0ad86357ce2b7ddb876cd57864cc8fa164bd1eee885df2520371b3bf
bce368db316e2a4fd871c3720a9548d42fe848d5dcb4459dcb15969158a834374d1211d633accff7
4a6ca3fd3342355561204a4461a13937af4ff88c1974d2114cf240b5a0b6ad12a6576f0e05eba5e7
de617771bc9fc750ea266645661173370ee5a35af2ef76a35890da295fa0750356c3ce99da91321f
f0be443fbadf8044a672a93e5561e3a0fe34e3d02d5532e9e29221f174d66d8a1116058c6b480866
97344fdb8d85af29fe7eb01c11f06806a9f388ca3e29a246306db87053764acc799415023350ad6a
542798d05249bfee99402ff513d915da8193ae0efdcd7faee1c7179802ebf4b2f7d4fad5104f375b
8a2592dd9f598069dca1ff84ccb70ec56b26bfd82d01f92a6c7bcd53be2b070902402cdab86ba6cc
63d7842957722f9f8cc3557cbde3ca20dcee206d70be2f0a437c5b8846e5b58c7d6d005e6e0274fb
1e4ecc90a8d4dec7731802687b63ad7186ec348100a4c8c6ad25b1415a3accfd7712e0099fd815e0
6d5c9d995b1bf464e343891a8c7bf82f5c2e2c0d4bc6e0d868ce8c28f88ea6d2dde7cd80e639125b
739a0beea96b754123b27189a735aec6fa2ace84c43c489c548106ac4ba61783431620b447d934dc
932dafd72f56188e7743e59a90f3613484f2904be619d5b3a0b25f9eaf363f52b3c34543e59298f3
7e60fa1fea95a726790dddfd4669cef01f7b50a0b25a74991fc91ff1c82601b902a0338cf90f3709
459327d9f8b7021fb78ef02fa22a5d76a0584b1b6313199376d30e20dc3be35e2c97031747034618
07f62e4efb988dd1b8f26df19e9290bfc947c6c9f19991c9bc8f344ba02c1215b30fe318326ee26a
21cec78b2a30fabbfe5cf4c993e14eed1623c5a8e4f69ba2df4c109f80d245064f86ddea555e2ace
584839ff0b4af0e589b683bc6cf1e36ad2790c9a71592ab1e46ed57987edd936aa28860a26a6b6fc
e21e4326df57835028a180baf29687dc586035a88032ba85d2134741b9b6fcdf80d3adc7a0c3f9fb
6d4c1e3760bf2429f92acdb22039193c92e1e2a51e3883dddce4b85d9f2681801db787bac82cf412
8495a27f73bcdf0f6e98231bcf6c5ee7e9e0af99b58169c87e67e93e9c118ad0834cdc43031c402b
0e74c88697c56bcb5d3732e5c590efd8c385890949708c1b64a85e9a806dfbd587693508b84dd66d
7be2ab9ef4b9c00dfb3f25de483a6e9ad89e565fda4fe1a615600a473ef305c15bfac109a1b4c1f0
1b3a1f30df8bdf91f1f46858629aa9880e8713e1c0079287e5635d6375c2ea0571eb4ad0248c3b80
ac3e7923e56e690a3c5754407c0ffcf1a5a805c6f9bb809902abce612a823db2dde398fe4a402a19
4ff524c9a2bd301d435e487777330f1a324ebee5df7f9cc4e43f94370da2ee0bf3da904ae6168122
4c440f9774a0f35bcb6b3dfffcc7c2a3a1329a2d4bcecb894c626076113e8e449ae3797fe3f54a88
e009d00b6665c69ded4186faaad6cae1f157986e67676d2e577e6abce940f5dadbc73635a58d43cb
49d1b7d611c84ebaeeb84f4e860db7c1dbf385bdf0716968c25127de95f3b5a837934f6abc902f51
4bc136bed0762bb1182a1070d69adb1259581c203df1f21d4049ccb738815ede15c9c5f63e52f4ad
268c67015954fae94d94759d2bf58fcda44a69d27a1dfabbeeafc127a1e149ee8caa361d316cd0f3
7a7eebc9a684c1a5020eb3ceae0735486b4dee208c6ecfc433322e1277fbdfc83a3a4a5a2cae6845
adc40163b99e953335efa7095fa36ff3b6af18911436baca201d7999260e2a8349f222c0c44ab5b4
c27024fd5d3bba84d6af99f8c576184fed42432589eca2d368fd03732fdb7f05763487585353b255
5bd4c241b5bf7d3dc005ebf9b2d4c0518f67f43647852c0fb749efd4a2c4d9b92d61eef7b6016cbf
3b171a0db7b77fbfa77250f89237bf7796c3ff50a3829e23feac3f40718b2dd1ae76d680011b4912
021cba5c869c7202ce98feee92d0e5982cdb7cfd18e356a0322b9dfe2b149fb7408fa009ecdee8ed
8098a435b846133d9522e62216ef91fb33d7466a443ded53516e15999e099176fe7923821730510b
37a4a320116f144ed91e5439293e5dfb5398299bb63ca82b8a1e0e7ad0e8c21c25872668d0b09a0c
2e7a2936081d3af33c935e547f5596ea67970f46ef0db79b9d642841b86a8b1027ed6c4910d51f70
7d624f91ff03db4bece7465d0f8086131d110bb7a2f1778ffb1f00ae673f927ef44e6e2c0196eb6d
eac68d422d50b27a5e3bad229e91b0813065ad0bad2ed67070e930adb048c9540718ac084a023ea3
67dbd207ee8942d00f0ec381770064f93e4c62bc5c74330fc7c26e556eda1f8e1d5ae9d8d0c32834
85eb2d5a45ce220817f8e91b9242599de93125ace9a0e66afdde552f87c98a1568e12f17b9c9c28d
a06b484163209e700827397f2ee2df5d967a0a429506c3856bd67c359bd1a5ab64a8a6082a991762
bd5c9c222b047514e56d7121d4b0cb016ac14b9d401fdde0c73103a73c8c19753dcbde9d05edb44d
386e4b212038cbe1c528896558fa92eeff1550d1197258fec1bbb33596e81cf747d6bdfde856647c
6e96c5e673cadc1f4fcff59f8d6a6c205fe5a1381685cfcca4da0f462fc24b0d75d45c05bc09827e
192c5f26ca529aa2805ba173c49828f268bc3583fb72d1dad0b5c7353592df5fb777032d1fa39bca
e97c457916ba9932a9f2323f65cf2df315a042b11db79edbf2dcd10cac96837b8f6c6425aac54eb1
8321cb593a5cfddfd83ccb637f4180d91702e838742b92a40b3955b2cda73dbb485ab393a3f1b6d1
cc5b7fd6156d77a062a4db7665899b3f7c76008b6bff4fcaf4ceec9f106dee91967215af0ff592bc
a2b85d423b04598b4492856ec451d1732512e12d3ba4785b3d5620b28dfa927c21b545c18d189985
bf5d3ce972466389496752a6977efd03997295a1a3a5bf6a4364f08cb0def174c161bd7c85e99020
860a827a68588133c22ec4bb069a0b40e25e2b84c2a4c71b23d309232e9e8726595eb65191646b35
55171cac4686b481438c5a4dc66c8ba1e9cc4c6fb7a13ee2bddb9e16bb10a6bf86d98db96c40e9b7
69940d2c3d3cbacdbb34d57220070466f303b77a096281f833c04472a4a62fc0308727dd3a173d6e
de34f4d18cd4b18de9c9b33a179f7e69fba9f3f958d52fbb7c11328f1fdf350b5dd668e6bee7ba88
426f5de1ae7b2f3074cda894f0483283572091180b3f1ade815ac835f7338727fb1a431e34d1e8b7
7c37970d0880b3170787bd73f79f0c4f25404e4000196340fd7ad2c7064f0e76404ead981f76ff34
48385aed56aa5f500e0e4c39dfa03bf9ff41d89bd70c9615c0b70697c57a93337bf5e3394fdde27d
54791485bde82d91c318e926bca794a0453aa11b5e63fab9f5b66d0580a27d3daffd8ed185b14eb2
3309bf598130b7885e5c35d62bb34649173775c4dede6dd4310d56fe615cbe6d8da50248238f1330
7155603b650be80669366fb6604c8c3df64fba6ed8ce5ced51c1457eca09362dd8d046cf43033b55
f52253c100f11426c939129be57c873d201ad05ced58f955f39a2429b94fc1212e543f878a20698e
9f69fb7f8707d1e3329b2d7a1efcbbe055fdafd72430b46635eb49bdd5b547b648a2476f61926623
bc7b15ea273c239572c2b2302bfe053df5f8b6d70bbe8b241a144327350ac108cfe2234d2aa7f75b
46745625ea9f0fc0367cb7cc178fbc927781d8815c23efffab52714c4d210927d203a14bacb9932f
9b5191a396328ecd80bb2249a0d67cb22065ee5db616d459c9627f4dafd60376e629df3db6d6e059
50303347f36534dff70e8cd1468eab6c706131df9f0f3f995441cef6684972df43845c9b7496ddce
b6337502800b2e7db798b43beae47ad91771e358e3c25282cb977c1b521ac79d8d52edfab6d011c7
06a45fec88c0e51a10a4b2cad0bd0d61ef144d901a0107db7914ccd5c86f3ac6fb754a611a9325d3
0d818df3113d5441036724f04ca38fdd6bd13c8cce368ee561fd0b35697c2eae039d4abd3f602697
b9dae2194ac0118acd4836a00b565136ae2316b7ebeaef281f588bea8b3c4121c8f070536f4920f0
3bb7bb947c4413cb3b21977caa34b7ec33a80839d8bf97df72f2a4584c1ae88333e24ca1c19a569f
a05bc4d1ecb3c0c62677988414048c4b3d52d36f83bda6c2456689bcb074fc4842c476d339106916
67ef867990025fd3e6e086b226963f19774b3e83163cc63c2c7a3a485fcf007cc8fe6a223178b2cc
ad63c47374774ddb9be1b2b41db61160337b6821ebbd2277dad3cd589f1b030d0af3533228a0ba45
0834152f47e18e68950da17a30314f948b3d749ecd2f3e447ee4bd32e964a37ad7b8376c17922f85
394591e599083effe2af848f8c7c066c05d2c1422f091daa40d79be192a42a0f1bdb9bcce93db326
8b5776f534137025d8370f95be99c2b1747596a0729092b6a8c5457f8ad9551c21c5ca44769abf43
9b789a0ed024c520910711a8dd705b8d3904f628022f779f585924c06edf9e82ec3c20b4a2941ae9
9b7e92c822c563970c1baeef62602aec95f282829a14dd720c327fc5a5c6cffbc77f5ca9c823da19
6fe30a0816c60956a1e85ed9f746516c18fd5eb29e69bedc5ec53e91f8a9cf1d055f51d59573593d
4576de8edca7e9f89f0b64301d05adbe19870af21935ba40bb7f73dd12904bcbfbfa703bd4a1363d
f13408906d36bd0d99638fc488e900bf0d87a1f3de1158aa495f7a846f88edcc1b6eab062bfbd319
a46264dbe6f60b5146e797fadf1420384ecbfd40d88e5b6b91e10d9c35f5d10528cce36601171d0c
0a4e15f7ddd65e40f8edd4098a067491ad42fed6278294ab12345b36ee4e235d97584ab51b231e88
bf15e3a57ce4207906bd2c2c08241f53fbdf2d6d1d72efe41534205dd1085ab9b16ba468677178f5
a0aa208cd5a887c0dd0d71a487d439fbee898b53e20f700e04d2e14fb39f6607d5c48dcbf1a6d7e4
a4a3e408a885fad0da70431022d9680037f98005c9085a683d9c71169224b20f127eaf2e5b7d0955
87520a61e8756a02120159da5c538fefd723cfe4ad5b47dcfc8f3ee9d3e682e5ee28409c525d370b
6d49d567934d4218219e21b8d7684fdadf25671dc98d3588adb7cc2f31b93aac4daddb58bf85d5e4
cabd3ce16bd8e14c6b63dd8003a1b74ddf496b840e2cf8b5528aa64806a610fbb860172f0af3ee05
1d3062e6969cf2ad234c5073edbaacc3a27233154f2c3f294ee9e89eba76d2980dddf86d2cd62d1a
81502b335dfca205b0bfc6ca69344e7cb9fa8b8bdea2c2b2a7ab3ffb3d73354e997232de0ab725dc
6e0954e6f2899c106caafbb8e60da6afd4eda487c6989a73e67538cf3e178b6e0ec94cb24cd4c817
7196547352316f41d5d62aa49f08d674f9d4a47ed1a62f56769e21dc429ea7c6e0a612eb3faf9767
45730e0b1533066403d5676a19dd58f0630256e3cbaee8ac4acfffbb035a7eadb7d5834b067e672b
c18e7a19ce7e22682ede6072e8f0ca58c257d9b86bb25d9975448bdb6e341be3955f603c07ede4d4
26f703788fa03a296f2cbd9f19c826d947392e89d1b57dbd50f4945083b8e8b56fcefe28af9551dd
6f35038b8e901ef7c3c7b3a5cf956a83796d0a83380fe418a9a4cdf6c9a7464f54b953181467b5dc
22706b1070c54a814ab1f100c41cba9b9f691704da29562ce868dea492de7af21050f8985421fd9e
b2af386a227f9e4d6fe333316d9a014cc578a18f6a1790d1966617c749456900777826bff522e2b5
0a069d94678b66afedb455d55c5612649c81b7211f8b96ac4840dccc35c32cf6a34017fe126fb6d6
b48d015c89ae3123e8bf62d31c357530b8ceb9222a9faeda285c2ad075cc579c21ec7f0fc268c246
8e17ec3a7a1e65a122004f8a876ed9da7318f7385f59164255a7acb98d7b0df772b00b4fec3b025d
2c5b862960ce7ccfcb560e00ae8c0098176323582bc922fe676081e634bf2974f043300b4944e8c8
5c4314a70a18f786d872df3292843ec19cbbbc62655e60745590706693d6530796ba777d242d94ba
d3eee6585b7ed1110575e801580e79b3fad217a73b2c5726282375f3e7c862418e7d03d134e865f6
d88f22b709be5588e7ec6891fdadbdde7a7e176da02cb7b16b23260e2ae5191783093b90beb7b03a
a2e7ac9b32130ae7092206e3463734575941111cec78f8e58bd48d6d9b3455c5af50a3253df50cc5
10ff6c1a81bda7d622f2925920b8216aa7fa307265c67acf2d89c43d17e9537de8a146829168a0d3
d750b25c694fbfc0f38d993ff59d4c2df3f63b721da78ef67b6d7d52774b747f1bc6603fd01cb1c3
453e703cfd7843b1fe30a550c9f28c6531f6070c1683bc637baf98c6578c00e0ee10c36e221cea44
a459fe7a5c8fecfdb6ebdee6b67b1be30807b34c8cff5899b27b12e982dc676667ca7eea0bec9403
b14c8929b1a803a8cf6607ad262f1cc03546ffccf62f36cf3ec335824cefa259524ac909c7b289f1
b05b7d6eabdf9803d255fee33ead0e631ef0cc824bef9e5a7c9c48d30146bc0e201e12c5697e5efa
30149b0a14a333156b0bc6b530d8f20169dc64b479d5ec9e7ac4384e6b828dda5f2a68c4b18a0e0c
f37610aee010010ed6c3b5edefe1e4727b9c6f03e2a070ef864c95278fffb7658bb94fee31bdbb81
9fca1f6ffe86a2841e3f120e2fd21eb3a30bdc43b1345be2640c9cdfd062e922070ad9a989ccb463
8f0139164d1567aca35224485cc873a1f0f7944b959c4b6e917d2a78f14d14805ef8d4bce54b4105
f037a3f8fbf279457720c369420300ad6bae3f331efe817574a767c1a9d2d8ce369a87d12d6342d3
8b98d5b45610c4a4a6e74f8fbc765ed8dd2c0fbd72d73c98e9052503255edaddacbb0a17efac1dd7
18424b2acb8fb5620db4322419985a8f0b343e85fda9d3206549643b8cbc0179cd1aedf00b8315c0
67154c39633ffb07e68e6a9f83f5dafd69e4d1795382044d64c2cec1ec5cad2e34e5a20cadb087bf
5cc13ead049ec3cd245b76b69f180eca344a99821e56104d73566c57d7cc54f7f49c16b3284c84c8
3b45c1e707a6db484b9934b98600a38e57f7fa445a3ad99d5a453fc526bc09307e5d27bdc53c6a35
77b9c9d6ca2b80e8092cd333e29d264520b66d828e3664a1f881dc593adb64ebcebec0aabc6be142
db4075d1c86105d3af451724834ab789d3cbe96eb6b7f3f3a83237d6f47372020a8b440bba8d884b
dc4295f7a84498871c9926564156981589dbe97ef694af8fdc0c74cf62c89bd4642acc10b3911dc9
6aa15c829a75a9e8359e17e24c24658dad55af3750ab3d0f15d27c8e04ed29ac336ac6f02e7711ca
05ae6b1b309581ddb3cd71a18ac28a65a51977ff8b5235e01c8d0e762f75f046a29fe1659e772781
dbb226e867eb611562a525e14368f748febd07264917676b5ef7da9e718dafed6e149921721db6c0
b44175a45345b918ac5d9c58cd795120db449ae9cc637a3e2d9c9a3f6bf51d465d3900a11331de2c
2881a63699882ff36bdc72755f7abdb1af96d0084d4bc0efef050cf8e4d9ae4e883f6a45745f7fce
40dd9e68c48b368958695cc30ec2b9e6c36de0483c386718fd98de942f8a2c10a352162456d22b9c
2ebb8135f1b7abcbad4354515edbbd7733e04eaf2d2705883a65f430922f8718ae6a44cdbc776488
455322ccffd228684b264e04d5c1cca6b5e8774075ab891be0f187a885f31b7c4ab07eea88b78219
7d88defab641953830c18e3b199bfccaa3900fecfb1964f4e4c5c9d5dd06b18dead344c6295224d8
4cb393bd6a722fd2d06e6b5fd33fb18404e35938cbd194a19e37f54e2ebab7515e3bb5dd886a8675
0e98c9d05ca29348a8da338edac2d20a779afd207115ff1d3560c9f59c7504cb22c63a2cbbbd1063
e2d541e8c6d2b61a75b2f1a4e718612a34e1152d80c153031a0a049075d5ac4bf023ef3f913d294b
2faad8f8c819df3ae250393f70986e4491a6880c45f55abe529b8b1ce78fb451cf6ba4010794ecf1
a22efb7008d77f740f1adb3dc202a361d225126b1f8fa12a6cbb6f1cdfe316304d1b07b5e8eb2680
706aa676f0dfe323aa38f8dc3233b2c79e4915feee1400afab9c56e97dbc9fb4b03c08ba2c4e1c44
5e01c60e348612f2d1f542dee8cabb22380b5b377b2c297c29b0081c1c021e58d6a266e26df76710
fbd5ba1b5696cd5af7c451d7a0fe2139a94825e673cc7d9cf8e441548bb4c1c899477bb89a1502fc
3f380257eec0e1d56827c07510f0c5172c627c5a0ad1cb602afe618fa1c6549917bdd03f037d84ac
ea2a4ef63c5e10e816c979b95e958ace7d0a739586bf458410c0bf8e38a07caf553566420b4f6b59
64d189d0d3803f25b8f2d86c7f510739b15dd2ac06f1f483b953db7e825e006dbf9bbedc94803679
8eb552c1c5909de1c59f1d532607f64d4a9269a6b538dafb298041a1ffd1c1fb112e86c0c302dd8e
d2bd961b44f364ff03e59ff4f691607ce19b1c61da9c02347d7b9685f05040b6dcb1e18e7e62b737
cc43522dbaffe965c8d34651d381260a06a4605996ccc8ef43a6e29ef0dc7a1676554c54678fbc20
5f3e9ba6494b4a713f498a6eafd93846ba4a7ac1b769b891362d1736aff7006bd7598063c3705c21
2379be7ff3309de14a8b6d337db27963f5d8db7de5b5dbe9e92bd9d1bd9f193ffbc83bd5d0d6d2b0
c53b9eb0d97458f5300ef8fb0fd56e302d769a131ac4a562d38ad6fc5c9721ae0f21c006b67f2e69
88de1bd45fc4c6bf84ca2aa4c43506ae15ec32c27a221fe0ed0b91d584ca1c20c579a60790cfcfc3
da16a374fb9aed890f02db2c553363f832176241779a841e7ec1f0226008814c5915caa12685db17
403b61908fafea2015d0ae93304e376e34302ba7a3fc8f01b9ac1c1efb75fa7c32af86b51720476e
ed9ad13b3eb8b76aa993f1d2b4b22c37fafe4978264a0256e064bbcccacf4f211f0027f8d733eefc
e52b5d3d71a4745f9cf86be455cea8d1e65b129283f311856b819407cd4541be114cd94b2b76ff1b
d53d66e510623b83147f3f3c311faf5eaed5110f3352a0ba167a
#END

#BEGIN DEVICE
	@LocalIOMaster, 12, 27
	@RamFS, 1, 1
	@UserLog, 7, 11
	@IntEthernet, 4, 2
	@DMLogger, 5, 10
	@IntModTCPClient, 9, 14, 1000, 2, 60
	@IntEIPClient, 22, 31, 1000, 2, 60
	@IntEthDMPPClient, 23, 32, 50, 250, 2
	@IntSerial, 10, 15
#END

#BEGIN MEM_CONFIG
	X	BIT	decimal	2048	-1
	Y	BIT	decimal	2048	-1
	WX	SWORD	decimal	256	-1
	WY	SWORD	decimal	256	-1
	C	BIT	decimal	2048
	V	UWORD	decimal	4096
	N	SWORD	decimal	4096
	D	SDWORD	decimal	4096
	R	REAL	decimal	4096
	T	TIMER	decimal	256
	CT	COUNTER	decimal	256
	SS	STRING	decimal	128
	SL	STRING	decimal	64
	UDT	DATETIME	decimal	32
	PL	UWORD	decimal	256
	DLX	BIT	octal	01000	-1
	DLY	BIT	octal	01000	-1
	DLC	BIT	octal	01000
	DLV	UWORD	octal	04000
	MI	BIT	decimal	1024
	MC	BIT	decimal	1024
	MIR	SWORD	decimal	2048
	MHR	SWORD	decimal	2048
	RX	REAL	decimal	256	-1
	RY	REAL	decimal	256	-1
	movement	BIT	decimal	256
	MSG	STRING		0
	ERR	STRING		0
	SysName	STRING		0
	SysDesc	STRING		0
	SerialNum	STRING		0
	PartNum	STRING		0
#END

// Beginning of Code Block $Main
$PRGRM	$Main

// Rung $Main#1
// Offset 0
#BEGIN COMMENT 
"These first two rungs contain the Score and Error Counters. They are incremented separately further into the program."
#END

STR	ST2
STR	ST2
CNT	CT0	0

// Rung $Main#2
// Offset 4
#BEGIN COMMENT 
"These first two rungs contain the Score and Error Counters. They are incremented separately further into the program."
#END

STR	ST2
STR	ST2
CNT	CT1	5

// Rung $Main#3
// Offset 8
#BEGIN COMMENT 
"This rung triggers on the Red Push Button's Rising Edge (One-Shot Rising)."
""
"Rising/Falling Edge contacts don't properly work in Stages, thus it's here."
#END

STRPD	X0
OUT	C10

// Rung $Main#4
// Offset 11
#BEGIN COMMENT 
"This rung triggers on the Green Push Button's Rising Edge (One-Shot Rising)."
""
"Rising/Falling Edge contacts don't properly work in Stages, thus it's here."
#END

STRPD	X1
OUT	C11

// Rung $Main#5
// Offset 14
#BEGIN COMMENT 
"This rung triggers on the Amber Push Button's Rising Edge (One-Shot Rising)."
""
"Rising/Falling Edge contacts don't properly work in Stages, thus it's here."
#END

STRPD	X2
OUT	C12

// Rung $Main#6
// Offset 17
#BEGIN COMMENT 
"The next three rungs generate ""random"" nuimbers ranging between zero and six."
""
"Zero to six include the blank, all the single bit, and all the double bit combinations, but exclude the triple combionation."
""
"This rung energizes C0 as long as at least one button is pressed."
#END

STR	X0
OR	X1
OR	X2
OUT	C0

// Rung $Main#7
// Offset 21
#BEGIN COMMENT 
"This rung times how long C0 is HIGH."
#END

STR	C0
STRPD	C0
TMRA	T0	0

// Rung $Main#8
// Offset 26
#BEGIN COMMENT 
"When C0 switches LOW (all buttons released) this rung stores the remainder of the Button Press time devided by 7."
#END

STRND	C0
MATH	N0	"T0.Acc % 7"

// Rung $Main#9
// Offset 36
#BEGIN COMMENT 
"The Amber Lamp Falling bit is HIGH when the Amber Lamp Output switches LOW."
""
"This is used to count Light Flashes for teh Start and End of the game."
#END

STRND	Y0
OUT	C20

// Rung $Main#10
// Offset 39
#BEGIN COMMENT 
"This rung calculates the On and Off times for the Flasher functions. The On time is currently fixed, though the Off time is discrete based on the LS_Flash (V1:6) bit."
#END

STR	ST1
MATH	V2	"V1:6 * 250"
MATH	V3	"500"

// Rung $Main#11
// Offset 54
#BEGIN COMMENT 
"The next six rungs contain the Flasher functions for the Light Outputs."
""
"The bit asignments for V1 are:"
"(MSB) LS_Flash; LS_RED_BL; LS_GRN_BL; LS_AMB_BL; LS_RED_L; LS_GRN_L; LS_AMB_L (LSB)"
#END

STR	V1:0
FLASHER	V3	V2	Y0

// Rung $Main#12
// Offset 59
STR	V1:1
FLASHER	V3	V2	Y1

// Rung $Main#13
// Offset 64
STR	V1:2
FLASHER	V3	V2	Y2

// Rung $Main#14
// Offset 69
STR	V1:3
FLASHER	V3	V2	Y5

// Rung $Main#15
// Offset 74
STR	V1:4
FLASHER	V3	V2	Y4

// Rung $Main#16
// Offset 79
STR	V1:5
FLASHER	V3	V2	Y3

// Rung $Main#17
// Offset 84
#BEGIN COMMENT 
"The Start Stage - First active stage"
#END

SG	$Main.S0

// Rung $Main#18
// Offset 86
#BEGIN COMMENT 
"Sets the HMI screen to the Start Screen and instructs the Green Button Light (V1:4) to Flash (V1:6)."
#END

STR	ST1
MATH	V9	"1"
MATH	V1	"(2 ** 6) + (2 ** 4)"

// Rung $Main#19
// Offset 105
#BEGIN COMMENT 
"The the Green Push Button is released, or the HMI start button is pressed the Start Stage is deactivated, the Start Up Stage is activated, the HMI screen is changed to the Start Up Screen and the three Lamps (V1:0, V1:1, V1:2) are instructed to Flash (V1:6)."
#END

STRND	X1
OR	C9
JMP	$Main.S1
MATH	V9	"10"
MATH	V1	"(2 ** 6) + (2 ** 2) + (2 ** 1) + (2 ** 0)"

// Rung $Main#20
// Offset 135
#BEGIN COMMENT 
"The Start Up Stage - count down to game start."
#END

SG	$Main.S1

// Rung $Main#21
// Offset 137
#BEGIN COMMENT 
"This Counter counts out three Lamp Flashes before triggering the next rung."
#END

STRND	Y0
STR	CT2.Done
CNTDN	CT2	3

// Rung $Main#22
// Offset 142
#BEGIN COMMENT 
"This rung deactivates the Start Up Stage, activates the Play Stage, sets all the Lights to Off, resets the Score and Error Calculators to zero, changes the HMI screen to the Play Screen, and resets the Game Step Duration to two seconds."
#END

STR	CT2.Done
JMP	$Main.S2
MATH	V1	"0"
MATH	CT0.Acc	"0"
MATH	CT1.Acc	"0"
MATH	V9	"20"
MATH	V0	"(1250 / ((CT0.Acc / 2) + 1)) + 750"

// Rung $Main#23
// Offset 182
#BEGIN COMMENT 
"The Play Stage - where ""The Magic"" happens"
#END

SG	$Main.S2

// Rung $Main#24
// Offset 184
#BEGIN COMMENT 
"These three rungs activate the processing stages for their associated buttons being pressed. They DO NOT disable the Play Stage when doing this."
#END

STR	C10
SGSET	$Main.S20

// Rung $Main#25
// Offset 186
STR	C11
SGSET	$Main.S21

// Rung $Main#26
// Offset 188
STR	C12
SGSET	$Main.S22

// Rung $Main#27
// Offset 190
#BEGIN COMMENT 
"This timer initiates all game progression."
""
"It only runs while the Play Stage is active."
""
"It is reset if the Play Stage is deactivated or self-resets when it's preset is reached."
#END

STRN	T20.Done
TMR	T20	V0

// Rung $Main#28
// Offset 193
#BEGIN COMMENT 
"The Step Expired Stage is activated when the Game Step timer completes."
"This DOES NOT disable the Play Stage."
#END

STR	T20.Done
SGSET	$Main.S29

// Rung $Main#29
// Offset 195
#BEGIN COMMENT 
"These two rungs keep either Player action flag HIGH for the length of one Flash, then reset them LOW."
#END

STR	C21
OR	C22
ONDTMR	T2	V3	C23

// Rung $Main#30
// Offset 200
STR	C23
RST	C21
RST	C22

// Rung $Main#31
// Offset 203
#BEGIN COMMENT 
"The Step Expired Stage - where ""The Magic"" actually happens"
#END

SG	$Main.S29

// Rung $Main#32
// Offset 205
#BEGIN COMMENT 
"If any of the Button Lights are lit when the Step expires then the Step Expired Stage is deactivated and the Player Error Stage is activated."
#END

STR	V1:3
OR	V1:4
OR	V1:5
JMP	$Main.S99

// Rung $Main#33
// Offset 209
#BEGIN COMMENT 
"When this rung is reached in the scan-cycle the bit values for teh lamps are moved to their respective Button Light bits and any ""extra"" is trimed off."
#END

STR	ST1
MATH	V1	"(V1 << 3) % 64"

// Rung $Main#34
// Offset 220
#BEGIN COMMENT 
"If the RANDal number is negative (no button press since last step expiration) then it is made positive and changed slightly but still kept between zero and six, to produce a ""new"" RANDal number."
#END

STRLT	N0	0
MATH	N0	"(-N0 + 2) % 7"

// Rung $Main#35
// Offset 235
#BEGIN COMMENT 
"If the RANDal number is not negative, its value is wrtten to the bits for the Lamp lights and it is changed slightly and made negative."
""
"Then the Step Expired Stage is deactivated."
#END

STR	ST1
MATH	V1	"V1 | N0"
MATH	N0	"-(N0 + 1)"
SGRST	$Main.S29

// Rung $Main#36
// Offset 254
SG	$Main.S20

// Rung $Main#37
// Offset 256
STR	Y3
JMP	$Main.S23
MATH	V1	"V1 & ~(2 ** 5)"

// Rung $Main#38
// Offset 269
STRN	Y3
JMP	$Main.S99

// Rung $Main#39
// Offset 271
SG	$Main.S21

// Rung $Main#40
// Offset 273
STR	Y4
JMP	$Main.S23
MATH	V1	"V1 & ~(2 ** 4)"

// Rung $Main#41
// Offset 286
STRN	Y4
JMP	$Main.S99

// Rung $Main#42
// Offset 288
SG	$Main.S22

// Rung $Main#43
// Offset 290
STR	Y5
JMP	$Main.S23
MATH	V1	"V1 & ~(2 ** 3)"

// Rung $Main#44
// Offset 303
STRN	Y5
JMP	$Main.S99

// Rung $Main#45
// Offset 305
SG	$Main.S23

// Rung $Main#46
// Offset 307
STR	ST1
INC	CT0.Acc
SET	C21
RST	C22
SGRST	$Main.S23

// Rung $Main#47
// Offset 312
#BEGIN COMMENT 
"The Player Error Stage - actually, some of ""The Magic"" happens here too!"
#END

SG	$Main.S99

// Rung $Main#48
// Offset 314
#BEGIN COMMENT 
"During the first scan-cycle since the Player Error Stage is activated this rung deactivates the Play Stage (reseting the Step timer), increments the Error counter, instructs the three Lamps (V1:0, V1:1, V1:2) to Flash (V1:6), resets the Player Scored flag LOW, and sets the Player Erred flag HIGH."
#END

STRPD	ST1
SGRST	$Main.S2
INC	CT1.Acc
MATH	V1	"(2 ** 6) + (2 ** 2) + (2 ** 1) + (2 ** 0)"
RST	C21
SET	C22

// Rung $Main#49
// Offset 340
#BEGIN COMMENT 
"When the Amber Lamp finishes its Flash and the Error counter has not reached its preset, this rung instructs the lights to turn off, deactivates the Player Error Stage and activates the Play Stage."
#END

STR	C20
ANDN	CT1.Done
MATH	V1	"0"
JMP	$Main.S2

// Rung $Main#50
// Offset 349
#BEGIN COMMENT 
"When the Amber Lamp finsihes its Flash and the Error counter reached its preset, this rung deactivates the Player Error Stage, activates the End Stage, chages the HMI screen to the Game Over Screen, instructs all three Lamps (V1:0, V1:1, V1:2) to Flash (V1:6), and resets the Error counter to 0."
#END

STR	C20
AND	CT1.Done
JMP	$Main.S3
MATH	V9	"30"
MATH	V1	"(2 ** 6) + (2 ** 2) + (2 ** 1) + (2 ** 0)"
MATH	CT1.Acc	"0"

// Rung $Main#51
// Offset 384
#BEGIN COMMENT 
"The End Stage - Game Over man!"
#END

SG	$Main.S3

// Rung $Main#52
// Offset 386
#BEGIN COMMENT 
"When the End Stage is active this timer counts down."
#END

STR	ST1
TMRDOWN	T3	10000

// Rung $Main#53
// Offset 389
#BEGIN COMMENT 
"This counter counts the number of finished Lamp Flashes. When the accumulated value reaches four, the done bit energizes, reseting the counter on the next scan-cycle."
#END

STRND	Y0
STR	CT3.Done
CNT	CT3	4

// Rung $Main#54
// Offset 394
#BEGIN COMMENT 
"When the counter's done bit is energized the lights are instructed to turn off."
#END

STR	CT3.Done
MATH	V1	"0"

// Rung $Main#55
// Offset 401
#BEGIN COMMENT 
"If the player Score is greater than or equal to the lowest High Score, the High_Score Stage is activated, the Score is written to the lowest High Score, and the High Score Flag is set HIGH."
#END

STRGE	CT0.Acc	V12
ANDN	C30
SGSET	$Main.S30
MATH	V12	"CT0.Acc"
SET	C30

// Rung $Main#56
// Offset 414
#BEGIN COMMENT 
"When the Game Over timer reaches zero, the End Stage is deactivated, the Start Stage is activated, and the High Score Flag is reset LOW."
#END

STR	T3.Done
OR	C39
JMP	$Main.S0
RST	C30

// Rung $Main#57
// Offset 418
#BEGIN COMMENT 
"The High Score Stage - for when you were really feeling ""The Magic"""
#END

SG	$Main.S30

// Rung $Main#58
// Offset 420
#BEGIN COMMENT 
"If the lowest High Score value is greater than the middle High Score value they are swapped."
#END

STRGT	V12	V11
MATH	V11	"V11 + V12"
MATH	V12	"V11 - V12"
MATH	V11	"V11 - V12"

// Rung $Main#59
// Offset 448
#BEGIN COMMENT 
"If the middle High Score value is greater than the highest High Score value they are swapped."
#END

STRGT	V11	V10
MATH	V10	"V10 + V11"
MATH	V11	"V10 - V11"
MATH	V10	"V10 - V11"

// Rung $Main#60
// Offset 476
#BEGIN COMMENT 
"Once the previous rungs are complete, the High Score Stage is deactivated."
#END

STR	ST1
SGRST	$Main.S30

// End of Code Block $Main
$PGMEND	$Main

#BEGIN ELEMENT_DOC
"X0","RED_PB","",""
"X1","GRN_PB","",""
"X2","AMB_PB","",""
"Y0","AMB_L","",""
"Y1","GRN_L","",""
"Y2","RED_L","",""
"Y3","RED_BL","",""
"Y4","GRN_BL","",""
"Y5","AMB_BL","",""
"C0","Button_Pressed","",""
"C9","HMI_Start","",""
"C10","RPB_Rising","",""
"C11","GPB_Rising","",""
"C12","APB_Rising","",""
"C20","AL_Falling","",""
"C21","HMI_Player_Score","",""
"C22","HMI_Player_Erred","",""
"C23","Player_Flag_Clr","",""
"C30","High_Score_Flag","",""
"C39","HMI_End","",""
"V0","Step_Duration","",""
"V1","Lights_Set","",""
"V1:0","LS_AMB_L","",""
"V1:1","LS_GRN_L","",""
"V1:2","LS_RED_L","",""
"V1:3","LS_AMB_BL","",""
"V1:4","LS_GRN_BL","",""
"V1:5","LS_RED_BL","",""
"V1:6","LS_Flash","",""
"V2","Flash_Off_Time","",""
"V3","Flash_On_Time","",""
"V9","HMI_Screen","",""
"V10","High_Score_0","",""
"V11","High_Score_1","",""
"V12","High_Score_2","",""
"N0","RANDal","",""
"T0","Button_Press","",""
"T0.Acc","Press_Duration","",""
"T2","Player_Status","",""
"T3","Game_Over_Timer","",""
"T20","Game_Step","",""
"T20.Done","Game_Step_Done","",""
"CT0","Score_Counter","",""
"CT0.Acc","HMI_Score","",""
"CT1","Error_Counter","",""
"CT1.Acc","HMI_Errors","",""
"CT1.Done","Game_Over","",""
"CT2","Startup_Flash","",""
"CT3","Game_Over_Flash","",""
"$Main.S0","Start_Stage","",""
"$Main.S1","StartUp_Stage","",""
"$Main.S2","Play_Stage","",""
"$Main.S3","End_Stage","",""
"$Main.S20","RED_Pressed","",""
"$Main.S21","GRN_Pressed","",""
"$Main.S22","AMB_Pressed","",""
"$Main.S23","Player_Score","",""
"$Main.S29","Step_Expired","",""
"$Main.S30","High_Score_Stage","",""
"$Main.S99","Player_Error","",""
#END

