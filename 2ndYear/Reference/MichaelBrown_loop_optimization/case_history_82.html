<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Case History 82</title>

<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="Author" content="Jenny Allebone">
<meta name="Description" content="Michael Brown Control Engineering specialises in control loop optimisation, offering training, consulting and loop analysis and optimisation tools">
<meta name="Generator" content="NetObjects Fusion 4.0.1 for Windows">
<meta name="Keywords" content="control engineering, engineering, regulatory control, PID control, feedforward control, control training, control loop, control tuning, Protuner, tuning, PID, regulatory, feedforward, training, loop">
<meta name="Michael Brown Control Engineering" content="Specialist in control loop optimisation. The company's main activities are consulting and teaching practical control loop analysis and optimisation">


<body nof="NOF" topmargin="0" leftmargin="0" marginheight="0" marginwidth="0">
    <center>
    <table nof="LY" border="0" cellpadding="0" cellspacing="0" width="751">
        <tbody><tr align="left" valign="top">
            <td height="63" width="750"><img id="Picture1" src="case_history_82_files/Michael_Brown.gif" alt="" border="0" height="63" width="750"></td>
            <td width="1"><img src="case_history_82_files/clearpixel.gif" alt="" border="0" height="1" width="1"></td>
        </tr>
    </tbody></table>
    <table nof="LY" border="0" cellpadding="0" cellspacing="0">
        <tbody><tr align="left" valign="top">
            <td width="117"><img src="case_history_82_files/clearpixel.gif" alt="" border="0" height="1" width="117"></td>
            <td nof="NB_UYHTNN122" class="TextNavBar" style="text-align: center;" nowrap="nowrap">[<a href="http://www.controlloop.co.za/index.htm">Home</a>]&nbsp;[<a href="http://www.controlloop.co.za/About_us/about_us.html">About us</a>]&nbsp;[<a href="http://www.controlloop.co.za/Contact_us/contact_us.html">Contact us</a>]&nbsp;[<a href="http://www.controlloop.co.za/Training/training.html">Training</a>]&nbsp;[<a href="http://www.controlloop.co.za/Optimisation_services/optimisation_services.html">Optimisation services</a>]&nbsp;[<a href="http://www.controlloop.co.za/Protuner/protuner.html">Protuner</a>]</td>
            <td width="117"><img src="case_history_82_files/clearpixel.gif" alt="" border="0" height="1" width="117"></td>
        </tr>
    </tbody></table>
    <table nof="LY" border="0" cellpadding="0" cellspacing="0">
        <tbody><tr align="left" valign="top">
            <td height="2" width="120"><img src="case_history_82_files/clearpixel.gif" alt="" border="0" height="1" width="120"></td>
            <td></td>
            <td width="120"><img src="case_history_82_files/clearpixel.gif" alt="" border="0" height="1" width="120"></td>
        </tr>
        <tr align="left" valign="top">
            <td></td>
            <td nof="NB_UYHTNN122" class="TextNavBar" style="text-align: center;" nowrap="nowrap">[<a href="http://www.controlloop.co.za/Loop_signatures/loop_signatures.html">Loop signatures</a>]&nbsp;[<a href="http://www.controlloop.co.za/Case_histories/case_histories.html">Case histories</a>]&nbsp;[<a href="http://www.controlloop.co.za/Continuous_loop_performance_mo/continuous_loop_performance_mo.html">Continuous loop performance monitoring</a>]</td>
            <td></td>
        </tr>
    </tbody></table>
    <table nof="LY" border="0" cellpadding="0" cellspacing="0" width="751">
        <tbody><tr align="left" valign="top">
            <td height="29" width="1"><img src="case_history_82_files/clearpixel.gif" alt="" border="0" height="1" width="1"></td>
            <td width="750"><img src="case_history_82_files/clearpixel.gif" alt="" border="0" height="1" width="750"></td>
        </tr>
        <tr align="left" valign="top">
            <td></td>
            <td class="TextObject" width="750">
                <p><b><span style="font-size: small; color: rgb(204, 0, 0);">Control Loop Case History 82</span></b></p>
                <p style="text-align: left;"><b><span style="font-size: 10pt;">PROBLEMS IN A CANADIAN PLANT</span></b></p>
                <p style="text-align: left;">People
often ask me if I find the same sort of problems in plants in countries
other than Africa.&nbsp;My reply to this is that in every plant, in
every country that I have visited, there is an almost total lack of
knowledge on the practical aspects of regulatory process control.</p>
                <p style="text-align: left;">This
has again been borne out when I recently presented one of our courses
on practical control optimisation in a very large metals smelting plant
in Canada.</p>
                <p style="text-align: left;">Although
rather old, the plant in general was reasonably up to date when it came
to the control side, and has a large team of technical specialists whom
I was very impressed with.&nbsp;Although not familiar with the Canadian
training standards, I found the C&amp;I technicians extremely
competent, knowledgeable, and self-confident.&nbsp;Their standard was
probably the highest I have encountered in most plants, with the
possible exception of a few plants in the UK.&nbsp;I asked the Control
Manager if they were specially picked, and he replied they are typical
of C&amp;I technicians in Canada, and that the qualification levels are
very high.</p>
                <p style="text-align: left;">Although
extremely courteous they initially displayed a slightly suspicious
attitude towards the course.&nbsp;This is not unusual in first world
countries when people are told to attend a course given by someone from
"darkest Africa".&nbsp;However within as fairly short while, as most
people do, they were enjoying it, and finding it extremely
informative.&nbsp;Several of them came up to me at the end of the
course and said it was the best course on regulatory control they had
ever attended, and they had learnt an enormous amount, which would help
them in their work tremendously.</p>
                <p style="text-align: left;">As
competent as they were, they had never received training before on the
practical aspects of regulatory control, and had, like everyone else
around the world, learnt "to fly by the seats of their pants", as most
of the basic theory taught in control training institutions is almost
unusable in real life.</p>
                <p style="text-align: left;">I
have extracted a few of the many examples of problems found during the
practical session in the plant, to illustrate the lack of knowledge and
understanding of control loops.</p>
                <p style="text-align: left;">The
first example is extremely interesting.&nbsp;Relatively strange
behaviour was discovered on a fairly simple flow control loop.&nbsp;As
can be seen in Figure 1, on the closed loop test a huge overshoot
occurred when a setpoint change was made in the downward
direction.&nbsp;My first thoughts on seeing this was that there was a
large filter on the PV signal, which can cause overshoots to occur on
setpoint changes.&nbsp;However when the setpoint was moved upwards, the
response was extremely slow.&nbsp;</p>
                <p style="text-align: left;">
                    <table nof="TE" border="0" cellpadding="0" cellspacing="0" width="100%">
                        <tbody><tr>
                            <td align="center"><img id="Picture2" src="case_history_82_files/cashis82Fig1.jpg" alt="cashis82Fig1" title="cashis82Fig1" border="0" height="376" width="600"></td>
                        </tr>
                    </tbody></table>
                </p>
                <p style="text-align: center;"><i><span style="font-family: Verdana,Tahoma,Arial,Helvetica,Sans-serif;">Figure 1</span></i></p>
                <p style="text-align: left;">I
had never seen a phenomenon like this before. Another possible reason
that came to mind that could cause it, was that possibly the valve had
a strange response and moved differently in the one direction to the
other.&nbsp;Therefore an open loop test was performed &#8211; see Figure
2.&nbsp;However this shows nothing remarkable, and the valve responded
reasonably well, and was actually slower in the downward direction.</p>
                <p style="text-align: center;"><img id="Picture3" src="case_history_82_files/cashis82Fig2.jpg" alt="cashis82Fig2" title="cashis82Fig2" align="top" border="0" height="376" hspace="0" vspace="0" width="600"></p>
                <p style="text-align: center;"><i>Figure 2</i></p>
                <p style="text-align: left;">The
control system was an older model American DCS.&nbsp;An examination was
made of the control block to try and find if there was anything strange
in the controller configuration, and it was observed that the
anti-reset wind -up (ARW) limit on the low side was set
incorrectly.&nbsp;It was set at a value of about 45% on the PV scale,
whilst the controller's output low limit was set at zero.</p>
                <p style="text-align: left;">Anti-reset
windup (discussed in the Loop Signature Series) is very dependent on
how the controller manufacturer sets it up.&nbsp;Most of them set it to
operate at the controller's high and low output limits, which in most
controllers are usually at 0% and 100%.&nbsp;However in this case the
manufacturer had ARW limits that could be set independently to the
output limits.&nbsp;Furthermore for some reason they had a feature in
the ARW that if the output crossed over the ARW limit the speed of the
integral term was increased by a factor of 16.&nbsp;The explanation in
the manual, like nearly all manufacturers' manuals, was very
confusing.&nbsp;Generally when you run into an ARW limit, you wish to
freeze the integral value, and not make it faster, and I am not sure
why they did this.&nbsp;In any event it explained why the overshoot
occurred.</p>
                <p style="text-align: left;">Once
again it is an excellent example of why people need to understand their
controllers, which is something I am always pushing.&nbsp;Incidentally
the ARW limits were found to be set incorrectly on many other loops as
well, which would have caused control problems on those loops.</p>
                <p style="text-align: left;">The
second example is of a very important flow control loop.&nbsp;The
Operator had been complaining that the performance was poor, but the
C&amp;I people thought the tuning was good.</p>
                <p style="text-align: left;">In
Figure 3, the closed loop "as found" test, it can be seen right at the
beginning that a small setpoint change was made, just to get the
setpoint to a "round" number.&nbsp;</p>
                <p style="text-align: center;"><img id="Picture4" src="case_history_82_files/cashis82Fig3.jpg" alt="cashis82Fig3" title="cashis82Fig3" align="top" border="0" height="379" hspace="0" vspace="0" width="600"></p>
                <p style="text-align: center;"><i>Figure 3</i></p>
                <p style="text-align: left;">The
controller output (PD) immediately starts moving but the flow remained
constant, as the valve didn't move.&nbsp; When a large setpoint change
was made the PD moved quite bit before the valve (and hence the PV)
started changing.&nbsp;The process then went into a rather strange
looking cycle, which can be explained after looking at Figure 4, which
is of the open loop test. </p>
                <p style="text-align: center;"><img id="Picture5" src="case_history_82_files/cashis82Fig4.jpg" alt="cashis82Fig4" title="cashis82Fig4" align="top" border="0" height="379" hspace="0" vspace="0" width="600"></p>
                <p style="text-align: center;"><i>Figure 4</i></p>
                <p style="text-align: left;">In
the first steps which were up and then down, it can be seen that the
valve moved in quite huge steps.&nbsp; However in subsequent small
further downward steps of the PD the valve hardly moved at all,
occasionally moving in just little steps, and eventually it "decided"
it had done enough and stopped moving.&nbsp;The PD then reversed but
the valve remained in its "mutinous" mood and would not move until the
PD had moved up nearly 25%.</p>
                <p style="text-align: left;">In
the last article in this Case History series it was mentioned that
valves need to be obedient and follow the PD if good control is to be
achieved.&nbsp;Here again is an example of how important this
is.&nbsp;In automatic, and going back to the previous figure of the
closed loop test , one can see how the PD integrated and integrated
until finally the valve moved with a massive jump, taking the process
way past setpoint.&nbsp;This was then repeated in the opposite
direction.&nbsp;There is no way one can control with a valve behaving
like this.</p>
                <p style="text-align: left;">Figure
5 is the closed loop "as found" test on a level control in a small
tank. The tank had an extremely small retention time of about 12
seconds (equivalent to a process gain of 0.083), which makes the
control extremely difficult.&nbsp;It has to be very fast, and it is
important that the final control element operates quickly and follows
the PD properly.</p>
                <p style="text-align: center;"><img id="Picture6" src="case_history_82_files/cashis82Fig5.jpg" alt="cashis82Fig5" title="cashis82Fig5" align="top" border="0" height="376" hspace="0" vspace="0" width="600"></p>
                <p style="text-align: center;"><i>Figure 5</i></p>
                <p style="text-align: left;">It
can be seen in the figure that the level was pretty close, but not at
setpoint.&nbsp;As soon as the setpoint was changed, the process went
into a rather strange and unusual looking cycle with an apparent
"squarish" wave appearance.</p>
                <p style="text-align: left;">Without
going into too much detail here, there were in reality two problems
causing this instability.&nbsp;Firstly the tuning was poor with too
much gain, and too fast an integral.&nbsp;Secondly the control element
in this case was a variable speed pump, which seemed to jump around
quite a bit with a constant input.&nbsp;Unfortunately time did not
permit the latter to be investigated properly, and with better tuning,
satisfactory, though bumpy control was achieved.</p>
                <p style="text-align: left;">In
the last two examples it might be noted that the processes were more or
less at setpoint when the closed loop "as found" tests were started,
and only later when a setpoint change was made that problems like
instability occurred.&nbsp;How is this possible?</p>
                <p style="text-align: left;">This
is a very important point, because it explains why I am often
disbelieved when I tell people that at least 85 % of their loops are
probably working completely inefficiently in automatic.&nbsp;Most
people judge their loop performance, by firstly seeing if they are in
automatic , and secondly by seeing if the PV's are lying on, or close
to setpoints.&nbsp;If they are, then people think the loops are working
well.&nbsp;However one must remember that most continuous process
plants are spending most of their time running at steady state
conditions, where changes are often few and fairly slow.&nbsp;What
happens in many cases is that the operators get the process to the
setpoint in manual, and once it is there and stable they switch over to
automatic.&nbsp;If there are no changes taking place, the loop sits
there looking quite good.&nbsp;However if a change does occur, the
control cannot deal with it.&nbsp;The operator then puts it back into
manual and gets it right again.</p>
                <p style="text-align: left;">The
last example is of a pressure control of an acid header.&nbsp;Figure 6
shows the closed loop "as found" test.&nbsp;It can be seen that the
pressure seems to be controlled quite well but there is an continuous
small cycle going on.</p>
                <p style="text-align: center;"><img id="Picture7" src="case_history_82_files/cashis82Fig6.jpg" alt="cashis82Fig6" title="cashis82Fig6" align="top" border="0" height="375" hspace="0" vspace="0" width="600"></p>
                <p style="text-align: center;"><i>Figure 6</i></p>
                <p style="text-align: left;">The
open loop test (see Figure 7) showed that there is a certain amount of
load fluctuations, but these would not account for the cycling seen in
the closed loop test.&nbsp;It was also observed from the latter test
that there was excessive hysteresis (measured at 5%) on the valve,
meaning that the controller output has to move back through 5% before
the valve starts moving on each reversal.&nbsp;In addition it can be
seen from the process gain (change in PV over changer in PD), that the
valve was about 3 times oversized.&nbsp;</p>
                <p style="text-align: center;"><img id="Picture8" src="case_history_82_files/cashis82Fig7.jpg" alt="cashis82Fig7" title="cashis82Fig7" align="top" border="0" height="377" hspace="0" vspace="0" width="600"></p>
                <p style="text-align: center;"><i>Figure 7</i></p>
                <p style="text-align: left;">The
cycling was being largely caused by a combination of poor tuning and
the hysteresis problem.&nbsp;It should be remembered that if a cycle
occurs on a loop with an oversized valve, the amplitude of the cycle
will be amplified directly in proportion to the oversize factor.</p>
                <p style="text-align: left;">The valve was changed out overnight, and the next day the loop was re-optimised and very satisfactory control was obtained.</p>
                <p style="text-align: left;">To
summarise, even sophisticated countries have exactly the same sort of
problems in the same quantities that we do, and the technical staff
there however well trained also lack knowledge of practical control,
due to a complete lack of training in this field.</p>
                <p style="text-align: left;"><a href="http://www.controlloop.co.za/Case_histories/case_histories.html">Index to articles</a></p>
                <p><b><span style="font-size: xx-small;">Michael
Brown is a specialist in control loop optimisation, with many years of
experience in process control instrumentation. His main activities are
consulting, and teaching practical control loop analysis and
optimisation. He gives training courses which can be held in clients'
plants, where students can have the added benefit of practising on live
loops. His work takes him to plants all over South Africa, and also to
other countries. He can be contacted at: <br>Tel (011) 486-0567<br>
                    Fax (011) 646-2385<br>E-Mail:&nbsp;</span></b><a href="mailto:michael.brown@pixie.co.za"><b><span style="font-size: xx-small;">michael.brown@pixie.co.za</span></b></a></p>
            </td>
        </tr>
    </tbody></table>
</center></body></html>
