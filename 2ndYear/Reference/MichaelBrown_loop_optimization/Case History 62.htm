<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0073)http://www.controlloop.co.za/Articles/Case_History_62/case_history_62.htm -->
<HTML><HEAD><TITLE>Case History 62</TITLE>
<META http-equiv=Content-Type content="text/html; charset=ISO-8859-1">
<META content="MSHTML 6.00.2600.0" name=GENERATOR>
<SCRIPT language=JavaScript src="Case History 62_files/menu.js"></SCRIPT>

<SCRIPT language=JavaScript>
<!--
var controlloop = new MenuBar("controlloop",0,2,0,0,1,1,0,"solid","#CCCCCC","#CCCCCC","#999999","Verdana,Tahoma,Arial,Helvetica",12,"normal","normal","#000000","#FFFFFF","");
var m1_controlloop = new Menu("Home",127,100,"../../default.htm");
controlloop.addMenu(m1_controlloop);
var m2_controlloop = new Menu("Training",127,100,"../../Training/training.htm");
controlloop.addMenu(m2_controlloop);
var m3_controlloop = new Menu("Consulting",127,100,"../../Consulting/consulting.htm");
controlloop.addMenu(m3_controlloop);
var m4_controlloop = new Menu("Protuner",127,100,"../../Protuner/protuner.htm");
controlloop.addMenu(m4_controlloop);
var m5_controlloop = new Menu("Contact us",127,100,"../../Contact_us/contact_us.htm");
controlloop.addMenu(m5_controlloop);
var m6_controlloop = new Menu("Articles",130,100,"../../Articles/articles.htm");
controlloop.addMenu(m6_controlloop);
//-->
</SCRIPT>

<SCRIPT>
<!--
function F_loadRollover(){} function F_roll(){}
//-->
</SCRIPT>

<SCRIPT language=JavaScript1.2 src="Case History 62_files/rollover.js"></SCRIPT>
</HEAD>
<BODY text=#000000 vLink=#990000 link=#cc0000 bgColor=#ffffff leftMargin=0 
topMargin=0 MARGINHEIGHT="0" MARGINWIDTH="0">
<SCRIPT language=JavaScript><!--
controlloop.start();
//--></SCRIPT>

<CENTER>
<TABLE cellSpacing=0 cellPadding=0 width=816 border=0>
  <TBODY>
  <TR vAlign=top align=left>
    <TD vAlign=top align=left width=765 colSpan=4 height=77><IMG id=Picture83 
      height=77 src="Case History 62_files/banneroct2002.jpg" width=765 
    border=0></TD>
    <TD colSpan=3></TD></TR>
  <TR vAlign=top align=left>
    <TD width=20 height=7><IMG height=1 
      src="Case History 62_files/clearpixel.gif" width=20 border=0></TD>
    <TD width=51><IMG height=1 src="Case History 62_files/clearpixel.gif" 
      width=51 border=0></TD>
    <TD width=681><IMG height=1 src="Case History 62_files/clearpixel.gif" 
      width=681 border=0></TD>
    <TD width=13><IMG height=1 src="Case History 62_files/clearpixel.gif" 
      width=13 border=0></TD>
    <TD width=1><IMG height=1 src="Case History 62_files/clearpixel.gif" 
      width=1 border=0></TD>
    <TD width=6><IMG height=1 src="Case History 62_files/clearpixel.gif" 
      width=6 border=0></TD>
    <TD width=44><IMG height=1 src="Case History 62_files/clearpixel.gif" 
      width=44 border=0></TD></TR>
  <TR vAlign=top align=left>
    <TD width=766 colSpan=5 height=24><!--<IMG ID="DynamicMenu2501" HEIGHT=24 WIDTH=766 SRC="../../a_blank.gif" BORDER=0 ALT="DynamicMenu2 5.0">
                #DM2_controlloop# 1:coolPost:1--><NOLAYER>
      <DIV id=MBposcontrolloop 
      style="VISIBILITY: hidden; WIDTH: 766px; HEIGHT: 24px"></DIV></NOLAYER><ILAYER 
      id=MBposcontrolloopL VISIBILITY="hide" WIDTH="766" HEIGHT="24" 
      Z-INDEX="0"></ILAYER></TD>
    <TD colSpan=2></TD></TR>
  <TR vAlign=top align=left>
    <TD colSpan=7 height=9></TD></TR>
  <TR vAlign=top align=left>
    <TD colSpan=2></TD>
    <TD width=701 colSpan=4>
      <P><B><FONT face=Verdana,Tahoma,Arial,Helvetica color=#cc0000>Control Loop 
      Case History 62</FONT>
      <P><FONT face=Verdana,Tahoma,Arial,Helvetica>Are there problems in the 
      control loops?</FONT></B>
      <P><FONT face=Verdana,Tahoma,Arial,Helvetica size=-1>At the conclusion of 
      a particularly successful recent control course in a South African paper 
      mill, which ended with two days in the plant optimising live loops, one of 
      the delegates, a very senior instrument technician, remarked that 
      previously he had had no idea whatsoever of the existence of the many 
      problems we had found, because no other course had taught him how to 
      uncover such problems.&nbsp; This is very true.&nbsp; The reason we give 
      these special courses is that very few people in the control field really 
      understand the full practicalities of the subject.&nbsp; 
      <P>Many people have disagreed, and will disagree with this 
      statement.&nbsp; One of them was the chief control engineer in a large 
      plant with thousands of control loops, who when I first met him prior to 
      our course, told me very emphatically that the basic loops in his plant 
      had been optimised, and only 5% of then could be improved on.&nbsp; After 
      the course, a new survey performed in conjunction with four of the plant's 
      advanced control engineers was undertaken. On completion, some three 
      months later, the same chief control engineer signed a report to top 
      management stating that the new survey had revealed in fact, that a 
      startling 68% of the control loops were completely ineffective in 
      automatic.&nbsp; I have on many other occasions also encountered similar 
      changes in attitudes of highly experienced control engineers after they 
      have gone through the training, and done some work in the plant.
      <P>In fact in most plants, senior control people and general management 
      often share a general concept that the so called "base layer controls" are 
      working fine, and further that optimisation is merely a matter of tuning 
      things a little better.&nbsp; They also seem to believe that optimisation 
      is relatively simple and can be carried out by people with low skill 
      levels.&nbsp; Unfortunately nothing can be further from the truth.&nbsp; 
      In fact, after attending a course, the chief control engineer in a large 
      South African petrochemical refinery recently remarked to me:
      <P>"Optimisation in this plant is now only performed by the best and 
      brightest of my control engineers."
      <P>Going back to the course in the paper mill mentioned above, I would 
      like to illustrate a couple of the fairly startling problems we uncovered 
      in an important control loop.&nbsp; Previously, in spite of quite a few 
      attempts to optimise the loop, no one had any idea of the existence of 
      these problems.
      <P>The loop in question was the temperature control on the vacuum 
      condenser on one of the drying sections on one of the paper 
      machines.&nbsp; Good moisture control is very important in the paper 
      making process, so all the loops that make up the drying section control 
      should be really well optimised.&nbsp; On this particular machine, one of 
      the controls was a temperature controlled by varying the flow of cooling 
      water into a heat exchanger to condense the steam.&nbsp; The plant knew 
      that the control performance on this loop was bad, and many attempts had 
      been made over the years to tune it better.
      <P>The control loop consisted of the temperature signal (PV) being fed 
      into the controller and the output of the controller (PD) being sent 
      directly to the cooling water valve.&nbsp; A subject that will be 
      hopefully covered in some future article is the need for "perfect valves" 
      for good control of processes with slow dynamics, such as 
      temperature.&nbsp; It will be shown there that if the valve has problems 
      like hysteresis, non-linearity, and poor rangeability, then it can 
      literally take hours on a slow process for the controller to get the valve 
      to settle at the right position.&nbsp; 
      <P>Perfect valves are rarely found in reality.&nbsp; To overcome the 
      problem, and turn an ordinary every day control valve into an almost 
      perfect one, you have to make use of a cascade flow slave loop, so the 
      primary temperature controller, requests the slave to supply a certain 
      quantity of water, as opposed to having to infer this by directly trying 
      to position the valve.&nbsp; Remember that the primary controller is set 
      up to deal with a rather slow temperature process, and is therefore tuned 
      relatively slowly, which is why it would take so long to correct valve 
      problems.&nbsp; The cascade secondary flow loop on the other hand is 
      dealing with a fast flow process and is tuned really quickly, and thus can 
      sort out the valve problems within a relatively very short time, and will 
      supply the correct amount of water as asked for by the primary controller.
      <P>Fortunately in this particular case, although there was no cascade 
      secondary loop installed, there was a flowmeter in the cooling water line, 
      so the first test performed was making steps in manual on the output of 
      the temperature controller, recording both the water flow and temperature.
      <P>Figure 1 illustrates the recording of output and water flow.&nbsp; 
      </FONT>
      <P><B><FONT face=Verdana,Tahoma,Arial,Helvetica size=-2>Figure 
1</FONT></B>
      <P>
      <DIV align=center>
      <TABLE cellSpacing=0 cellPadding=0 width=600 border=0>
        <TBODY>
        <TR>
          <TD><IMG id=Picture69 height=448 alt="Figure 1" 
            src="Case History 62_files/cashis62fig1.jpg" width=600 
        border=0></TD></TR></TBODY></TABLE></DIV>
      <P><FONT face=Verdana,Tahoma,Arial,Helvetica size=-1>A major problem was 
      revealed by this test:&nbsp; The valve was some five times 
      oversized!&nbsp; Generally one can tolerate a valve that is up to twice 
      oversized, but five times oversized can only lead to problems.
      <P>The problems that can be encountered with oversized valves were 
      discussed in a fairly recent loop signature dealing with process 
      gain.&nbsp; One of the problems is that extremely small proportional gains 
      will be needed in the controllers on fast loops like flow loops.&nbsp; In 
      this case, to control the flow (when a cascade secondary control was 
      inserted -see later), the gain in controller was tuned to a tiny value of 
      0.03! (Many controller manufacturers limit their low-end range of gain to 
      0.1).&nbsp;&nbsp; However the main problem with the oversized valve in 
      this case, was that in the normal control region the valve had to often 
      operate fairly close to seat.&nbsp; Figure 1 shows how unstable the valve 
      is at an opening of 15%.&nbsp;&nbsp;&nbsp; (Control valves do not work 
      well near the seat.&nbsp; As a rough rule of thumb, under normal control 
      conditions, the valve should be operating above 20%.)
      <P>In addition, a second problem was uncovered by the flow test, and that 
      was the valve suffered from close to 3% hysteresis.&nbsp; (Maximum 
      acceptable hysteresis on a high quality control valve is about 1%). 
      <BR>These two problems were not easily apparent before tests were done 
      using the flow as an indicator of valve performance.&nbsp; It would have 
      been very much more difficult to pick them up by testing the temperature 
      response directly from valve movement. 
      <P>With severe valve problems like these, good control could never be 
      achieved if the temperature controller was coupled directly to the valve, 
      so it was decided to immediately implement a secondary cascade flow 
      controller into the temperature control system.&nbsp; The faster flow 
      controller would be able to deal with the valve problems very much more 
      quickly, and ensure the correct volume of water was supplied as required 
      by the temperature controller for the cooling.
      <P>Figure 2 shows a tuning test performed for the temperature 
      controller.&nbsp; </FONT>
      <P><B><FONT face=Verdana,Tahoma,Arial,Helvetica size=-2>Figure 
2</FONT></B>
      <P>
      <DIV align=center>
      <TABLE cellSpacing=0 cellPadding=0 width=600 border=0>
        <TBODY>
        <TR>
          <TD><IMG id=Picture70 height=447 alt="Figure 2" 
            src="Case History 62_files/cashis62fig2.jpg" width=600 
        border=0></TD></TR></TBODY></TABLE></DIV>
      <P><FONT face=Verdana,Tahoma,Arial,Helvetica size=-1>The steps on water 
      flow (which was in automatic) were following step changes made on the 
      output of the temperature controller, which was in manual.&nbsp; The test 
      uncovered yet another problem, namely that the temperature transmitter was 
      some 10 times overspanned, which again doesn't make for good 
      control.&nbsp; 
      <P>The effects on the final control of these various problems can be seen 
      in the following two figures, which are taken from a final closed loop 
      test on the final system.&nbsp; Figure 3 shows a section of the test where 
      the temperature controller is calling for less cooling water, and the flow 
      controller is trying to reverse the valve.&nbsp; </FONT>
      <P><B><FONT face=Verdana,Tahoma,Arial,Helvetica size=-2>Figure 
3</FONT></B>
      <P>
      <DIV align=center>
      <TABLE cellSpacing=0 cellPadding=0 width=600 border=0>
        <TBODY>
        <TR>
          <TD><IMG id=Picture71 height=447 alt="Figure 3" 
            src="Case History 62_files/cashis62fig3.jpg" width=600 
        border=0></TD></TR></TBODY></TABLE></DIV>
      <P><FONT face=Verdana,Tahoma,Arial,Helvetica size=-1>As can be seen it 
      took some 40 seconds before the oversized valve could actually start 
      moving.&nbsp; This was due to the 3% hysteresis in the valve, as the 
      output of the controller has to integrate right through the hysteresis 
      band every time the valve has to be reversed.&nbsp; Without the cascade 
      loop the temperature controller with its much slower integral setting 
      would have probably taken well over half an hour to get the valve to 
      reverse.
      <P>Another interesting problem revealed by the test is shown in Figure 
      4.&nbsp; </FONT>
      <P><B><FONT face=Verdana,Tahoma,Arial,Helvetica size=-2>Figure 
4</FONT></B>
      <P>
      <DIV align=center>
      <TABLE cellSpacing=0 cellPadding=0 width=600 border=0>
        <TBODY>
        <TR>
          <TD><IMG id=Picture72 height=448 alt="Figure 4" 
            src="Case History 62_files/cashis62fig4.jpg" width=600 
        border=0></TD></TR></TBODY></TABLE></DIV>
      <P><FONT face=Verdana,Tahoma,Arial,Helvetica size=-1>The temperature 
      setpoint had been stepped up.&nbsp; The temperature controller's output 
      immediately asked the flow controller for 100% maximum flow.&nbsp; The 
      flow moved up to just under 100% of the measurement range and stayed there 
      - probably because of the calibration of the flow transmitter.&nbsp; 
      However it did not quite get to 100% where the setpoint was.&nbsp; The PD 
      (controller output) at maximum flow was about 40%.<BR>Therefore the flow 
      controller's integral action still carried on ramping the valve even 
      further open.&nbsp; This could have continued until the valve had reached 
      full opening at a PD of 100%, at which stage the controller's anti-reset 
      windup would have switched on and frozen further integral action.
      <P>Now, when the temperature reached setpoint, the temperature controller 
      would instruct the flow controller to cut back on the flow.&nbsp; However 
      the flow controller could not have even start reducing the flow this until 
      the valve opening had been reduced all the way back to 40%.&nbsp; This 
      could cause severe overshoots in the temperature.&nbsp; Again it would 
      have had devastating effects without the cascade control.
      <P>This is another nice example of a potential severe problem that can 
      occur with oversized valves.&nbsp; It is of interest to note that it is 
      very good practice on every oversized valve to insert a high limit on the 
      controller's output at the point where further valve opening can produce 
      no further increase in flow.&nbsp; This will prevent the valve moving into 
      a region where it can have no further effect on the process and also 
      prevents the integral winding up.
      <P>The problems encountered in this apparently simple temperature control 
      loop are good illustrations of the various problems that can and do occur 
      in control loops, and of which nobody in the plant is aware, because they 
      have not had the training to analyse such problems.
      <P></FONT><A 
      href="index.html"><FONT 
      face=Verdana,Tahoma,Arial,Helvetica size=-1>Index to articles</FONT></A>
      <P><B><FONT face=Verdana,Tahoma,Arial,Helvetica color=#000000 
      size=-2>Michael Brown is a specialist in control loop optimisation, with 
      many years of experience in process control instrumentation. His main 
      activities are consulting, and teaching practical control loop analysis 
      and optimisation. He gives training courses which can be held in clients' 
      plants, where students can have the added benefit of practising on live 
      loops. His work takes him to plants all over South Africa, and also to 
      other countries. He can be contacted at: <BR>Tel (011) 486-0567<BR>Fax 
      (011) 646-2385<BR>E-Mail: </FONT><FONT face=Verdana,Tahoma,Arial,Helvetica 
      size=-2></FONT></B><A href="mailto:michael.brown@pixie.co.za"><B><FONT 
      face=Verdana,Tahoma,Arial,Helvetica 
      size=-2>michael.brown@pixie.co.za</FONT></B></A><BR>&nbsp;</P></TD>
    <TD></TD></TR>
  <TR vAlign=top align=left>
    <TD colSpan=7 height=21></TD></TR>
  <TR vAlign=top align=left>
    <TD height=19></TD>
    <TD width=732 colSpan=2>
      <TABLE id=NavigationBar1 cellSpacing=0 cellPadding=1 width=732 border=0>
        <TBODY>
        <TR vAlign=top align=left>
          <TD width=120><A onmouseover="F_roll('NavigationButton199',1)" 
            onmouseout="F_roll('NavigationButton199',0)" 
            href="http://www.controlloop.co.za/default.htm"><IMG 
            id=NavigationButton199 height=19 alt=Home 
            src="Case History 62_files/Home_NGUIButton.gif" width=120 
            onload="F_loadRollover(this,'Home_NRGUIButtonOver.GIF')" border=0 
            name=NavigationButton199></A></TD>
          <TD width=120><A onmouseover="F_roll('NavigationButton200',1)" 
            onmouseout="F_roll('NavigationButton200',0)" 
            href="http://www.controlloop.co.za/Training/training.htm"><IMG 
            id=NavigationButton200 height=19 alt=Training 
            src="Case History 62_files/Training_NGUIButton.gif" width=120 
            onload="F_loadRollover(this,'Training_NRGUIButtonOver.GIF')" 
            border=0 name=NavigationButton200></A></TD>
          <TD width=120><A onmouseover="F_roll('NavigationButton201',1)" 
            onmouseout="F_roll('NavigationButton201',0)" 
            href="http://www.controlloop.co.za/Consulting/consulting.htm"><IMG 
            id=NavigationButton201 height=19 alt=Consulting 
            src="Case History 62_files/Consulting_NGUIButton.gif" width=120 
            onload="F_loadRollover(this,'Consulting_NRGUIButtonOver.GIF')" 
            border=0 name=NavigationButton201></A></TD>
          <TD width=120><A onmouseover="F_roll('NavigationButton202',1)" 
            onmouseout="F_roll('NavigationButton202',0)" 
            href="http://www.controlloop.co.za/Protuner/protuner.htm"><IMG 
            id=NavigationButton202 height=19 alt=Protuner 
            src="Case History 62_files/Protuner_NGUIButton.gif" width=120 
            onload="F_loadRollover(this,'Protuner_NRGUIButtonOver.GIF')" 
            border=0 name=NavigationButton202></A></TD>
          <TD width=120><A onmouseover="F_roll('NavigationButton203',1)" 
            onmouseout="F_roll('NavigationButton203',0)" 
            href="http://www.controlloop.co.za/Contact_us/contact_us.htm"><IMG 
            id=NavigationButton203 height=19 alt="Contact us" 
            src="Case History 62_files/Contact_us_NGUIButton.gif" width=120 
            onload="F_loadRollover(this,'Contact_us_NRGUIButtonOver.GIF')" 
            border=0 name=NavigationButton203></A></TD>
          <TD width=120 height=19><A 
            onmouseover="F_roll('NavigationButton204',1)" 
            onmouseout="F_roll('NavigationButton204',0)" 
            href="http://www.controlloop.co.za/Articles/articles.htm"><IMG 
            id=NavigationButton204 height=19 alt=Articles 
            src="Case History 62_files/Articles_HGUIButtonOn.gif" width=120 
            onload="F_loadRollover(this,'Articles_HRGUIButtonOnOver.GIF')" 
            border=0 name=NavigationButton204></A></TD></TR></TBODY></TABLE><!--WEBBOT bot="HTMLMarkup" startspan ALT="Site Meter" --><A 
      href="http://sm6.sitemeter.com/stats.asp?site=sm6controleng" 
      target=_top><IMG alt="Site Meter" src="Case History 62_files/meter.gif" 
      border=0></A> <!--WEBBOT bot="HTMLMarkup" Endspan --></TD>
    <TD colSpan=4></TD></TR></TBODY></TABLE></CENTER></BODY></HTML>
